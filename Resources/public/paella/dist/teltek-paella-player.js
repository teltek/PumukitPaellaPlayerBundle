/*! For license information please see teltek-paella-player.js.LICENSE.txt */
(()=>{var t={465:(t,e,n)=>{var r;self,r=t=>(()=>{var e={95:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var r=n(995),o={},i=n(456);i.keys().forEach((function(t){var e=/([a-z-]+[A-Z_]+)\.json/.exec(t),n=e&&e[1];if(n){var r=i(t);o[n]=r;var a=n.substring(0,2);a in o||(o[a]=r)}}));const a=o;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function l(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(p,t);var e,n,r,o,i,s,h=(i=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(i);if(s){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return l(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),h.apply(this,arguments)}return e=p,n=[{key:"moduleName",get:function(){return"paella-basic-plugins"}},{key:"moduleVersion",get:function(){return"1.38.0"}},{key:"getDictionaries",value:(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a);case 1:case"end":return t.stop()}}),t)})),o=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){c(i,n,o,a,s,"next",t)}function s(t){c(i,n,o,a,s,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),p}(r.PluginModule)},252:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(995),o=n(998),i=n.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t,e,n){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},u(t,e,n||t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(g,t);var e,n,r,o,a,s,p,d,y,v=(d=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(d);if(y){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),v.apply(this,arguments)}return e=g,n=[{key:"getAriaLabel",value:function(){return"Select the active audio track"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"dynamicWidth",get:function(){return!1===this.config.showIcon}},{key:"titleSize",get:function(){return!1===this.config.showIcon?"large":"small"}},{key:"isEnabled",value:(p=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(h(g.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.player.videoContainer.streamProvider.getAudioTracks();case 6:return e=t.sent,t.abrupt("return",(null==e?void 0:e.length)>1);case 8:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"load",value:(s=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!1===this.config.showIcon||(this.icon=this.player.getCustomPluginIcon(this.name,"screenIcon")||i()),t.next=3,this.player.videoContainer.streamProvider.getAudioTracks();case 3:return this._audioTracks=t.sent,t.next=6,this.updateAudioLabel();case 6:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getMenu",value:(a=c(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player.videoContainer.streamProvider.currentAudioTrack,n=this._audioTracks.map((function(t){return{id:t.id,title:r.player.translate(t.name)||r.player.translate(t.language),data:t,selected:t===e}})),t.abrupt("return",n);case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"updateAudioLabel",value:(o=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.player.videoContainer.streamProvider.currentAudioTrack,this.title=e.language;case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"itemSelected",value:(r=c(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.streamProvider.setCurrentAudioTrack(e.data);case 2:this.updateAudioLabel();case 3:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),g}(r.MenuButtonPlugin)},925:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(995),o=n(842),i=n.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t,e,n){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},u(t,e,n||t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(y,t);var e,n,r,o,a,s,p,d=(s=y,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(s);if(p){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),d.apply(this,arguments)}return e=y,n=[{key:"getAriaLabel",value:function(){return this.player.translate("Backward $1 seconds",[this.time])}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(a=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(h(y.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,this.time=this.config.time||30,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(o=c(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=void 0===this.config.suffix||this.config.suffix,this.suffix=e?"s":"",this.icon=this.player.getCustomPluginIcon(this.name,"backwardIcon")||i(),setTimeout((function(){Array.from(n.iconElement.getElementsByClassName("time-text")).forEach((function(t){t.innerHTML=n.time+n.suffix}))}),100);case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"action",value:(r=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.currentTime();case 2:e=t.sent,this.player.videoContainer.setCurrentTime(e-this.time);case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),y}(r.ButtonPlugin)},460:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var r=n(995),o=n(963),i=n.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(d,t);var e,n,o,a,s,h,p=(s=d,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(s);if(h){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return l(this,t)});function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),p.apply(this,arguments)}return e=d,n=[{key:"getAriaLabel",value:function(){return"Select captions"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"load",value:(a=c(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"captionsIcon")||i(),this._captionsCanvas=this.player.captionsCanvas,this._selected=null,0==this._captionsCanvas.captions.length&&this.disable(),(0,r.bindEvent)(this.player,r.Events.CAPTIONS_CHANGED,(function(){e._captionsCanvas.captions.length>0&&e.enable()})),(0,r.bindEvent)(this.player,r.Events.CAPTIONS_ENABLED,(function(t){e._selected=t.language})),(0,r.bindEvent)(this.player,r.Events.CAPTIONS_DISABLED,(function(){e._selected=null}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getMenu",value:(o=c(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{id:-1,title:"Disabled",index:-1,selected:null===this._selected}],this._captionsCanvas.captions.forEach((function(t,r){e.push({id:t.language,title:t.label,index:r,selected:t.language===n._selected})})),t.abrupt("return",e);case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"buttonType",get:function(){return"radio"}},{key:"itemSelected",value:function(t){-1===t.index?this._captionsCanvas.disableCaptions():this._captionsCanvas.enableCaptions({index:t.index}),r.PopUp.HideAllPopUps(!1)}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),d}(r.MenuButtonPlugin)},263:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(995);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)}))}}function s(t,e,n){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},s(t,e,n||t)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,t);var e,n,o,i,f,h,p=(f=d,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(f);if(h){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),p.apply(this,arguments)}return e=d,n=[{key:"isEnabled",value:(i=a(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(l(d.prototype),"isEnabled",this).call(this);case 2:return r=t.sent,t.abrupt("return",r&&(null===(e=null===(n=this.player.videoManifest.metadata)||void 0===n?void 0:n.visibleTimeLine)||void 0===e||e));case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"load",value:(o=a(regeneratorRuntime.mark((function t(){var e,n,o,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.duration();case 2:e=t.sent,n=void 0===this.config.showTotal||this.config.showTotal,(o=function(t){var o=r.utils.secondsToTime(t);i.title=n?"".concat(o," / ").concat(r.utils.secondsToTime(e)):o})(0),this.player.bindEvent(r.Events.TIMEUPDATE,(function(t){var e=t.currentTime;o(e)}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"interactive",get:function(){return!1}},{key:"dynamicWidth",get:function(){return!0}},{key:"titleSize",get:function(){return this.config.textSize||"medium"}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),d}(r.ButtonPlugin)},61:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var r=n(995),o=n(379),i=n.n(o),a=n(538);i()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var s=n(549),c=n.n(s);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},h(t,e,n||t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(v,t);var e,n,o,i,a,s,u,l=(s=v,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(s);if(u){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),l.apply(this,arguments)}return e=v,n=[{key:"isEnabled",value:(a=f(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(y(v.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,this._downloads={},e&&this.player.videoManifest.streams.forEach((function(t){var e=[],r=t.sources.mp4;r&&r.forEach((function(n){var r,o;e.push({id:"".concat(t.content,"_").concat((null===(r=n.res)||void 0===r?void 0:r.w)||0,"_").concat((null===(o=n.res)||void 0===o?void 0:o.h)||0),src:n.src,res:n.res||{w:0,h:0},mimetype:n.mimetype})})),e.length>0&&(n._downloads[t.content]=e)})),t.abrupt("return",Object.keys(this._downloads).length>0);case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(i=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"downloadIcon")||c();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getContent",value:(o=f(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,r.createElementWithHtmlText)('\n          <div class="downloads-plugin">\n              <h4>'.concat((0,r.translate)("Available downloads"),"</h4>\n          </div>")),Object.keys(this._downloads).forEach((function(t){var o=(0,r.createElementWithHtmlText)('\n          <div class="downloadStream">\n            <div class="title">'.concat(t,"</div>\n          </div>"),e),i=(0,r.createElementWithHtmlText)("<ul></ul>",o);n._downloads[t].forEach((function(t){var e="".concat(t.res.w,"x").concat(t.res.h);(0,r.createElementWithHtmlText)('\n                  <li>\n                    <a href="'.concat(t.src,'" target="_blank">\n                      <span class="mimetype">[').concat(t.mimetype,']</span><span class="res">').concat(e,"</span>\n                    </a>\n                  </li>\n              "),i)}))})),t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.PopUpButtonPlugin)},800:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(995),o=n(770),i=n.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(p,t);var e,n,r,o,a,f,h=(a=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(a);if(f){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),h.apply(this,arguments)}return e=p,n=[{key:"icon",get:function(){return i()}},{key:"action",value:(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:alert("Test external plugin");case 1:case"end":return t.stop()}}),t)})),o=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){s(i,n,o,a,c,"next",t)}function c(t){s(i,n,o,a,c,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),p}(r.ButtonPlugin)},623:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var r=n(995),o=n(379),i=n.n(o),a=n(264);i()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var s=n(283),c=n.n(s);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(l,t);var e,n,o,i,a,s,u=(a=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(a);if(s){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),u.apply(this,arguments)}return e=l,n=[{key:"getContent",value:(i=f(regeneratorRuntime.mark((function t(){var e,n,o,i,a,s,c,u=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player.translate("Search"),n=(0,r.createElementWithHtmlText)('<div class="captions-search-container"></div>'),this._resultsContainer=(0,r.createElementWithHtmlText)('<div class="search-results"></div>',n),(o=(0,r.createElementWithHtmlText)('<input type="text" placeholder="'.concat(e,'"/>'),n)).addEventListener("click",(function(t){t.stopPropagation()})),i=navigator.language.substring(0,2),a=function(t){return u.player.captionsCanvas.currentCaptions?t===u.player.captionsCanvas.currentCaptions.language:t===i},s=function(){var t=null;u.captions.some((function(e){a(e.language)&&(t=e)})),t||(t=u.captions[0]),u._cueElements=[],t&&t.cues.forEach((function(t){var e=(0,r.createElementWithHtmlText)('<p class="result-item">'.concat(t.startString,": ").concat(t.captions[0],"</p>"),u._resultsContainer);e._cue=t,e.addEventListener("click",function(){var t=f(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target._cue.start,t.next=3,u.player.videoContainer.setCurrentTime(n);case 3:e.stopPropagation();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),u._cueElements.push(e)}))},s(),c=null,o.addEventListener("keyup",(function(t){c&&clearTimeout(c),u._resultsContainer.innerHTML="";var e=u.player.getLanguage();c=setTimeout((function(){var t={};for(var n in u.captions.forEach((function(e){e.cues.forEach((function(n){n.captions.find((function(t){return new RegExp(o.value,"i").test(t)}))&&(t[n.startString]=t[n.startString]||{cue:n,text:{}},t[n.startString].text[e.language]=n.captions)}))})),u._cueElements=[],t){var i=t[n],a=i.text[e]||i.text[Object.keys(i.text)[0]],l=(0,r.createElementWithHtmlText)('<p class="result-item">'.concat(i.cue.startString,": ").concat(a[0],"</p>"),u._resultsContainer);l._cue=i.cue,l.addEventListener("click",function(){var t=f(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target._cue.start,t.next=3,u.player.videoContainer.setCurrentTime(n);case 3:e.stopPropagation();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),u._cueElements.push(l)}0===Object.keys(t).length&&""!==o.value?(0,r.createElementWithHtmlText)("<p>".concat(u.player.translate("No results found"),"</p>"),u._resultsContainer):""===o.value&&s(),c=null}),1e3),t.stopPropagation()})),this._timeupdateEvent||(this._timeupdateEvent=function(){var t=f(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""===o.value&&null!==(n=u._cueElements)&&void 0!==n&&n.length&&u._cueElements.forEach((function(t){if(t._cue.start<=e.currentTime&&t._cue.end>=e.currentTime){t.classList.add("current");var n=t.offsetTop-u._resultsContainer.scrollTop;(n<0||n>u._resultsContainer.clientHeight)&&u._resultsContainer.scrollTo({top:t.offsetTop-20})}else t.classList.remove("current")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.player.bindEvent(r.Events.TIMEUPDATE,this._timeupdateEvent,!0)),setTimeout((function(){return u.refreshContent=!0}),10),t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"popUpType",get:function(){return"no-modal"}},{key:"captions",get:function(){return this.player.captionsCanvas.captions}},{key:"customPopUpClass",get:function(){return"find-captions"}},{key:"load",value:(o=f(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"findCaptionsIcon")||c(),this._captionsCanvas=this.player.captionsCanvas,0===this.captions.length&&this.disable(),(0,r.bindEvent)(this.player,r.Events.CAPTIONS_CHANGED,(function(){e.captions.length>0&&e.enable()}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),l}(r.PopUpButtonPlugin)},108:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(995),o=n(271),i=n.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t,e,n){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},u(t,e,n||t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(y,t);var e,n,r,o,a,s,p,d=(s=y,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(s);if(p){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),d.apply(this,arguments)}return e=y,n=[{key:"getAriaLabel",value:function(){return this.player.translate("Forward $1 seconds",[this.config.time])}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(a=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(h(y.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,this.time=this.config.time||30,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(o=c(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=void 0===this.config.suffix||this.config.suffix,this.suffix=e?"s":"",this.icon=this.player.getCustomPluginIcon(this.name,"forwardIcon")||i(),setTimeout((function(){Array.from(n.iconElement.getElementsByClassName("time-text")).forEach((function(t){t.innerHTML=n.time+n.suffix}))}),100);case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"action",value:(r=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.currentTime();case 2:e=t.sent,this.player.videoContainer.setCurrentTime(e+this.time);case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),y}(r.ButtonPlugin)},440:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(995),o=n(643),i=n.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t,e,n){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},u(t,e,n||t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}n(887);var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(v,t);var e,n,o,a,s,p,d,y=(p=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(p);if(d){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,n=[{key:"getAriaLabel",value:function(){return"Toggle fullscreen"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(s=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(h(v.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&this.player.isFullScreenSupported());case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(a=c(regeneratorRuntime.mark((function t(){var e,n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.player.getCustomPluginIcon(this.name,"fullscreenIcon")||i(),n=this.player.getCustomPluginIcon(this.name,"windowedIcon")||i(),this.icon=e,(0,r.bindEvent)(this.player,r.Events.FULLSCREEN_CHANGED,(function(t){t.status?o.icon=n:o.icon=e}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"action",value:(o=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.player.isFullscreen){t.next=5;break}return t.next=3,this.player.exitFullscreen();case 3:t.next=7;break;case 5:return t.next=7,this.player.enterFullscreen();case 7:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.ButtonPlugin)},234:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var r=n(995),o=n(812),i=n.n(o),a=n(379),s=n.n(a),c=n(754);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},h(t,e,n||t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}s()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(v,t);var e,n,o,a,s,c,u,l=(c=v,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(c);if(u){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),l.apply(this,arguments)}return e=v,n=[{key:"isEnabled",value:(s=f(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(y(v.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&this.player.getShortcuts().length>0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(a=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"keyboardIcon")||i();case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"popUpType",get:function(){return"no-modal"}},{key:"getKeyText",value:function(t){var e=this.player.translate(t.keyCode);return t.keyModifiers.altKey&&(e+=" + Alt"),t.keyModifiers.ctrlKey&&(e+=" + Ctrl"),t.keyModifiers.shiftKey&&(e+=" + Shift"),e}},{key:"menuTitle",get:function(){return this.config.menuTitle||"Keyboard shortcuts"}},{key:"getContent",value:(o=f(regeneratorRuntime.mark((function t(){var e,n,o,i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i in e=(0,r.createElementWithHtmlText)('\n          <div class="keyboardshortcutshelp-plugin"></div>\n        '),n={},this.player.getShortcuts().forEach((function(t){var e=a.player.translate(t.description);n[e]?n[e].push(t):n[e]=[t]})),o=function(t){var o=n[t],i="";o.forEach((function(t){""!==i&&(i+=" / "),i+=a.player.translate(a.getKeyText(t))}));var s=(0,r.createElementWithHtmlText)('\n\t\t\t<div class="row">\n\t\t\t\t<div class="description"> '.concat(t,' </div>\n\t\t\t\t<div class="key"> ').concat(i,"</div>\n            </div>\n\t\t\t"));e.appendChild(s)},n)o(i);return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.PopUpButtonPlugin)},239:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(995),o=n(291),i=n.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t,e,n){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},u(t,e,n||t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(v,t);var e,n,o,a,s,p,d,y=(p=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(p);if(d){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,n=[{key:"getAriaLabel",value:function(){return"Video layout"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(s=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(h(v.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.abrupt("return",this.player.videoContainer.validContentSettings.length>1);case 5:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(a=c(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"layoutIcon")||i(),this._showIcons=null===(e=this.config.showIcons)||void 0===e||e;case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getMenu",value:(o=c(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player.videoContainer.validContentSettings,t.t0=Promise,t.next=4,e.map(function(){var t=c(regeneratorRuntime.mark((function t(e){var o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.utils.joinPath([n.player.configResourcesUrl,e.icon]),t.t1=n._showIcons,!t.t1){t.next=6;break}return t.next=5,r.utils.loadSvgIcon(o);case 5:t.t1=t.sent;case 6:if(t.t0=t.t1,t.t0){t.next=9;break}t.t0=null;case 9:return i=t.t0,t.abrupt("return",{id:e.id,title:e.title,icon:i,selected:n.player.videoContainer.layoutId===e.id});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:return t.t1=t.sent,t.abrupt("return",t.t0.all.call(t.t0,t.t1));case 6:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"showTitles",get:function(){return!1}},{key:"buttonType",get:function(){return"radio"}},{key:"itemSelected",value:function(t){this.player.videoContainer.setLayout(t.id)}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.MenuButtonPlugin)},592:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,c,"next",t)}function c(t){o(a,r,i,s,c,"throw",t)}s(void 0)}))}}function a(t,e,n){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},a(t,e,n||t)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function l(t,e,n,r){var o="left"===this._side?this._margin:"center"===this._side?e/2:e-this._margin,i="left"===this._side?12:"center"===this._side?0:-12,a="center"===this._side?-40:0;t.fillStyle=this._textColor,t.font="11px Arial",t.textAlign=this._side,t.fillText("Live stream",o+i,n/2+3),t.beginPath(),t.fillStyle=this._circleColor,t.arc(o+a,n/2,4,0,2*Math.PI,!1),t.fill()}n.r(e),n.d(e,{default:()=>f});var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(d,t);var e,n,r,o,f,h,p=(f=d,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(f);if(h){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),p.apply(this,arguments)}return e=d,n=[{key:"minHeight",get:function(){return 20}},{key:"minHeightHover",get:function(){return 20}},{key:"isEnabled",value:(o=i(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(u(d.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&this.player.videoContainer.isLiveStream);case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"load",value:(r=i(regeneratorRuntime.mark((function t(){var e,n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._layer=null!==(e=this.config.layer)&&void 0!==e?e:"foreground",this._side=null!==(n=this.config.side)&&void 0!==n?n:"right",this._margin=null!==(r=this.config.margin)&&void 0!==r?r:50,this._textColor=null!==(o=this.config.textColor)&&void 0!==o?o:"white",this._circleColor=null!==(i=this.config.circleColor)&&void 0!==i?i:"red",-1!==["foreground","background"].indexOf(this._layer)){t.next=7;break}throw new Error("Invalid layer set in plugin 'es.upv.paella.liveStreamingPlugin'. Valid values are 'foreground' or 'background'");case 7:if(-1!==["left","center","right"].indexOf(this._side)){t.next=9;break}throw new Error("Invalid side set in plugin 'es.upv.paella.liveStreamingPlugin'. Valid values are 'left', 'center' or 'right'");case 9:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"drawForeground",value:function(t,e,n,r){"foreground"===this._layer&&l.apply(this,[t,e,n,r])}},{key:"drawBackground",value:function(t,e,n,r){"background"===this._layer&&l.apply(this,[t,e,n,r])}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),d}(n(995).ProgressIndicatorPlugin)},540:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var r=n(995),o=n(998),i=n.n(o),a=n(379),s=n.n(a),c=n(473);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}s()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(y,t);var e,n,o,a,s,c,u,l=(c=y,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(c);if(u){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),l.apply(this,arguments)}return e=y,n=[{key:"getAriaLabel",value:function(){return"Playback rate"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"dynamicWidth",get:function(){return!1===this.config.showIcon}},{key:"load",value:(s=f(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!1===this.config.showIcon||(this.icon=this.player.getCustomPluginIcon(this.name,"screenIcon")||i()),t.next=3,this.player.videoContainer.playbackRate();case 3:e=t.sent,this.title="".concat(e,"x"),this._rates=this.config.rates||[.5,.75,1,1.25,1.5,2],this.player.bindEvent(r.Events.PLAYBACK_RATE_CHANGED,(function(t){n.title=t.newPlaybackRate+"x"}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getMenu",value:(a=f(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.playbackRate();case 2:return e=t.sent,n=function(t){return{id:t,title:"".concat(t,"x"),selected:t==e}},t.abrupt("return",this._rates.map((function(t){return n(t)})));case 5:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"titleSize",get:function(){return!1===this.config.showIcon?"large":"small"}},{key:"itemSelected",value:(o=f(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.setPlaybackRate(e.id);case 2:this.title=e.title;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"buttonType",get:function(){return"radio"}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),y}(r.MenuButtonPlugin)},135:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(995),o=n(998),i=n.n(o);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t,e,n){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},u(t,e,n||t)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(g,t);var e,n,r,o,a,s,p,d,y,v=(d=g,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(d);if(y){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),v.apply(this,arguments)}return e=g,n=[{key:"getAriaLabel",value:function(){return"Video quality"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"dynamicWidth",get:function(){return!1===this.config.showIcon}},{key:"titleSize",get:function(){return!1===this.config.showIcon?"large":"small"}},{key:"isEnabled",value:(p=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(h(g.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.player.videoContainer.streamProvider.getQualities();case 6:return this._qualities=t.sent,t.abrupt("return",this._qualities&&this._qualities.length>1);case 8:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"load",value:(s=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!1===this.config.showIcon||(this.icon=this.player.getCustomPluginIcon("es.upv.paella.qualitySelector","screenIcon")||i()),t.next=3,this.updateQualityLabel();case 3:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getMenu",value:(a=c(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.streamProvider.getCurrentQuality();case 2:return e=t.sent,n=this._qualities.map((function(t){var n=t.index===e.index;return{id:t.index,title:t.label,width:t.res.w,height:t.res.h,data:t,selected:n}})),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"updateQualityLabel",value:(o=c(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=function(){var t=c(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.player.videoContainer.streamProvider.getCurrentQuality();case 2:(r=t.sent)?n.title=r.shortLabel:setTimeout((function(){return e()}),500);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e();case 2:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"itemSelected",value:(r=c(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.streamProvider.setQuality(e.data);case 2:this.updateQualityLabel();case 3:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"buttonType",get:function(){return"radio"}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),g}(r.MenuButtonPlugin)},459:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>x});var r=n(995),o=n(506),i=n.n(o),a=n(704),s=n.n(a),c=n(978),u=n.n(c),l=n(928),f=n.n(l),h=n(379),p=n.n(h),d=n(405);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}function g(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function b(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){b(i,r,o,a,s,"next",t)}function s(t){b(i,r,o,a,s,"throw",t)}a(void 0)}))}}function A(){var t=this;this.sliderContainer.innerHTML="";var e=(0,r.createElementWithHtmlText)('\n        <div class="volume-slider">\n            <div class="volume-slider-fill"></div>\n            <div class="volume-slider-empty"></div>\n        </div>',this.sliderContainer),n=!1,o=e.getElementsByClassName("volume-slider-fill")[0],i=e.getElementsByClassName("volume-slider-empty")[0];o.style.width="50%",i.style.width="50%",this._sliderFill=o,this._sliderEmpty=i;var a=function(){var n=w(regeneratorRuntime.mark((function n(r){var o,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.offsetWidth,(i=100*r/o)<4&&(i=0),i>96&&(i=100),i/=100,n.next=8,t.player.videoContainer.setVolume(i);case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();e.addEventListener("mousedown",function(){var t=w(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!0,t.next=3,a(e.offsetX);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.addEventListener("mousemove",function(){var t=w(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,a(e.offsetX);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.addEventListener("mouseleave",(function(){n=!1})),e.addEventListener("mouseup",(function(){n=!1})),this.volumeAlwaysVisible||(this.sliderContainer.style.display="none"),(0,r.bindEvent)(this.player,r.Events.VOLUME_CHANGED,(function(e){var n=e.volume;t.updateIcon(n)}))}p()(d.Z,{insert:"head",singleton:!1}),d.Z.locals;var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(x,t);var e,n,r,o,a,c,l,h,p,d,y,b=(d=x,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(d);if(y){var n=m(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return g(this,t)});function x(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,x),b.apply(this,arguments)}return e=x,n=[{key:"getAriaLabel",value:function(){return"Volume"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"className",get:function(){return"volume-button"}},{key:"updateIcon",value:(p=w(regeneratorRuntime.mark((function t(e){var n,r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.player.getCustomPluginIcon(this.name,"volumeHighIcon")||i(),r=this.player.getCustomPluginIcon(this.name,"volumeMidIcon")||s(),o=this.player.getCustomPluginIcon(this.name,"volumeLowIcon")||u(),a=this.player.getCustomPluginIcon(this.name,"volumeMuteIcon")||f(),t.t0=!0,t.next=t.t0===(0===e)?7:t.t0===(e>0&&e<=.3)?9:t.t0===(e>.3&&e<=.6)?11:t.t0===e>.6?13:15;break;case 7:return this.icon=a,t.abrupt("break",16);case 9:return this.icon=o,t.abrupt("break",16);case 11:return this.icon=r,t.abrupt("break",16);case 13:return this.icon=n,t.abrupt("break",16);case 15:this.icon=n;case 16:this._sliderFill&&(this._sliderFill.style.width="".concat(100*e,"px")),e>.95?this._sliderFill.classList.add("fill-100"):this._sliderFill.classList.remove("fill-100"),this._sliderEmpty&&(this._sliderEmpty.style.width="".concat(100-100*e,"px")),e<.05?this._sliderEmpty.classList.add("empty-100"):this._sliderEmpty.classList.remove("empty-100");case 20:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"sliderContainer",get:function(){return"left"===this.config.side?this.rightArea:this.leftArea}},{key:"load",value:(h=w(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.showContainerOnFocus=null===(e=this.config.showVolumeOnFocus)||void 0===e||e,this.volumeAlwaysVisible=null!==(n=this.config.volumeAlwaysVisible)&&void 0!==n&&n,t.next=4,this.player.videoContainer.volume();case 4:this._prevVolume=t.sent,A.apply(this),this.updateIcon(this._prevVolume);case 7:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"showSideContainer",value:function(){this.volumeAlwaysVisible||(this.sliderContainer.style.display="inline-block")}},{key:"hideSideContainer",value:function(){this.volumeAlwaysVisible||(this.sliderContainer.style.display="none")}},{key:"mouseOver",value:(l=w(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e===this.container&&this.showSideContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"mouseOut",value:(c=w(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e===this.container&&this.hideSideContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"focusIn",value:(a=w(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showContainerOnFocus&&this.showSideContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"focusOut",value:(o=w(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showContainerOnFocus&&this.hideSideContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"action",value:(r=w(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.volume();case 2:return e=t.sent,n=0===e&&0===this._prevVolume?1:0===e&&this._prevVolume>0?this._prevVolume:0,t.next=7,this.player.videoContainer.setVolume(n);case 7:this._prevVolume=e;case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),x}(r.ButtonPlugin)},538:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"\n.downloads-plugin {\n    font-family: sans-serif;\n    min-width: 300px;\n}\n\n.downloads-plugin h4 {\n    margin: 0 0 10px 0;\n    border-bottom: 1px lightgrey solid;\n}\n\n.downloads-plugin .downloadStream {    \n    margin-left: 5px;\n}\n\n.downloads-plugin .downloadStream ul {\n    list-style: none;\n    max-height: 500px;\n    overflow: auto;\n    padding: 0px;\n    margin: 0 0 10px 10px;\n}\n\n.downloads-plugin .downloadStream .mimetype {\n    color: lightcoral;\n    margin-right: 10px;\n}\n\n.downloads-plugin .downloadStream .res {\n    color: lightsalmon;\n}\n\n\n.downloads-plugin a {\n    color: lightsalmon;\n}\n\n.downloads-plugin a:hover {\n    color: salmon;\n}\n\n","",{version:3,sources:["webpack://./src/css/DownloadsPlugin.css"],names:[],mappings:";AACA;IACI,uBAAuB;IACvB,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,kCAAkC;AACtC;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;IAChB,iBAAiB;IACjB,cAAc;IACd,YAAY;IACZ,qBAAqB;AACzB;;AAEA;IACI,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;AACtB;;;AAGA;IACI,kBAAkB;AACtB;;AAEA;IACI,aAAa;AACjB",sourcesContent:["\n.downloads-plugin {\n    font-family: sans-serif;\n    min-width: 300px;\n}\n\n.downloads-plugin h4 {\n    margin: 0 0 10px 0;\n    border-bottom: 1px lightgrey solid;\n}\n\n.downloads-plugin .downloadStream {    \n    margin-left: 5px;\n}\n\n.downloads-plugin .downloadStream ul {\n    list-style: none;\n    max-height: 500px;\n    overflow: auto;\n    padding: 0px;\n    margin: 0 0 10px 10px;\n}\n\n.downloads-plugin .downloadStream .mimetype {\n    color: lightcoral;\n    margin-right: 10px;\n}\n\n.downloads-plugin .downloadStream .res {\n    color: lightsalmon;\n}\n\n\n.downloads-plugin a {\n    color: lightsalmon;\n}\n\n.downloads-plugin a:hover {\n    color: salmon;\n}\n\n"],sourceRoot:""}]);const s=a},264:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,":root {\n    --find-captions-plugin-search-bar-height: 30px;\n}\n\n.center-container .search-results {\n    max-height: 80vh;\n    overflow: auto;\n    font-family: Arial, Helvetica, sans-serif;\n}\n\n.center-container .search-results p {\n    max-width: 400px;\n    user-select: none;\n}\n\n.center-container .search-results p.result-item {\n    cursor: pointer;\n    box-sizing: border-box;\n    padding: 8px;\n    border-radius: 3px;\n}\n\n\n.center-container div.captions-search-container input {\n    width: 100%;\n    height: var(--find-captions-plugin-search-bar-height);\n    box-sizing: border-box;\n}\n\n.center-container .search-results p.result-item.current {\n    border: 1px solid white;\n    background-color: rgba(240,240,240,0.7);\n    color: black;\n}\n\n/* Resizeable/moveable mode: */\n.center-container  .captions-search-container {\n    height: 100%;\n    width: 100%;\n    max-width: unset;\n    max-height: unset;\n    box-sizing: border-box;\n}\n\n.center-container .search-results {\n    width: 100%;\n    height: calc(100% - var(--find-captions-plugin-search-bar-height));\n    box-sizing: border-box;\n    background-color: rgba(0, 0, 0, 0.8);\n}\n\n.popup-content.static-position .center-container .search-results p {\n    max-width: unset;\n}\n\n/* Custom background color */\n.popup-container.find-captions .popup-content {\n    background-color: rgba(0, 0, 0, 0.2);\n}","",{version:3,sources:["webpack://./src/css/FindCaptionsPlugin.css"],names:[],mappings:"AAAA;IACI,8CAA8C;AAClD;;AAEA;IACI,gBAAgB;IAChB,cAAc;IACd,yCAAyC;AAC7C;;AAEA;IACI,gBAAgB;IAChB,iBAAiB;AACrB;;AAEA;IACI,eAAe;IACf,sBAAsB;IACtB,YAAY;IACZ,kBAAkB;AACtB;;;AAGA;IACI,WAAW;IACX,qDAAqD;IACrD,sBAAsB;AAC1B;;AAEA;IACI,uBAAuB;IACvB,uCAAuC;IACvC,YAAY;AAChB;;AAEA,8BAA8B;AAC9B;IACI,YAAY;IACZ,WAAW;IACX,gBAAgB;IAChB,iBAAiB;IACjB,sBAAsB;AAC1B;;AAEA;IACI,WAAW;IACX,kEAAkE;IAClE,sBAAsB;IACtB,oCAAoC;AACxC;;AAEA;IACI,gBAAgB;AACpB;;AAEA,4BAA4B;AAC5B;IACI,oCAAoC;AACxC",sourcesContent:[":root {\n    --find-captions-plugin-search-bar-height: 30px;\n}\n\n.center-container .search-results {\n    max-height: 80vh;\n    overflow: auto;\n    font-family: Arial, Helvetica, sans-serif;\n}\n\n.center-container .search-results p {\n    max-width: 400px;\n    user-select: none;\n}\n\n.center-container .search-results p.result-item {\n    cursor: pointer;\n    box-sizing: border-box;\n    padding: 8px;\n    border-radius: 3px;\n}\n\n\n.center-container div.captions-search-container input {\n    width: 100%;\n    height: var(--find-captions-plugin-search-bar-height);\n    box-sizing: border-box;\n}\n\n.center-container .search-results p.result-item.current {\n    border: 1px solid white;\n    background-color: rgba(240,240,240,0.7);\n    color: black;\n}\n\n/* Resizeable/moveable mode: */\n.center-container  .captions-search-container {\n    height: 100%;\n    width: 100%;\n    max-width: unset;\n    max-height: unset;\n    box-sizing: border-box;\n}\n\n.center-container .search-results {\n    width: 100%;\n    height: calc(100% - var(--find-captions-plugin-search-bar-height));\n    box-sizing: border-box;\n    background-color: rgba(0, 0, 0, 0.8);\n}\n\n.popup-content.static-position .center-container .search-results p {\n    max-width: unset;\n}\n\n/* Custom background color */\n.popup-container.find-captions .popup-content {\n    background-color: rgba(0, 0, 0, 0.2);\n}"],sourceRoot:""}]);const s=a},754:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"\n.keyboardshortcutshelp-plugin {\n    font-family: Helvetica, Arial, sans-serif;\n    padding: 1px;\n    color: #f0f0f0;\n    min-width: 430px;\n}\n\n.keyboardshortcutshelp-plugin .row {\n    display: flex;\n    min-width: 100px;\n    padding-top: 1px;\n    padding-bottom: 1px;\n    padding: 6px;\n}\n\n.keyboardshortcutshelp-plugin .row .description {\n    max-width: 80%;\n}\n\n.keyboardshortcutshelp-plugin .row .key {\n    margin-left: auto;\n}\n","",{version:3,sources:["webpack://./src/css/KeyboardShortcutsHelp.css"],names:[],mappings:";AACA;IACI,yCAAyC;IACzC,YAAY;IACZ,cAAc;IACd,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,gBAAgB;IAChB,gBAAgB;IAChB,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,iBAAiB;AACrB",sourcesContent:["\n.keyboardshortcutshelp-plugin {\n    font-family: Helvetica, Arial, sans-serif;\n    padding: 1px;\n    color: #f0f0f0;\n    min-width: 430px;\n}\n\n.keyboardshortcutshelp-plugin .row {\n    display: flex;\n    min-width: 100px;\n    padding-top: 1px;\n    padding-bottom: 1px;\n    padding: 6px;\n}\n\n.keyboardshortcutshelp-plugin .row .description {\n    max-width: 80%;\n}\n\n.keyboardshortcutshelp-plugin .row .key {\n    margin-left: auto;\n}\n"],sourceRoot:""}]);const s=a},473:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"span.button-title {\n    margin-top: -16px;\n    display: block;\n    font-size: 8px;\n}\n","",{version:3,sources:["webpack://./src/css/playbackRate.css"],names:[],mappings:"AAAA;IACI,iBAAiB;IACjB,cAAc;IACd,cAAc;AAClB",sourcesContent:["span.button-title {\n    margin-top: -16px;\n    display: block;\n    font-size: 8px;\n}\n"],sourceRoot:""}]);const s=a},405:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,":root {\n    --volume-slider-height: 8px;\n    --volume-slider-fill-color: var(--highlight-bg-color-hover);\n    --volume-slider-empty-color: #AAA;\n}\n\n.button-plugin-side-area.volume-button {\n    height: 40px;\n    display: inline-block;\n    vertical-align: middle;\n}\n\n.button-plugin-container {\n    height: 40px;\n}\n\n.volume-slider {\n    width: 100px;\n    height: 100%;\n    display: flex;\n    margin-left: 10px;\n    margin-right: 10px;\n    position: relative;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n}\n\n.volume-slider .volume-slider-fill {\n    height: var(--volume-slider-height);\n    background-color: var(--volume-slider-fill-color);\n    border-radius: 10px 0px 0px 10px;\n    pointer-events: none;\n}\n\n.volume-slider .volume-slider-fill.fill-100 {\n    border-radius: 10px 10px 10px 10px;\n}\n\n.volume-slider .volume-slider-empty {\n    height: var(--volume-slider-height);\n    background-color: var(--volume-slider-empty-color);\n    border-radius: 0px 10px 10px 0px;\n    pointer-events: none;\n}\n\n.volume-slider .volume-slider-empty.empty-100 {\n    border-radius: 10px 10px 10px 10px;\n}\n\n@media (forced-colors: active) {\n    .volume-slider {\n        border: 4px solid white;\n        box-sizing: border-box;\n        margin-bottom: 3px;\n    }\n\n    .volume-slider .volume-slider-fill {\n        border: 4px solid white;\n        box-sizing: border-box;\n    }\n\n    .volume-slider .volume-slider-empty {\n        border: 1px solid white;\n        box-sizing: border-box;\n    }\n}","",{version:3,sources:["webpack://./src/css/slider.css"],names:[],mappings:"AAAA;IACI,2BAA2B;IAC3B,2DAA2D;IAC3D,iCAAiC;AACrC;;AAEA;IACI,YAAY;IACZ,qBAAqB;IACrB,sBAAsB;AAC1B;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,YAAY;IACZ,aAAa;IACb,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;IAClB,mBAAmB;IACnB,iBAAiB;IACjB,qBAAqB;IACrB,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,mCAAmC;IACnC,iDAAiD;IACjD,gCAAgC;IAChC,oBAAoB;AACxB;;AAEA;IACI,kCAAkC;AACtC;;AAEA;IACI,mCAAmC;IACnC,kDAAkD;IAClD,gCAAgC;IAChC,oBAAoB;AACxB;;AAEA;IACI,kCAAkC;AACtC;;AAEA;IACI;QACI,uBAAuB;QACvB,sBAAsB;QACtB,kBAAkB;IACtB;;IAEA;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;;IAEA;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;AACJ",sourcesContent:[":root {\n    --volume-slider-height: 8px;\n    --volume-slider-fill-color: var(--highlight-bg-color-hover);\n    --volume-slider-empty-color: #AAA;\n}\n\n.button-plugin-side-area.volume-button {\n    height: 40px;\n    display: inline-block;\n    vertical-align: middle;\n}\n\n.button-plugin-container {\n    height: 40px;\n}\n\n.volume-slider {\n    width: 100px;\n    height: 100%;\n    display: flex;\n    margin-left: 10px;\n    margin-right: 10px;\n    position: relative;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n}\n\n.volume-slider .volume-slider-fill {\n    height: var(--volume-slider-height);\n    background-color: var(--volume-slider-fill-color);\n    border-radius: 10px 0px 0px 10px;\n    pointer-events: none;\n}\n\n.volume-slider .volume-slider-fill.fill-100 {\n    border-radius: 10px 10px 10px 10px;\n}\n\n.volume-slider .volume-slider-empty {\n    height: var(--volume-slider-height);\n    background-color: var(--volume-slider-empty-color);\n    border-radius: 0px 10px 10px 0px;\n    pointer-events: none;\n}\n\n.volume-slider .volume-slider-empty.empty-100 {\n    border-radius: 10px 10px 10px 10px;\n}\n\n@media (forced-colors: active) {\n    .volume-slider {\n        border: 4px solid white;\n        box-sizing: border-box;\n        margin-bottom: 3px;\n    }\n\n    .volume-slider .volume-slider-fill {\n        border: 4px solid white;\n        box-sizing: border-box;\n    }\n\n    .volume-slider .volume-slider-empty {\n        border: 1px solid white;\n        box-sizing: border-box;\n    }\n}"],sourceRoot:""}]);const s=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},15:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r=function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),4!==n.length);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,4);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,4):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[1],i=r[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),c="/*# ".concat(s," */"),u=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([c]).join("\n")}return[o].join("\n")}},379:(t,e,n)=>{"use strict";var r,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],o=0;o<t.length;o++){var s=t[o],c=e.base?s[0]+e.base:s[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var f=a(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(i[f].references++,i[f].updater(h)):i.push({identifier:l,updater:y(h,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function f(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function h(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function y(t,e){var n,r,o;if(e.singleton){var i=d++;n=p||(p=c(e)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=c(e),r=h.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var c=s(t,e),u=0;u<n.length;u++){var l=a(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=c}}}},842:t=>{t.exports='<svg viewBox="0 0 27 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="repeat" transform="matrix(1,0,0,1,-132.5,-2)"><g transform="matrix(1,0,0,1,132.5,2)"><path d="M7.364,6.48C9.179,5.515 11.255,4.967 13.461,4.967C20.569,4.967 26.331,10.651 26.331,17.664C26.331,24.676 20.569,30.36 13.461,30.36C8.436,30.36 4.083,27.518 1.964,23.375L1.973,23.34L3.716,22.554C5.531,26.101 9.257,28.534 13.56,28.534C19.645,28.534 24.579,23.667 24.579,17.664C24.579,11.66 19.645,6.793 13.56,6.793C11.624,6.793 9.804,7.286 8.223,8.151L12.5,12L0,12L6.5,0L7.364,6.48Z" style="stroke:black;stroke-width:0.07px;"></path></g><g transform="matrix(1.10748,0,0,1.05518,-14.2059,-1.08359)"><g><path d="M132.929,20.884L133.826,20.764C133.929,21.273 134.104,21.639 134.352,21.864C134.6,22.088 134.901,22.2 135.257,22.2C135.679,22.2 136.035,22.054 136.326,21.762C136.617,21.469 136.762,21.107 136.762,20.675C136.762,20.263 136.628,19.923 136.359,19.655C136.089,19.388 135.747,19.254 135.332,19.254C135.162,19.254 134.951,19.287 134.699,19.354L134.798,18.566C134.858,18.573 134.906,18.576 134.943,18.576C135.325,18.576 135.669,18.476 135.975,18.277C136.281,18.077 136.433,17.77 136.433,17.355C136.433,17.025 136.322,16.753 136.099,16.537C135.877,16.321 135.589,16.213 135.237,16.213C134.888,16.213 134.597,16.323 134.364,16.542C134.132,16.761 133.982,17.09 133.916,17.529L133.018,17.369C133.128,16.768 133.377,16.302 133.766,15.971C134.155,15.64 134.639,15.475 135.217,15.475C135.616,15.475 135.983,15.561 136.319,15.732C136.654,15.903 136.911,16.136 137.089,16.432C137.267,16.728 137.356,17.042 137.356,17.374C137.356,17.69 137.271,17.978 137.101,18.237C136.932,18.496 136.681,18.702 136.349,18.855C136.781,18.955 137.116,19.162 137.356,19.476C137.595,19.79 137.715,20.183 137.715,20.655C137.715,21.293 137.482,21.834 137.017,22.277C136.551,22.721 135.963,22.943 135.252,22.943C134.61,22.943 134.078,22.752 133.654,22.37C133.23,21.988 132.989,21.492 132.929,20.884Z" style="fill-rule:nonzero;"></path><path d="M138.602,19.209C138.602,18.345 138.691,17.649 138.869,17.123C139.047,16.596 139.311,16.19 139.661,15.904C140.012,15.618 140.453,15.475 140.985,15.475C141.377,15.475 141.721,15.554 142.017,15.712C142.313,15.87 142.557,16.097 142.75,16.395C142.943,16.692 143.094,17.055 143.203,17.482C143.313,17.909 143.368,18.485 143.368,19.209C143.368,20.067 143.28,20.759 143.104,21.285C142.928,21.812 142.664,22.219 142.314,22.507C141.963,22.794 141.52,22.938 140.985,22.938C140.28,22.938 139.727,22.685 139.325,22.18C138.843,21.572 138.602,20.582 138.602,19.209ZM139.524,19.209C139.524,20.409 139.665,21.207 139.946,21.604C140.226,22.002 140.573,22.2 140.985,22.2C141.397,22.2 141.744,22.001 142.024,21.602C142.305,21.203 142.446,20.406 142.446,19.209C142.446,18.006 142.305,17.207 142.024,16.811C141.744,16.416 141.394,16.218 140.975,16.218C140.563,16.218 140.234,16.392 139.988,16.741C139.679,17.187 139.524,18.009 139.524,19.209Z" style="fill-rule:nonzero;"></path><path d="M144.171,21.233L145.058,21.093C145.108,21.449 145.247,21.722 145.474,21.911C145.702,22.101 146.02,22.195 146.429,22.195C146.841,22.195 147.147,22.111 147.346,21.943C147.546,21.776 147.645,21.579 147.645,21.353C147.645,21.15 147.557,20.99 147.381,20.874C147.258,20.794 146.952,20.693 146.464,20.57C145.806,20.404 145.35,20.26 145.095,20.139C144.841,20.017 144.648,19.85 144.517,19.635C144.386,19.421 144.32,19.184 144.32,18.925C144.32,18.689 144.374,18.47 144.482,18.269C144.59,18.068 144.737,17.901 144.923,17.768C145.063,17.665 145.253,17.578 145.494,17.507C145.735,17.435 145.993,17.399 146.269,17.399C146.685,17.399 147.05,17.459 147.364,17.579C147.678,17.699 147.91,17.861 148.059,18.065C148.209,18.269 148.312,18.543 148.368,18.885L147.491,19.005C147.451,18.732 147.335,18.519 147.144,18.367C146.953,18.214 146.683,18.137 146.334,18.137C145.922,18.137 145.628,18.205 145.452,18.342C145.276,18.478 145.188,18.637 145.188,18.82C145.188,18.937 145.224,19.041 145.297,19.134C145.37,19.231 145.485,19.31 145.641,19.374C145.731,19.407 145.995,19.483 146.434,19.603C147.069,19.772 147.512,19.911 147.762,20.019C148.013,20.127 148.21,20.284 148.353,20.49C148.496,20.696 148.568,20.952 148.568,21.258C148.568,21.557 148.48,21.839 148.306,22.103C148.131,22.367 147.88,22.572 147.551,22.716C147.222,22.861 146.849,22.933 146.434,22.933C145.746,22.933 145.222,22.79 144.861,22.504C144.5,22.218 144.27,21.795 144.171,21.233Z" style="fill-rule:nonzero;"></path></g></g></g></svg>'},283:t=>{t.exports='<svg viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1.12928,7.34742,-36.0026)"><path d="M64.881,65.571L65.653,58.011C65.716,51.424 73.835,46.089 83.826,46.089C93.857,46.089 102,51.466 102,58.089L101.5,68.542C96.288,64.856 88.807,62.544 80.5,62.544C74.735,62.544 69.368,63.658 64.881,65.571Z"></path></g><g transform="matrix(-1,0,0,1.12928,248.653,-36.0026)"><path d="M64.881,65.571L65.653,58.011C65.716,51.424 73.835,46.089 83.826,46.089C93.857,46.089 102,51.466 102,58.089L101.5,68.542C96.288,64.856 88.807,62.544 80.5,62.544C74.735,62.544 69.368,63.658 64.881,65.571Z"></path></g><g transform="matrix(1,0,0,1.12928,7.34742,-36.0026)"><path d="M129.562,96.719L129.624,95.089C129.624,81.291 143.962,70.089 161.624,70.089C179.216,70.089 193.512,81.204 193.623,94.927L193.624,95.089L196.729,121.276C206.965,127.091 212.239,133.908 214.675,146.41C217.073,158.713 223.305,189.137 223.305,192C223.305,209.661 202.813,224 178.805,224C154.797,224 136.305,209.661 134.305,192C133.646,186.176 133.051,180.984 132.515,176.358C129.05,177.4 124.991,178 120.653,178C116.315,178 112.255,177.4 108.79,176.358C108.255,180.984 107.66,186.176 107,192C105,209.661 86.508,224 62.5,224C38.492,224 18,209.661 18,192C18,189.137 24.233,158.713 26.63,146.41C29.066,133.908 34.34,127.091 44.576,121.276L47.682,95.089L47.682,94.927C47.794,81.204 62.089,70.089 79.682,70.089C97.343,70.089 111.682,81.291 111.682,95.089L111.787,97.893C114.663,96.444 118.24,95.585 122.114,95.585C124.782,95.585 127.309,95.992 129.562,96.719ZM63.5,164C82.541,164 98,175.202 98,189C98,202.798 82.541,214 63.5,214C44.459,214 29,202.798 29,189C29,175.202 44.459,164 63.5,164ZM177.805,164C158.764,164 143.305,175.202 143.305,189C143.305,202.798 158.764,214 177.805,214C196.846,214 212.305,202.798 212.305,189C212.305,175.202 196.846,164 177.805,164ZM121,158C127.623,158 133,160.689 133,164C133,167.311 127.623,170 121,170C114.377,170 109,167.311 109,164C109,160.689 114.377,158 121,158Z"></path></g></svg>'},963:t=>{t.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M37,9.5C37,5.913 34.087,3 30.5,3L8.5,3C4.913,3 2,5.913 2,9.5L2,22.5C2,26.087 4.913,29 8.5,29L30.5,29C34.087,29 37,26.087 37,22.5L37,9.5ZM18.97,21.884C18.97,21.983 18.891,22.125 18.733,22.308C17.111,24.188 15.102,25.128 12.706,25.128C10.21,25.128 8.214,24.217 6.716,22.395C5.319,20.698 4.62,18.577 4.62,16.031C4.62,13.486 5.331,11.356 6.754,9.642C8.268,7.795 10.269,6.872 12.756,6.872C15.277,6.872 17.227,7.725 18.608,9.43C18.741,9.605 18.808,9.75 18.808,9.867C18.808,10.008 18.587,10.426 18.147,11.121C17.706,11.816 17.439,12.163 17.348,12.163C17.24,12.163 16.986,11.959 16.587,11.551C16.096,11.052 15.634,10.678 15.202,10.428C14.486,10.021 13.696,9.817 12.831,9.817C11.184,9.817 9.902,10.445 8.987,11.701C8.172,12.824 7.765,14.238 7.765,15.944C7.765,17.649 8.168,19.076 8.975,20.224C9.89,21.513 11.167,22.158 12.806,22.158C13.621,22.158 14.407,21.954 15.164,21.547C15.663,21.28 16.171,20.902 16.687,20.411C17.119,20.003 17.356,19.8 17.398,19.8C17.448,19.8 17.722,20.13 18.221,20.792C18.721,21.453 18.97,21.817 18.97,21.884ZM34.38,21.884C34.38,21.983 34.301,22.125 34.143,22.308C32.521,24.188 30.512,25.128 28.116,25.128C25.62,25.128 23.624,24.217 22.126,22.395C20.729,20.698 20.03,18.577 20.03,16.031C20.03,13.486 20.741,11.356 22.164,9.642C23.678,7.795 25.678,6.872 28.166,6.872C30.686,6.872 32.637,7.725 34.018,9.43C34.151,9.605 34.218,9.75 34.218,9.867C34.218,10.008 33.997,10.426 33.556,11.121C33.116,11.816 32.849,12.163 32.758,12.163C32.65,12.163 32.396,11.959 31.997,11.551C31.506,11.052 31.044,10.678 30.612,10.428C29.896,10.021 29.106,9.817 28.241,9.817C26.594,9.817 25.312,10.445 24.397,11.701C23.582,12.824 23.174,14.238 23.174,15.944C23.174,17.649 23.578,19.076 24.385,20.224C25.3,21.513 26.577,22.158 28.216,22.158C29.031,22.158 29.817,21.954 30.574,21.547C31.073,21.28 31.581,20.902 32.096,20.411C32.529,20.003 32.766,19.8 32.808,19.8C32.858,19.8 33.132,20.13 33.631,20.792C34.13,21.453 34.38,21.817 34.38,21.884Z"></path></svg>'},549:t=>{t.exports='<svg viewBox="0 0 66 66" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1,1.5,-3.84252)"><path d="M35.5,52.843L41.5,52.843L30.5,64.843L19.5,52.843L25.5,52.843L25.5,27.843L35.5,27.843L35.5,52.843ZM13.285,23.741C15.874,15.594 23.502,9.685 32.5,9.685C39.674,9.685 45.979,13.44 49.549,19.09C56.483,20.701 61.657,26.922 61.657,34.343C61.657,42.951 54.196,49.788 45.601,49.842L41.5,49.843L41.5,44.843L45.567,44.842C51.245,44.806 56.343,40.028 56.343,34.343C56.343,29.141 52.495,24.83 47.492,24.107L46.176,23.917L45.539,22.75C43.021,18.135 38.124,15 32.5,15C25.315,15 19.315,20.115 17.949,26.901L17.484,29.213L15.132,29.025C14.924,29.008 14.713,29 14.5,29C10.172,29 6.657,32.514 6.657,36.843C6.657,41.171 9.672,44.842 14,44.843L18.5,44.843L18.5,49.843L14,49.843C6.738,49.843 1.343,44.104 1.343,36.843C1.343,29.99 6.592,24.354 13.285,23.741Z"></path></g></svg>'},271:t=>{t.exports='<svg viewBox="0 0 27 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="repeat" transform="matrix(1,0,0,1,-132.5,-2)"><g transform="matrix(-1,0,-0,1,158.831,2)"><path d="M7.364,6.48C9.179,5.515 11.255,4.967 13.461,4.967C20.569,4.967 26.331,10.651 26.331,17.664C26.331,24.676 20.569,30.36 13.461,30.36C8.436,30.36 4.083,27.518 1.964,23.375L1.973,23.34L3.716,22.554C5.531,26.101 9.257,28.534 13.56,28.534C19.645,28.534 24.579,23.667 24.579,17.664C24.579,11.66 19.645,6.793 13.56,6.793C11.624,6.793 9.804,7.286 8.223,8.151L12.5,12L0,12L6.5,0L7.364,6.48Z" style="stroke:black;stroke-width:0.07px;"></path></g><g transform="matrix(1.10748,0,0,1.05518,-5.70486,-1.08359)"><g><path d="M132.929,20.884L133.826,20.764C133.929,21.273 134.104,21.639 134.352,21.864C134.6,22.088 134.901,22.2 135.257,22.2C135.679,22.2 136.035,22.054 136.326,21.762C136.617,21.469 136.762,21.107 136.762,20.675C136.762,20.263 136.628,19.923 136.359,19.655C136.089,19.388 135.747,19.254 135.332,19.254C135.162,19.254 134.951,19.287 134.699,19.354L134.798,18.566C134.858,18.573 134.906,18.576 134.943,18.576C135.325,18.576 135.669,18.476 135.975,18.277C136.281,18.077 136.433,17.77 136.433,17.355C136.433,17.025 136.322,16.753 136.099,16.537C135.877,16.321 135.589,16.213 135.237,16.213C134.888,16.213 134.597,16.323 134.364,16.542C134.132,16.761 133.982,17.09 133.916,17.529L133.018,17.369C133.128,16.768 133.377,16.302 133.766,15.971C134.155,15.64 134.639,15.475 135.217,15.475C135.616,15.475 135.983,15.561 136.319,15.732C136.654,15.903 136.911,16.136 137.089,16.432C137.267,16.728 137.356,17.042 137.356,17.374C137.356,17.69 137.271,17.978 137.101,18.237C136.932,18.496 136.681,18.702 136.349,18.855C136.781,18.955 137.116,19.162 137.356,19.476C137.595,19.79 137.715,20.183 137.715,20.655C137.715,21.293 137.482,21.834 137.017,22.277C136.551,22.721 135.963,22.943 135.252,22.943C134.61,22.943 134.078,22.752 133.654,22.37C133.23,21.988 132.989,21.492 132.929,20.884Z" style="fill-rule:nonzero;"></path><path d="M138.602,19.209C138.602,18.345 138.691,17.649 138.869,17.123C139.047,16.596 139.311,16.19 139.661,15.904C140.012,15.618 140.453,15.475 140.985,15.475C141.377,15.475 141.721,15.554 142.017,15.712C142.313,15.87 142.557,16.097 142.75,16.395C142.943,16.692 143.094,17.055 143.203,17.482C143.313,17.909 143.368,18.485 143.368,19.209C143.368,20.067 143.28,20.759 143.104,21.285C142.928,21.812 142.664,22.219 142.314,22.507C141.963,22.794 141.52,22.938 140.985,22.938C140.28,22.938 139.727,22.685 139.325,22.18C138.843,21.572 138.602,20.582 138.602,19.209ZM139.524,19.209C139.524,20.409 139.665,21.207 139.946,21.604C140.226,22.002 140.573,22.2 140.985,22.2C141.397,22.2 141.744,22.001 142.024,21.602C142.305,21.203 142.446,20.406 142.446,19.209C142.446,18.006 142.305,17.207 142.024,16.811C141.744,16.416 141.394,16.218 140.975,16.218C140.563,16.218 140.234,16.392 139.988,16.741C139.679,17.187 139.524,18.009 139.524,19.209Z" style="fill-rule:nonzero;"></path><path d="M144.171,21.233L145.058,21.093C145.108,21.449 145.247,21.722 145.474,21.911C145.702,22.101 146.02,22.195 146.429,22.195C146.841,22.195 147.147,22.111 147.346,21.943C147.546,21.776 147.645,21.579 147.645,21.353C147.645,21.15 147.557,20.99 147.381,20.874C147.258,20.794 146.952,20.693 146.464,20.57C145.806,20.404 145.35,20.26 145.095,20.139C144.841,20.017 144.648,19.85 144.517,19.635C144.386,19.421 144.32,19.184 144.32,18.925C144.32,18.689 144.374,18.47 144.482,18.269C144.59,18.068 144.737,17.901 144.923,17.768C145.063,17.665 145.253,17.578 145.494,17.507C145.735,17.435 145.993,17.399 146.269,17.399C146.685,17.399 147.05,17.459 147.364,17.579C147.678,17.699 147.91,17.861 148.059,18.065C148.209,18.269 148.312,18.543 148.368,18.885L147.491,19.005C147.451,18.732 147.335,18.519 147.144,18.367C146.953,18.214 146.683,18.137 146.334,18.137C145.922,18.137 145.628,18.205 145.452,18.342C145.276,18.478 145.188,18.637 145.188,18.82C145.188,18.937 145.224,19.041 145.297,19.134C145.37,19.231 145.485,19.31 145.641,19.374C145.731,19.407 145.995,19.483 146.434,19.603C147.069,19.772 147.512,19.911 147.762,20.019C148.013,20.127 148.21,20.284 148.353,20.49C148.496,20.696 148.568,20.952 148.568,21.258C148.568,21.557 148.48,21.839 148.306,22.103C148.131,22.367 147.88,22.572 147.551,22.716C147.222,22.861 146.849,22.933 146.434,22.933C145.746,22.933 145.222,22.79 144.861,22.504C144.5,22.218 144.27,21.795 144.171,21.233Z" style="fill-rule:nonzero;"></path></g></g></g></svg>'},643:t=>{t.exports='<svg viewBox="0 0 34 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="FullScreen" transform="matrix(1,0,0,1,-363,-6)"><g><g><g transform="matrix(1,0,0,1,-2,2.84217e-14)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,-1,-2,40)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,1,762,2.84217e-14)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,-1,762,40)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,0.886475,0,2.17871)"><rect x="369" y="12.207" width="22" height="15.793"></rect></g><g transform="matrix(1,0,0,1,-0.0588586,-0.780796)"></g></g></g></g></svg>'},812:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 24 24"><path d="M19,10H17V8H19M19,13H17V11H19M16,10H14V8H16M16,13H14V11H16M16,17H8V15H16M7,10H5V8H7M7,13H5V11H7M8,11H10V13H8M8,8H10V10H8M11,11H13V13H11M11,8H13V10H11M20,5H4C2.89,5 2,5.89 2,7V17A2,2 0 0,0 4,19H20A2,2 0 0,0 22,17V7C22,5.89 21.1,5 20,5Z"></path></svg>'},291:t=>{t.exports='<svg viewBox="0 0 39 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M38.02,33L20.02,33L20.02,16L38.02,16L38.02,33ZM18.1,31.479L17.261,28.744C17.261,28.744 15.373,29.986 14.365,29.504C13.356,29.022 13.141,28.161 13.141,28.161L15.089,26L10.02,26L10.02,31.317L12.04,29.194C12.04,29.194 12.571,31.145 13.809,31.959C15.732,33.224 18.1,31.479 18.1,31.479ZM35.846,31C35.844,30.985 35.419,26.773 34.821,25.622C34.222,24.47 31.242,24.429 31.242,24.429C31.242,24.429 30.557,27.413 30.373,27.982C30.189,28.55 30.15,28.681 30.15,28.681C30.15,28.681 29.686,25.798 29.604,25.505C29.543,25.285 29.143,25.271 29.058,25.271C28.973,25.271 28.573,25.297 28.512,25.516C28.431,25.809 28.097,28.617 28.097,28.617C28.097,28.617 27.995,28.55 27.811,27.982C27.627,27.413 26.874,24.429 26.874,24.429C26.874,24.429 23.894,24.47 23.295,25.622C22.696,26.775 22.27,31 22.27,31L35.846,31ZM30.15,24.429C30.209,24.682 29.406,25.228 29.406,25.228L28.763,25.212C28.763,25.212 27.907,24.682 27.966,24.429C28.02,24.196 28.753,24.222 29.058,24.219C29.365,24.222 30.096,24.196 30.15,24.429ZM25.02,15L22.02,15L22.02,3L23.02,3L23.02,2L2.02,2L2.02,3L3.02,3L3.02,17L11.79,17L8.396,21.381C8.078,21.995 8.205,22.353 8.367,22.49C8.531,22.629 8.944,22.69 9.341,22.282L12.926,18.594L16.429,22.282C16.589,22.542 16.931,22.561 17.322,22.405C17.601,22.293 17.521,21.746 17.374,21.381L13.875,17L19.02,17L19.02,24L0,24L0,0L25.02,0L25.02,15ZM29.058,17.067C30.719,17.067 32.068,18.527 32.068,20.326C32.068,22.125 30.719,23.586 29.058,23.586C27.397,23.586 26.048,22.125 26.048,20.326C26.048,18.527 27.397,17.067 29.058,17.067ZM21.02,15L21.02,3L4.02,3L4.02,16L19.02,16L19.02,15L21.02,15ZM35.1,14L30.032,14L31.98,11.839C31.98,11.839 31.765,10.978 30.756,10.496C29.747,10.014 27.86,11.256 27.86,11.256L27.02,8.521C27.02,8.521 29.389,6.776 31.312,8.041C32.55,8.855 33.081,10.806 33.081,10.806L35.1,8.683L35.1,14ZM10.744,7.462L6.356,13.008L5.922,12.61L10.727,6.537L13.847,9.959L18.147,5.333L18.55,5.767L13.846,10.826L10.744,7.462Z"></path></svg>'},998:t=>{t.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1.43396,0,0,1.57895,-350.104,-74)"><path d="M271,50.995C271,49.065 269.277,47.5 267.152,47.5C267.152,47.5 260.884,46.867 257.75,46.867C254.616,46.867 248.348,47.5 248.348,47.5C246.223,47.5 244.5,49.065 244.5,50.995C244.5,50.995 244.151,55.036 244.151,56.842C244.151,58.843 244.5,63.005 244.5,63.005C244.5,64.935 246.223,66.5 248.348,66.5C248.348,66.5 254.965,67.133 258.099,67.133C261.124,67.133 267.152,66.5 267.152,66.5C269.277,66.5 271,64.935 271,63.005C271,63.005 271.349,59.002 271.349,57C271.349,54.998 271,50.995 271,50.995Z"></path></g></svg>'},770:t=>{t.exports='<svg viewBox="0 0 521 601" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(5.20833,0,0,5.20833,0,0)"><g id="User" transform="matrix(3.84615,1.8963e-31,0,3.84615,-1564.99,-323.92)"><g transform="matrix(1.05882,0,0,1.05882,-23.2206,-3.66315)"><circle cx="418.5" cy="91.5" r="8.5"></circle></g><g transform="matrix(0.996622,0,0,0.785714,1.3158,23.0763)"><path d="M406.956,116C408.994,107.809 414.069,102 420,102C425.931,102 431.006,107.809 433.044,116L406.956,116Z"></path></g></g></g></svg>'},506:t=>{t.exports='<svg viewBox="0 0 34 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1,0,0,1,-164.25,-6)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-310.137,-22.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(2.44245,0,0,2.44245,-427.303,-35.9308)"><path d="M184.199,14.815C184.625,14.866 186.828,16.03 187.775,17.801C189.443,20.92 187.935,25.329 184.388,26.637C184.388,26.637 183.459,26.646 183.677,26.009C183.808,25.624 184.344,25.578 184.77,25.344C187.184,24.016 188.202,20.604 186.8,18.153C186.181,17.07 185.166,16.228 183.988,15.807C183.988,15.807 183.242,14.787 184.199,14.815Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,-125,-5)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></svg>'},978:t=>{t.exports='<svg viewBox="0 0 25 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-low" serif:id="volume low" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>'},704:t=>{t.exports='<svg viewBox="0 0 29 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mid" serif:id="volume mid" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-145.137,-17.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>'},928:t=>{t.exports='<svg viewBox="0 0 31 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mute" serif:id="volume mute" transform="matrix(1,0,0,1,-123,-4.71142)"><path d="M142,28.522L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L127.478,14L142,28.522ZM151.228,34.983L123,6.756L125.044,4.711L132.848,12.516L139.68,5C140.961,5 142,6.039 142,7.32L142,21.667L153.272,32.939L151.228,34.983Z"></path></g></svg>'},887:t=>{t.exports='<svg viewBox="0 0 37 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="Exit-FullScreen" serif:id="Exit FullScreen" transform="matrix(1,0,0,1,-361.793,-5.79289)"><g><g transform="matrix(1,0,0,-1,27,18)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,1,733,22)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(-1,0,0,-1,733,18)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,1,27,22)"><path d="M368.492,8.078L371.207,10.793L369.793,12.207L367.078,9.492L365,11.57L365.014,7.428L365,7.414L365.014,7.4L365.019,6.019L366.4,6.014L366.414,6L366.428,6.014L370.57,6L368.492,8.078Z"></path></g><g transform="matrix(1,0,0,0.886475,0,2.17871)"><rect x="369" y="12.207" width="22" height="15.793"></rect></g></g></g></svg>'},456:(t,e,n)=>{var r={"./en-US.json":350,"./es-ES.json":992};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=456},757:(t,e,n)=>{var r={"./BasicPluginsModule.js":95,"./es.upv.paella.audioSelector.js":252,"./es.upv.paella.backwardButtonPlugin.js":925,"./es.upv.paella.captionsSelectorPlugin.js":460,"./es.upv.paella.customTimeProgressIndicator.js":263,"./es.upv.paella.downloadsPlugin.js":61,"./es.upv.paella.externalPluginTest.js":800,"./es.upv.paella.findCaptionsPlugin.js":623,"./es.upv.paella.forwardButtonPlugin.js":108,"./es.upv.paella.fullscreenButton.js":440,"./es.upv.paella.keyboardShortcutsHelp.js":234,"./es.upv.paella.layoutSelector.js":239,"./es.upv.paella.liveStreamingProgressIndicator.js":592,"./es.upv.paella.playbackRateButton.js":540,"./es.upv.paella.qualitySelector.js":135,"./es.upv.paella.volumeButtonPlugin.js":459};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757},995:e=>{"use strict";e.exports=t},350:t=>{"use strict";t.exports=JSON.parse('{"Select the active audio track":"Select the active audio track","Toggle audio mute":"Toggle audio mute","Toggle play/pause":"Toggle play/pause","Toggle captions":"Toggle captions","Volume up 10%":"Volume up 10%","Volume down 10%":"Volume down 10%","Close pop-up":"Close pop-up","Decrease playback speed":"Decrease playback speed","Increase playback speed":"Increase playback speed","Select captions":"Select captions","Search":"Search","Search in captions":"Search in captions","No results found":"No results found","Toggle fullscreen":"Toggle fullscreen","Video layout":"Video layout","Playback rate":"Playback rate","Video quality":"Video quality","Volume":"Volume","Audio track":"Audio track","Spanish":"Español"}')},992:t=>{"use strict";t.exports=JSON.parse('{"Select the active audio track":"Seleccione la pista de audio activa","Toggle audio mute":"Conmutar el silencio de audio","Toggle play/pause":"Activar la reproducción/pausa","Toggle captions":"Alternar subtítulos","Volume up 10%":"Aumenta el volumen un 10%.","Volume down 10%":"Reduce el volumen un 10%.","Close pop-up":"Cerrar Pop Up","Decrease playback speed":"Reducir la velocidad de reproducción","Increase playback speed":"Aumentar la velocidad de reproducción","Select captions":"Seleccionar subtítulos","Search":"Buscar","Search in captions":"Buscar en subtítulos","No results found":"No se han encontrado resultados","Toggle fullscreen":"Cambiar modo de pantalla completa","Video layout":"Disposición de los vídeos","Playback rate":"Velocidad de reproducción","Video quality":"Calidad del vídeo","Volume":"Volumen","Audio track":"Pista de audio","Spanish":"Español","Keyboard shortcuts":"Atajos de teclado"}')}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nc=void 0;var o={};return(()=>{"use strict";r.r(o),r.d(o,{AudioSelectorButtonPlugin:()=>g,BackwardButtonPlugin:()=>m,CaptionsSelectorButtonPlugin:()=>b,CustomTimeProgressIndicatorPlugin:()=>O,DownloadsButtonPlugin:()=>w,FindCaptionsButtonPlugin:()=>A,ForwardButtonPlugin:()=>x,FullscreenButtonPlugin:()=>E,KeyboardHelpButtonPlugin:()=>C,LayoutSelectorButtonPlugin:()=>k,LiveStreamingProgressIndicatorPlugin:()=>T,PlaybackRateButtonPlugin:()=>L,QualitySelectorButtonPlugin:()=>_,VolumeButtonPlugin:()=>S,default:()=>v});var t=r(252),e=r(925),n=r(460),i=r(61),a=r(623),s=r(108),c=r(440),u=r(234),l=r(239),f=r(540),h=r(135),p=r(459),d=r(263),y=r(592);function v(){return r(757)}var g=t.default,m=e.default,b=n.default,w=i.default,A=a.default,x=s.default,E=c.default,C=u.default,k=l.default,L=f.default,_=h.default,S=p.default,O=d.default,T=y.default})(),o})(),t.exports=r(n(351))},351:t=>{var e;self,e=()=>(()=>{var t={6247:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AudioCanvas:()=>g,default:()=>m});var r=n(7003);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},i.apply(this,arguments)}function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),s=new R(r||[]);return i(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,c){var u=p(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return w.prototype=A,i(k,"constructor",{value:A,configurable:!0}),i(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function l(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:String(e)}function h(t,e,n){return e=d(e),function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var g=function(t){function e(t,n){var r;return c(this,e),(r=h(this,e,["div",t,n])).element.classList.add("image-canvas"),r}var n,r;return y(e,t),l(e,[{key:"loadCanvas",value:(n=a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.element.style.width="100%",e.element.style.height="100%";case 2:case"end":return t.stop()}}),t)})),r=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))},function(t){return r.apply(this,arguments)})}]),e}(r.Hl),m=function(t){function e(){return c(this,e),h(this,e,arguments)}return y(e,t),l(e,[{key:"name",get:function(){return i(d(e.prototype),"name",this)||"es.upv.paella.audioCanvas"}},{key:"canvasType",get:function(){return"audio"}},{key:"getCanvasInstance",value:function(t){return new g(this.player,t)}}]),e}(r.Ay)},1478:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TestVideoCanvas:()=>m,default:()=>b});var r=n(7003);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},i.apply(this,arguments)}function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),s=new R(r||[]);return i(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,c){var u=p(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return w.prototype=A,i(k,"constructor",{value:A,configurable:!0}),i(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function f(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:String(e)}function p(t,e,n){return e=y(e),function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}var m=function(t){function e(t,n){return u(this,e),p(this,e,["div",t,n])}var n;return v(e,t),f(e,[{key:"loadCanvas",value:(n=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.parent,e.element.style.width="200%",e.element.style.height="200%",e.element.style.top="-25%",e.element.style.left="-25%",e.element.style.position="absolute",this.element.style.overflow="hidden",this.element.style.position="relative",this.player.log.debug("test video canvas");case 9:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}]),e}(r.Hl),b=function(t){function e(){return u(this,e),p(this,e,arguments)}var n;return v(e,t),f(e,[{key:"canvasType",get:function(){return"video"}},{key:"isEnabled",value:(n=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.player.log.debug("TestVideoCanvasPlugin"),t.abrupt("return",i(y(e.prototype),"isEnabled",this).call(this));case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"isCompatible",value:function(t){return!Array.isArray(t.canvas)||0===t.canvas.length||i(y(e.prototype),"isCompatible",this).call(this,t)}},{key:"getCanvasInstance",value:function(t){return new m(this.player,t)}}]),e}(r.Ay)},9550:(t,e,n)=>{"use strict";n.r(e),n.d(e,{VideoCanvas:()=>g,default:()=>m});var r=n(7003);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},i.apply(this,arguments)}function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),s=new R(r||[]);return i(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,c){var u=p(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return w.prototype=A,i(k,"constructor",{value:A,configurable:!0}),i(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function l(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:String(e)}function h(t,e,n){return e=d(e),function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var g=function(t){function e(t,n){return c(this,e),h(this,e,["div",t,n])}var n,r;return y(e,t),l(e,[{key:"loadCanvas",value:(n=a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.element.style.width="100%",e.element.style.height="100%";case 2:case"end":return t.stop()}}),t)})),r=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))},function(t){return r.apply(this,arguments)})}]),e}(r.Hl),m=function(t){function e(){return c(this,e),h(this,e,arguments)}return y(e,t),l(e,[{key:"name",get:function(){return i(d(e.prototype),"name",this)||"es.upv.paella.videoCanvas"}},{key:"canvasType",get:function(){return"video"}},{key:"isCompatible",value:function(t){return!Array.isArray(t.canvas)||0===t.canvas.length||i(d(e.prototype),"isCompatible",this).call(this,t)}},{key:"getCanvasInstance",value:function(t){return new g(this.player,t)}}]),e}(r.Ay)},1307:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(8955);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:String(e)}var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cues=[],this._label=e,this._lang=n}var e,n;return e=t,(n=[{key:"cues",get:function(){return this._cues}},{key:"label",get:function(){return this._label},set:function(t){this._label=t}},{key:"language",get:function(){return this._lang},set:function(t){this._lang=t}},{key:"addCue",value:function(t){var e=t.label,n=void 0===e?"":e,o=t.start,i=t.end,a=t.captions,s={label:n};if("string"==typeof a)s.captions=[a];else{if(!Array.isArray(a))throw Error("Invalid cue caption format: must be an array of strings or a string");s.captions=a}if("string"==typeof o)s.start=(0,r.timeToSeconds)(o),s.startString=o;else{if("number"!=typeof o)throw Error("Invalid cue timestamp format: must be a valid time string or a number of seconds");s.start=o,s.startString=(0,r.secondsToTime)(o)}if("string"==typeof i)s.end=(0,r.timeToSeconds)(i),s.endString=i;else{if("number"!=typeof i)throw Error("Invalid cue timestamp format: must be a valid time string or a number of seconds");s.end=i,s.endString=(0,r.secondsToTime)(i)}return this._cues.push(s),s}},{key:"getCue",value:function(t){if("string"==typeof t)t=(0,r.timeToSeconds)(t);else if("number"!=typeof t)throw Error("Invalid time instant format getting cue");var e=null;return this._cues.some((function(n){if(t>=n.start&&t<=n.end)return e=n,!0})),e}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},20:(t,e,n)=>{"use strict";n.d(e,{A:()=>g,k:()=>y});var r=n(5151),o=n(2478);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,s,c){var u=p(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}function u(t,e,n){return e=f(e),function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){p(i,r,o,a,s,"next",t)}function s(t){p(i,r,o,a,s,"throw",t)}a(void 0)}))}}function y(t){return v.apply(this,arguments)}function v(){return v=d(a().mark((function t(e){var n,r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,(0,o._x)(e,"captions",function(){var t=d(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.push(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:r=a().mark((function t(){var r,o,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n[i],t.next=3,r.getCaptions();case 3:o=t.sent,s=e.captionsCanvas,o.forEach((function(t){return s.addCaptions(t)}));case 6:case"end":return t.stop()}}),t)})),t.t0=a().keys(n);case 5:if((t.t1=t.t0()).done){t.next=10;break}return i=t.t1.value,t.delegateYield(r(),"t2",8);case 8:t.next=5;break;case 10:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}var g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,e,arguments)}var n,r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),n=e,r=[{key:"type",get:function(){return"captions"}},{key:"load",value:(i=d(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.debug("load captions plugin");case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getCaptions",value:(o=d(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.player.log.warn("CaptionsPlugin ".concat(this.name,": getCaptions() is not implemented.")),t.abrupt("return",[]);case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],r&&s(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},5005:(t,e,n)=>{"use strict";n.d(e,{A:()=>u,k:()=>c});var r=n(1307),o=n(8955);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}function c(t,e){var n={},i=(new DOMParser).parseFromString(e,"text/xml");return Array.from(i.getElementsByTagName("div")).forEach((function(e){var i=e.getAttribute("xml:lang")||"unknonw";n[i]=n[i]||new r.A(t.translate(i),i),Array.from(e.getElementsByTagName("p")).forEach((function(t){var e=(0,o.timeToMilliseconds)(t.getAttribute("begin"));n[i].addCue({label:"caption_".concat(t.getAttribute("xml:id")||e),start:e/1e3,end:(0,o.timeToMilliseconds)(t.getAttribute("end"))/1e3,captions:t.innerHTML})}))})),n}var u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this._text=n,this._captions=c(this.player,n)}var e,n;return e=t,(n=[{key:"text",get:function(){return this._text},set:function(t){this._text=t,this._captions=c(t)}},{key:"captions",get:function(){return this._captions}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},3107:(t,e,n)=>{"use strict";n.d(e,{A:()=>h,I:()=>f});var r=n(1307);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:String(e)}var s="(?:\\d*:){1,2}\\d*(?:\\.\\d+)?",c="(".concat(s,")\\s*\\-\\->\\s*(").concat(s,")"),u={cueTiming:new RegExp(c)},l=function(t,e,n,r){var o=u.cueTiming.exec(e);if(o){for(var i=r[n-1],a=[],s=1;n+s<r.length&&""!==r[n+s];++s)a.push(r[n+s]);t.addCue({label:i,start:o[1],end:o[2],captions:a})}};function f(t){var e=new r.A;return""!==t&&(t=(t=t.replace(/\r\n/gm,"\n")).replace(/\r/gm,"\n")).split(/\n/).forEach((function(t,n,r){l(e,t,n,r)})),e}var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._text=e,this._captions=f(e)}var e,n;return e=t,(n=[{key:"text",get:function(){return this._text},set:function(t){this._text=t,this._captions=f(t)}},{key:"captions",get:function(){return this._captions}}])&&i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},8657:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:String(e)}n.d(e,{A:()=>a});var a=function(){function t(e){var n=e.id,r=e.name,o=e.groupId,i=void 0===o?"":o,a=e.language,s=void 0===a?"":a,c=e.selected,u=void 0!==c&&c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=n,this._name=r,this._groupId=i,this._lang=s,this._selected=u}var e,n;return e=t,(n=[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"language",get:function(){return this._lang}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},8047:(t,e,n)=>{"use strict";n.d(e,{A:()=>j});var r=n(383),o=n(4666),i=n(2478),a=n(4319),s=n(5189),c=n(5072),u=n.n(c),l=n(7825),f=n.n(l),h=n(7659),p=n.n(h),d=n(5056),y=n.n(d),v=n(540),g=n.n(v),m=n(1113),b=n.n(m),w=n(3606),A={};A.styleTagTransform=b(),A.setAttributes=y(),A.insert=p().bind(null,"head"),A.domAPI=f(),A.insertStyleElement=g(),u()(w.A,A),w.A&&w.A.locals&&w.A.locals;var x=n(8955);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function C(){C=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(I([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=g.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==E(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(E(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function k(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function L(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){k(i,r,o,a,s,"next",t)}function s(t){k(i,r,o,a,s,"throw",t)}a(void 0)}))}}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S(r.key),r)}}function S(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==E(e)?e:String(e)}function O(t,e,n){return e=R(e),function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,T()?Reflect.construct(e,n||[],R(t).constructor):e.apply(t,n))}function T(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(T=function(){return!!t})()}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},P.apply(this,arguments)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}var j=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,e,arguments)}var n,c,u,l,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(e,t),n=e,c=[{key:"load",value:(f=L(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._iconPath){t.next=4;break}return t.next=3,(0,x.loadSvgIcon)(this._iconPath);case 3:this.icon=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"groupName",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.groupName)||"buttonGroup"}},{key:"popUpType",get:function(){return"no-modal"}},{key:"getClosePopUps",value:function(){return!1}},{key:"getContent",value:(l=L(C().mark((function t(){var e,n=this;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(0,o.h6)('<div class="button-group"></div>'),this._firstItem=null,this._initialized){t.next=7;break}return this.player.log.debug('Load button plugins into "'.concat(this.groupName,'" container')),t.next=6,(0,i._x)(this.player,"button",function(){var t=L(C().mark((function t(i){var c,u;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.player.log.debug(" Button plugin: ".concat(i.name)),c=(0,o.h6)('<div class="button-plugin-wrapper"></div>',e),i instanceof r.A&&(i.parentPopUp=n._popUp),t.next=5,(0,a.FV)(i,c);case 5:(0,o.h6)('<a class="button-description">'.concat((0,s.Tl)(i.description),"</a>"),c).addEventListener("click",(function(t){i.action(),t.stopPropagation()})),n._firstItem||(u=c.getElementsByTagName("button"),n._firstItem=u&&u[0]);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=L(C().mark((function t(e){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.parentContainer!==n.groupName){t.next=7;break}return t.next=4,e.isEnabled();case 4:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:this._initialized=!0;case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"showPopUp",value:(u=L(C().mark((function t(){var n=this;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(R(e.prototype),"showPopUp",this).call(this);case 2:setTimeout((function(){n._firstItem&&n._firstItem.focus()}),50),this.buttons.forEach((function(t){"none"===t.style.display?n.hideButtonContainer(t):n.showButtonContainer(t)}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"buttons",get:function(){return Array.from(this.popUp.element.getElementsByClassName("button-plugin"))}},{key:"hideButtonContainer",value:function(t){var e,n=null===(e=t.parentNode)||void 0===e?void 0:e.parentNode;n&&(n.style.display="none")}},{key:"showButtonContainer",value:function(t){var e,n=null===(e=t.parentNode)||void 0===e?void 0:e.parentNode;n&&(n.style.display=null)}}],c&&_(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},4319:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>x,Dg:()=>m,FV:()=>w,do:()=>b});var r=n(463),o=(n(2478),n(4666)),i=n(193),a=n(5189),s=n(3118);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:String(e)}function h(t,e,n){return e=d(e),function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function v(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){v(i,r,o,a,s,"next",t)}function s(t){v(i,r,o,a,s,"throw",t)}a(void 0)}))}}function m(t){return t.__tabIndex=t.__tabIndex||0,++t.__tabIndex,t.__tabIndex}function b(t){return t.__tabIndex||0}function w(t,e){return A.apply(this,arguments)}function A(){return A=g(u().mark((function t(e,n){var r,c,l,f,h,p,d,y,v,m,b,w,A,x,E;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(r=(0,o.h6)('<div class="button-plugin-container"></div>',n)).plugin=e,c=e.tabIndex,l=(0,a.Tl)(e.ariaLabel),f=(0,a.Tl)(e.description),h=e.dynamicWidth?"dynamic-width":"fixed-width",p=e.id?'id="'.concat(e.id,'" '):"",d=e.buttonName?'name="'.concat(e.buttonName,'" '):"",e.interactive?(m=(0,o.h6)('\n\t\t\t<div class="button-plugin-side-area left-side '.concat(e.className,'"></div>\n\t\t'),r),b=(0,o.h6)('\n\t\t\t<button type="button" '.concat(p).concat(d,'class="button-plugin ').concat(e.className," ").concat(h,' no-icon" tabindex="').concat(c,'" aria-label="').concat(l,'" title="').concat(f,'">\n\t\t\t\t<div class="interactive-button-content">\n\t\t\t\t\t<i class="button-icon" style="pointer-events: none; display: none">').concat(e.icon,'</i>\n\t\t\t\t\t<span class="button-title button-title-').concat(e.titleSize,'">').concat(e.title||"&nbsp;","</span>\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t"),r),w=(0,o.h6)('\n\t\t\t<div class="button-plugin-side-area right-side '.concat(e.className,'"></div>\n\t\t'),r),A=b.getElementsByClassName("button-title")[0],e._leftArea=m,e._rightArea=w,e._button=b,e._container=r,e._titleContainer=A,b._pluginData=e,m._pluginData=e,w._pluginData=e,r._pluginData=e,r.addEventListener("mouseenter",function(){var t=g(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._pluginData.mouseOver(r,e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),r.addEventListener("mouseleave",function(){var t=g(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._pluginData.mouseOut(r,e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),b.addEventListener("focus",g(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b._pluginData.focusIn();case 2:case"end":return t.stop()}}),t)})))),b.addEventListener("blur",g(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b._pluginData.focusOut();case 2:case"end":return t.stop()}}),t)})))),b.addEventListener("click",(function(t){var e=b._pluginData;e.closePopUps&&e.popUp?s.A.HideNonAncestors(e.popUp):e.closePopUps&&s.A.HideAllPopUps(!1),(0,i.Hl)(e.player,i.Ay.BUTTON_PRESS,{plugin:e}),e.action(t),t.stopPropagation(),0!==t.pageX&&0!==t.pageY&&document.activeElement.blur()})),void 0===(null===(y=e.player.config.accessibility)||void 0===y?void 0:y.clickWithSpacebar)||(null===(v=e.player.config.accessibility)||void 0===v?void 0:v.clickWithSpacebar)||(b.addEventListener("keyup",(function(t){32==t.keyCode&&t.preventDefault()})),b.addEventListener("keydown",(function(t){32==t.keyCode&&t.preventDefault()})))):(x=(0,o.h6)("\n\t\t\t<div ".concat(p).concat(d,' class="button-plugin ').concat(e.className," non-interactive ").concat(h,' no-icon" title="').concat(f,'">\n\t\t\t\t<div class="non-interactive-button-content">\n\t\t\t\t\t<i class="button-icon" style="pointer-events: none; display: none;">').concat(e.icon,'</i>\n\t\t\t\t\t<span class="button-title button-title-').concat(e.titleSize,'">').concat(e.title||"&nbsp;","</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"),r),E=x.getElementsByClassName("button-title")[0],e._leftArea=null,e._rightArea=null,e._button=x,e._container=r,e._titleContainer=E,x._pluginData=e,r._pluginData=e);case 9:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}var x=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,e,arguments)}var n,r,o,i,a,s,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),n=e,r=[{key:"type",get:function(){return"button"}},{key:"container",get:function(){return this._container}},{key:"leftArea",get:function(){return this._leftArea}},{key:"rightArea",get:function(){return this._rightArea}},{key:"button",get:function(){return this._button}},{key:"titleContainer",get:function(){return this._titleContainer}},{key:"interactive",get:function(){return!0}},{key:"dynamicWidth",get:function(){return!1}},{key:"getId",value:function(){return null}},{key:"id",get:function(){return this.config.id||this.getId()}},{key:"getButtonName",value:function(){return null}},{key:"buttonName",get:function(){return this.config.name||this.getButtonName()||this.name}},{key:"ariaLabel",get:function(){return this.config.ariaLabel||this.getAriaLabel()}},{key:"getAriaLabel",value:function(){return""}},{key:"tabIndex",get:function(){return this.config.tabIndex||this.getTabIndex()}},{key:"getTabIndex",value:function(){return m(this.player)}},{key:"getDescription",value:function(){return""}},{key:"description",get:function(){return this.config.description||this.getDescription()}},{key:"iconElement",get:function(){var t;return null===(t=this.button)||void 0===t?void 0:t.getElementsByClassName("button-icon")[0]}},{key:"minContainerSize",get:function(){return this.config.minContainerSize||this.getMinContainerSize()}},{key:"getMinContainerSize",value:function(){return 0}},{key:"icon",get:function(){return this._icon||(this._icon=""),this._icon},set:function(t){this._icon=t,t?(this.iconElement.innerHTML=t,this.iconElement.style.display="",this.button.classList.remove("no-icon")):(this.iconElement.innerHTML="",this.iconElement.style.display="none",this.button.classList.add("no-icon"))}},{key:"title",get:function(){return this._title||""},set:function(t){this._title=t,this._titleContainer.innerHTML=t}},{key:"titleSize",get:function(){return"medium"}},{key:"side",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.side)||"left"}},{key:"closePopUps",get:function(){return this.config.closePopUps||this.getClosePopUps()}},{key:"getClosePopUps",value:function(){return!0}},{key:"parentContainer",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.parentContainer)||"playbackBar"}},{key:"className",get:function(){return""}},{key:"enable",value:function(){this._enabled=!0,this.show()}},{key:"disable",value:function(){this._enabled=!1,this.hide()}},{key:"hide",value:function(){this._button&&(this._button.style.display="none")}},{key:"show",value:function(){if(!1!==this._enabled){var t=this.player.playbackBar.containerSize.width;this._button&&(t>this.minContainerSize||"playbackBar"!==this.parentContainer)&&(this._button.style.display="block")}}},{key:"mouseOver",value:(c=g(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)})},{key:"mouseOut",value:(s=g(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)})},{key:"focusIn",value:(a=g(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"focusOut",value:(i=g(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(o=g(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.warn("Action not implemented in button plugin ".concat(this.name));case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onResize",value:function(t){var e=t.width;t.height,e<this.minContainerSize?this.hide():this.show()}}],r&&l(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},9643:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>w,iO:()=>m});var r=n(4319),o=n(463),i=n(7003),a=n(2478);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function l(t,e,n){return e=h(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],h(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(){d=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};l(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=h(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=h(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=h(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=l(A,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,l(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),l(k,u,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function y(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){y(i,r,o,a,s,"next",t)}function s(t){y(i,r,o,a,s,"throw",t)}a(void 0)}))}}function g(t){return{icon:t.icon,position:t.position,title:t.description,ariaLabel:t.ariaLabel,name:t.buttonName,click:(e=v(d().mark((function e(n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.player.videoContainer.streamProvider.streams[n],e.next=3,t.action(n,null==r?void 0:r.player,null==r?void 0:r.canvas,null==r?void 0:r.canvasPlugin);case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})};var e}function m(t,e){return b.apply(this,arguments)}function b(){return b=v(d().mark((function t(e,n){var r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,(0,a._x)(e,"canvasButton",function(){var t=v(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.log.debug(" Canvas button plugin: ".concat(n.name)),r.push(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:return t.abrupt("return",r.filter((function(t){return-1!==t.content.indexOf(n.content)})).map((function(t){return g(t)})));case 4:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}var w=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,arguments)}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),n=e,o=[{key:"type",get:function(){return"canvasButton"}},{key:"content",get:function(){return this._config.content||["presenter"]}},{key:"ariaLabel",get:function(){return this._config.ariaLabel||this.getAriaLabel()}},{key:"getAriaLabel",value:function(){return""}},{key:"tabIndex",get:function(){return this.config.tabIndex||this.getTabIndex()}},{key:"getTabIndex",value:function(){return(0,r.Dg)(this.player)}},{key:"description",get:function(){return this.config.description||this.getDescription()}},{key:"getDescription",value:function(){return""}},{key:"icon",get:function(){return this._icon},set:function(t){this._icon=t}},{key:"side",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.side)||"left"}},{key:"buttonName",get:function(){return this.name}},{key:"position",get:function(){switch(this.side){case"left":return i.IY.LEFT;case"center":return i.IY.CENTER;case"right":return i.IY.RIGHT;default:throw new Error("Invalid CanvasButtonPlugin side set: ".concat(this.side))}}},{key:"action",value:(a=v(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.warn("Action not implemented in canvas button plugin ".concat(this.name));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})}],o&&c(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(o.A)},7003:(t,e,n)=>{"use strict";n.d(e,{Hl:()=>Y,IY:()=>$,xl:()=>H,Ay:()=>z,W8:()=>G,NN:()=>N,Mo:()=>K,SP:()=>F});var r=n(5151),o=n(2478),i=n(4666),a=n(9643),s=n(5072),c=n.n(s),u=n(7825),l=n.n(u),f=n(7659),h=n.n(f),p=n(5056),d=n.n(p),y=n(540),v=n.n(y),g=n(1113),m=n.n(g),b=n(8958),w={};function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k(r.key),r)}}function C(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function k(t){var e=function(t,e){if("object"!=A(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==A(e)?e:String(e)}function L(t,e,n){return e=S(e),function(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_()?Reflect.construct(e,n||[],S(t).constructor):e.apply(t,n))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_=function(){return!!t})()}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function P(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I(){I=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:_(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(R([])));E&&E!==n&&r.call(E,a)&&(w=E);var C=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==A(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=S(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function S(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(A(e)+" is not iterable")}return m.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},k(L.prototype),u(L.prototype,s,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(C),u(C,c,"Generator"),u(C,a,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function j(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function B(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){j(i,r,o,a,s,"next",t)}function s(t){j(i,r,o,a,s,"throw",t)}a(void 0)}))}}w.styleTagTransform=m(),w.setAttributes=d(),w.insert=h().bind(null,"head"),w.domAPI=l(),w.insertStyleElement=v(),c()(b.A,w),b.A&&b.A.locals&&b.A.locals;var D=[];function N(t){return M.apply(this,arguments)}function M(){return(M=B(I().mark((function t(e){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o._x)(e,"canvas",(function(t){D.push(t)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(t){return U.apply(this,arguments)}function U(){return(U=B(I().mark((function t(e){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:D.slice(0);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(t,e){if(0===D.length)throw Error("No canvas plugins loaded. Note that `loadCanvasPlugins()` must to be called before use `getCanvasPlugins()`");var n=null;return D.some((function(t){if(t.isCompatible(e))return n=t,!0})),n}var $=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right"}),V=function(t){var e=t.icon,n=t.tabIndex,r=t.ariaLabel,o=t.title,a=t.className,s=t.position,c=void 0===s?$.CENTER:s,u=t.click,l=t.content,f=t.name;if(!e)throw new Error("Error in video layout definition. getVideoCanvasButtons(): missing 'icon' attribute.");if(!u)throw new Error("Error in video layout definition. getVideoCanvasButtons(): missing 'click' function.");var h='class="align-'.concat(c).concat(a?" "+a:"",'"');r&&(h+=' aria-label="'.concat(r,'"')),o&&(h+=' title="'.concat(o,'"')),void 0!==n&&(h+=' tabindex="'.concat(n,'"')),void 0!==f&&(h+=' name="'.concat(f,'"'));var p=(0,i.h6)("\n        <button ".concat(h,'><i class="button-icon" style="pointer-events: none">').concat(e,"</i></button>\n    "));return this.buttonsArea.appendChild(p),p.addEventListener("click",function(){var t=B(I().mark((function t(e){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stopPropagation(),t.next=3,u(l);case 3:return t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),p},H=function(){var t=B(I().mark((function t(e,n,r,o,i){var s,c,u,l;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.plugin,c=s.tabIndexStart,t.next=4,(0,a.iO)(e,o);case 4:return u=t.sent,l=[],[].concat(P(u),P(s.getVideoCanvasButtons(n,o.content,o,r))).forEach((function(t){t.tabIndex=c++,t.content=i;var e=V.apply(r,[t]);l.push(e)})),t.abrupt("return",l);case 9:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}(),K=function(t,e,n){var r=e.plugin.tabIndexStart;n.sort((function(t,e){return t.getBoundingClientRect().left-e.getBoundingClientRect().left})).forEach((function(t){t.setAttribute("tabindex",r++)}))},Y=function(t){function e(t,n,r){var o;return x(this,e),(o=L(this,e,[n,{tag:t,parent:r}])).element.className="video-canvas",o._userArea=null,o._buttonsArea=(0,i.h6)('\n        <div class="button-area">\n        </div>\n        ',o.element),o}var n;return O(e,t),C(e,[{key:"loadCanvas",value:(n=B(I().mark((function t(e){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("".concat(this.name,": loadCanvas() not implemented"));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"userArea",get:function(){return this._userArea||(this._userArea=document.createElement("div"),this._userArea.className="user-area",this.element.appendChild(this._userArea)),this._userArea}},{key:"buttonsArea",get:function(){return this._buttonsArea}},{key:"showButtons",value:function(){this.buttonsArea.style.display=null}},{key:"hideButtons",value:function(){this.buttonsArea.style.display="none"}}]),e}(i.hW),z=function(t){function e(){return x(this,e),L(this,e,arguments)}return O(e,t),C(e,[{key:"type",get:function(){return"canvas"}},{key:"canvasType",get:function(){return""}},{key:"isCompatible",value:function(t){return Array.isArray(null==t?void 0:t.canvas)?-1!==t.canvas.indexOf(this.canvasType):t.canvas===this.canvasType}},{key:"getCanvasInstance",value:function(t){throw Error("".concat(this.name," canvas plugin: getCanvasInstance() not implemented"))}}]),e}(r.A)},1224:(t,e,n)=>{"use strict";n.d(e,{A:()=>w,q:()=>b});var r=n(5151),o=n(2478),i=n(933);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,s,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:String(e)}function d(t,e,n){return e=v(e),function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}var b=function(t){function e(){return l(this,e),d(this,e,arguments)}var n,r,o;return g(e,t),h(e,[{key:"type",get:function(){return"data"}},{key:"context",get:function(){return this.config.context||[]}},{key:"read",value:(o=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("DataPlugin.read() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"write",value:(r=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("DataPlugin.write() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"remove",value:(n=u(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw Error("DataPlugin.remove() not implemented in data plugin '".concat(this.name,"'"));case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),e}(r.A),w=function(t){function e(t){var n;return l(this,e),(n=d(this,e,[t]))._dataPlugins={},(0,o._x)(n.player,"data",function(){var t=u(s().mark((function t(e){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(r=e.context)||void 0===r||r.forEach((function(t){n._dataPlugins[t]=n._dataPlugins[t]||[],n._dataPlugins[t].push(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n}var n,r,i;return g(e,t),h(e,[{key:"getDataPlugin",value:function(t){var e=this._dataPlugins[t]&&this._dataPlugins[t].length>0&&this._dataPlugins[t][0];if(e||(e=this._dataPlugins.default&&this._dataPlugins.default.length>0&&this._dataPlugins.default[0]),!e)throw Error("No data plugin found for context '".concat(t,"'"));return e}},{key:"getDataPlugins",value:function(t){var e=this._dataPlugins[t]&&this._dataPlugins[t].length>0&&this._dataPlugins[t];if(e||(e=this._dataPlugins.default&&this._dataPlugins.default.length>0&&this._dataPlugins.default),!e)throw Error("No data plugin found for context '".concat(t,"'"));return e}},{key:"read",value:(i=u(s().mark((function t(e,n){var r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getDataPlugin(e),t.next=3,r.read(e,n);case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"write",value:(r=u(s().mark((function t(e,n,r){var o,i,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=this.getDataPlugins(e),!Array.isArray(o)){t.next=14;break}i=null,a=0;case 4:if(!(a<o.length)){t.next=11;break}return t.next=7,o[a].write(e,n,r);case 7:i=t.sent;case 8:++a,t.next=4;break;case 11:return t.abrupt("return",i);case 14:if(!o){t.next=21;break}return t.next=17,o.write(e,n,r);case 17:return c=t.sent,t.abrupt("return",c);case 21:this.player.log.warn("No such data plugin found for context '".concat(e,"'"));case 22:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"remove",value:(n=u(s().mark((function t(e,n){var r,o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=this.getDataPlugins(e)).length>1)){t.next=14;break}o=null,i=0;case 4:if(!(i<r.length)){t.next=11;break}return t.next=7,r[i].remove(e,n);case 7:o=t.sent;case 8:++i,t.next=4;break;case 11:return t.abrupt("return",o);case 14:return t.next=16,r.remove(e,n);case 16:return a=t.sent,t.abrupt("return",a);case 18:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})}]),e}(i.A)},7917:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>w,fp:()=>v,uQ:()=>m});var r=n(5151),o=n(193),i=n(2478);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,s,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:String(e)}function l(t,e,n){return e=h(e),function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],h(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))}}function v(t){return g.apply(this,arguments)}function g(){return g=y(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i._x)(e,"eventLog",function(){var t=y(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.events.forEach((function(t){(0,o.e3)(e,t,function(){var e=y(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.onEvent(t,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function m(t){return b.apply(this,arguments)}function b(){return(b=y(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var w=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,arguments)}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),n=e,r=[{key:"type",get:function(){return"eventLog"}},{key:"events",get:function(){return[]}},{key:"onEvent",value:(o=y(s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.warn("".concat(this.name,": onEvent() function is not overwritten."));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})}],r&&c(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},193:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>r,Hl:()=>i,V1:()=>a,e3:()=>o,q7:()=>s});const r=Object.freeze({PLAY:"paella:play",PAUSE:"paella:pause",STOP:"paella:stop",ENDED:"paella:ended",SEEK:"paella:seek",FULLSCREEN_CHANGED:"paella:fullscreenchanged",ENTER_FULLSCREEN:"paella:enterfullscreen",EXIT_FULLSCREEN:"paella:exitfullscreen",VOLUME_CHANGED:"paella:volumeChanged",TIMEUPDATE:"paella:timeupdate",TRIMMING_CHANGED:"paella:trimmingChanged",CAPTIONS_CHANGED:"paella:captionsChanged",CAPTIONS_ENABLED:"paella:captionsEnabled",CAPTIONS_DISABLED:"paella:captionsDisabled",BUTTON_PRESS:"paella:buttonPress",SHOW_POPUP:"paella:showPopUp",HIDE_POPUP:"paella:hidePopUp",MANIFEST_LOADED:"paella:manifestLoaded",STREAM_LOADED:"paella:streamLoaded",PLAYER_LOADED:"paella:playerLoaded",PLAYER_UNLOADED:"paella:playerUnloaded",RESIZE:"paella:resize",RESIZE_END:"paella:resizeEnd",LAYOUT_CHANGED:"paella:layoutChanged",PLAYBACK_RATE_CHANGED:"paella:playbackRateChanged",VIDEO_QUALITY_CHANGED:"paella:videoQualityChanged",HIDE_UI:"paella:hideUI",SHOW_UI:"paella:showUI",COOKIE_CONSENT_CHANGED:"paella:cookieConsentChanged",LOG:"paella:log"});function o(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t.__eventListeners__=t.__eventListeners__||{},t.__eventListeners__[e]=t.__eventListeners__[e]||[],t.__eventListeners__[e].push({callback:n,unregisterOnUnload:r}),n}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.__eventListeners__&&t.__eventListeners__[e]&&t.__eventListeners__[e].forEach((function(t){return t.callback(n)}))}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.ready&&i(t,e,n)}function s(t){if(t.__eventListeners__)for(var e in t.__eventListeners__)t.__eventListeners__[e]=t.__eventListeners__[e].filter((function(t){return 0==t.unregisterOnUnload})),t.log.debug("Unregister event: "+t.__eventListeners__[e])}},6684:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>_,K$:()=>x,cK:()=>L,hp:()=>A,iv:()=>b,sd:()=>w,xy:()=>C});var r=n(5151),o=n(2478),i=n(3118);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,s,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:String(e)}function l(t,e,n){return e=h(e),function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],h(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))}}var v=function(t){var e,n,r;return"alt:".concat((null===(e=t.keyModifiers)||void 0===e?void 0:e.altKey)||!1,", ctrl:").concat((null===(n=t.keyModifiers)||void 0===n?void 0:n.ctrlKey)||!1,", shift:").concat((null===(r=t.keyModifiers)||void 0===r?void 0:r.shiftKey)||!1)},g=function(t){return"".concat(t.keyCode,"_").concat(v(t))},m=function(t){t.keyModifiers=t.keyModifiers||{},t.keyModifiers.altKey=t.keyModifiers.altKey||!1,t.keyModifiers.shiftKey=t.keyModifiers.shiftKey||!1,t.keyModifiers.ctrlKey=t.keyModifiers.ctrlKey||!1},b=function(t){var e=[];for(var n in t.__shortcuts__)t.__shortcuts__[n].forEach((function(t){t.disabled||e.push(t)}));return e},w=function(t){t.__pauseCaptureShortcuts__=!0},A=function(t){t.__pauseCaptureShortcuts__=!1};function x(t){return E.apply(this,arguments)}function E(){return E=y(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.__shortcuts__=e.__shortcuts__||{},window.__paella_shortcuts_player__){t.next=5;break}window.__paella_shortcuts_player__=e,t.next=8;break;case 5:return e.log.warn("Warning: more than one paella player instance with enabled shortcut plugins."),e.log.warn("Check your code to ensure that only one instance of paella player registers keyboard shortcut plugins."),t.abrupt("return");case 8:return t.next=10,(0,o._x)(e,"keyshortcut",function(){var t=y(s().mark((function t(n){var r,o,i,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getKeys();case 2:return t.sent.forEach((function(t){e.__shortcuts__[t.keyCode]=e.__shortcuts__[t.keyCode]||[],t.plugin=n,e.__shortcuts__[t.keyCode].push(t)})),t.next=6,n.getDictionaries();case 6:for(o in r=t.sent)i=r[o],e.addDictionary(o,i);a=s().mark((function t(n){var r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.__shortcuts__[n],o={},r.length>0&&r.forEach((function(t){var r=g(t);if(m(t),o[r]){e.log.warn("Collision detected in shortcut for key code ".concat(n));var i=o[r];e.log.warn("Enabled shortcut:"),e.log.warn("plugin: ".concat(i.plugin.name,", keyCode: ").concat(i.keyCode,", modifiers: ").concat(v(i),", description: ").concat(i.description)),e.log.warn("Collision shortcut (disabled):"),e.log.warn("plugin: ".concat(t.plugin.name,", keyCode: ").concat(t.keyCode,", modifiers: ").concat(v(t),", description: ").concat(t.description)),t.disabled=!0}else o[r]=t}));case 3:case"end":return t.stop()}}),t)})),t.t0=s().keys(e.__shortcuts__);case 10:if((t.t1=t.t0()).done){t.next=15;break}return c=t.t1.value,t.delegateYield(a(c),"t2",13);case 13:t.next=10;break;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 10:e.__paella_key_event_listener__=function(){var t=y(s().mark((function t(n){var r,o,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.__pauseCaptureShortcuts__){t.next=3;break}return e.log.info("Capture shortcuts paused. Ignoring loadKeyShortcutPlugins call."),t.abrupt("return");case 3:if(a=function(){return document.activeElement&&document.activeElement!==document.body&&!/video/i.test(document.activeElement.tagName)},e.containerElement.contains(document.activeElement)||i.A.Contains(document.activeElement)||document.activeElement===document.body){t.next=6;break}return t.abrupt("return");case 6:if(void 0!==(null===(r=e.config.accessibility)||void 0===r?void 0:r.clickWithSpacebar)&&!(null===(o=e.config.accessibility)||void 0===o?void 0:o.clickWithSpacebar)||"Space"!==n.code||!a()){t.next=9;break}return t.abrupt("return");case 9:if(!(c=e.__shortcuts__[n.code])){t.next=13;break}return t.next=13,c.forEach(function(){var t=y(s().mark((function t(r){var o,i,a,c,u,l,f,h,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=!(null!==(o=r.keyModifiers)&&void 0!==o&&o.altKey)||(null===(i=r.keyModifiers)||void 0===i?void 0:i.altKey)&&n.altKey,h=!(null!==(a=r.keyModifiers)&&void 0!==a&&a.ctrlKey)||(null===(c=r.keyModifiers)||void 0===c?void 0:c.ctrlKey)&&n.ctrlKey,p=!(null!==(u=r.keyModifiers)&&void 0!==u&&u.shiftKey)||(null===(l=r.keyModifiers)||void 0===l?void 0:l.shiftKey)&&n.shiftKey,!(f&&h&&p)||r.disabled){t.next=8;break}return t.next=6,r.action(n);case 6:t.next=9;break;case 8:f&&h&&p&&r.disabled&&(e.log.warn("Shortcut not triggered due to collision:"),e.log.warn("plugin: ".concat(r.plugin.name,", keyCode: ").concat(r.keyCode,", modifiers: ").concat(v(r),", description: ").concat(r.description)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),window.addEventListener("keyup",e.__paella_key_event_listener__);case 12:case"end":return t.stop()}}),t)}))),E.apply(this,arguments)}function C(t){return k.apply(this,arguments)}function k(){return(k=y(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:delete e.__shortcuts__,e==window.__paella_shortcuts_player__&&(window.removeEventListener("keyup",e.__paella_key_event_listener__),delete window.__paella_key_event_listener__,delete window.__paella_shortcuts_player__);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var L={Digit1:"Digit1",Digit2:"Digit2",Digit3:"Digit3",Digit4:"Digit4",Digit5:"Digit5",Digit6:"Digit6",Digit7:"Digit7",Digit8:"Digit8",Digit9:"Digit9",Digit0:"Digit0",KeyA:"KeyA",KeyB:"KeyB",KeyC:"KeyC",KeyD:"KeyD",KeyE:"KeyE",KeyF:"KeyF",KeyG:"KeyG",KeyH:"KeyH",KeyI:"KeyI",KeyJ:"KeyJ",KeyK:"KeyK",KeyL:"KeyL",KeyM:"KeyM",KeyN:"KeyN",KeyO:"KeyO",KeyP:"KeyP",KeyQ:"KeyQ",KeyR:"KeyR",KeyS:"KeyS",KeyT:"KeyT",KeyU:"KeyU",KeyV:"KeyV",KeyW:"KeyW",KeyX:"KeyX",KeyY:"KeyY",KeyZ:"KeyZ",Comma:"Comma",Period:"Period",Semicolon:"Semicolon",Quote:"Quote",BracketLeft:"BracketLeft",BracketRight:"BracketRight",Backquote:"Backquote",Backslash:"Backslash",Minus:"Minus",Equal:"Equal",AltLeft:"AltLeft",AltRight:"AltRight",CapsLock:"CapsLock",ControlLeft:"ControlLeft",ControlRight:"ControlRight",OSLeft:"OSLeft",OSRight:"OSRight",ShiftLeft:"ShiftLeft",ShiftRight:"ShiftRight",ContextMenu:"ContextMenu",Enter:"Enter",Space:"Space",Tab:"Tab",Delete:"Delete",End:"End",Help:"Help",Home:"Home",Insert:"Insert",PageDown:"PageDown",PageUp:"PageUp",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Escape:"Escape",PrintScreen:"PrintScreen",ScrollLock:"ScrollLock",Pause:"Pause"},_=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,arguments)}var n,r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),n=e,r=[{key:"type",get:function(){return"keyshortcut"}},{key:"getKeys",value:(i=y(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"getDictionaries",value:(o=y(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}],r&&c(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},5189:(t,e,n)=>{"use strict";n.d(e,{$R:()=>T,Ay:()=>_,Gs:()=>a,HZ:()=>u,Ly:()=>x,Sm:()=>O,Tl:()=>m,Uj:()=>s,X5:()=>f,Xu:()=>L,Z0:()=>w,ec:()=>c,i5:()=>E,lh:()=>k,p:()=>S,q8:()=>A,we:()=>l,xC:()=>b,zO:()=>C});var r="en",o="",i={};function a(t){var e=i[r]||{},n=i[o]||{};return e[t]||n[t]||t}function s(t){r=t}function c(){return r}function u(t,e){for(var n in i[t]=i[t]||{},e){var r=e[n];i[t][n]=r}}function l(){return i}function f(t){return t.config.defaultLanguage||navigator.language}var h=a,p=s,d=c,y=u,v=l,g=f;function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=h(t);if(Array.isArray(e)){var r=n;return e.forEach((function(t,e){var n="$".concat(e+1);r=r.replace(n,t)})),r}return n}function b(t){p(t)}function w(){return d()}function A(t,e){y(t,e)}function x(){return v()}function E(t){return g(t)}function C(t){h=t}function k(t){p=t}function L(t){d=t}function _(t){y=t}function S(t){v=t}function O(t){g=t}function T(t){o=E(t)}},3282:(t,e,n)=>{"use strict";n.d(e,{A:()=>P});var r=n(383),o=n(4666),i=n(3118),a=n(5072),s=n.n(a),c=n(7825),u=n.n(c),l=n(7659),f=n.n(l),h=n(5056),p=n.n(h),d=n(540),y=n.n(d),v=n(1113),g=n.n(v),m=n(1878),b={};function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function A(){A=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var x={};u(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=b.prototype=g.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==w(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(w(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function x(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,s,"next",t)}function s(t){x(i,r,o,a,s,"throw",t)}a(void 0)}))}}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k(r.key),r)}}function k(t){var e=function(t,e){if("object"!=w(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==w(e)?e:String(e)}function L(t,e,n){return e=O(e),function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_()?Reflect.construct(e,n||[],O(t).constructor):e.apply(t,n))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_=function(){return!!t})()}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},S.apply(this,arguments)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}b.styleTagTransform=g(),b.setAttributes=p(),b.insert=f().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=y(),s()(m.A,b),m.A&&m.A.locals&&m.A.locals;var P=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,e,arguments)}var n,r,a,s,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(e,t),n=e,r=[{key:"closeOnSelect",get:function(){return void 0===this.config.closeOnSelect&&("check"!==this.buttonType?this.config.closeOnSelect=!0:this.config.closeOnSelect=!1),this.config.closeOnSelect}},{key:"getContent",value:(c=E(A().mark((function t(){var e,n,r,i,a,s=this;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,o.h6)('<ul class="menu-button-content"></ul>'),this.menuTitle,t.next=4,this.getMenu();case 4:return n=t.sent,this._menuItems=n,r=!1,i=null,a=this.tabIndex,n.forEach((function(t){var n=(0,o.h6)('<li class="menu-button-item"></li>',e),c="";"button"===s.buttonType?c="menu-item-type-button":"check"===s.buttonType?c="menu-item-type-button"+(t.selected?" selected":""):"radio"===s.buttonType&&(c="menu-item-type-button",!r&&t.selected&&(c+=" selected",r=!0));var u="",l=t.title instanceof Element?t.title:null;t.icon&&t.title&&s.showTitles&&!l&&(u='\n\t\t\t\t<i class="menu-icon">'.concat(t.icon,'</i>\n\t\t\t\t<span class="menu-title">').concat(t.title,"</span>\n\t\t\t\t")),t.icon&&l&&s.showTitles?u='\n\t\t\t\t<i class="menu-icon">'.concat(t.icon,'</i>\n\t\t\t\t<span class="menu-title"></span>\n\t\t\t\t'):t.icon?u='\n\t\t\t\t<i class="menu-icon">'.concat(t.icon,"</i>\n\t\t\t\t"):t.title&&!l?u='\n\t\t\t\t<span class="menu-title">'.concat(t.title,"</span>\n\t\t\t\t"):l&&(u='\n\t\t\t\t<span class="menu-title"></span>\n\t\t\t\t');var f=(0,o.h6)('\n\t\t\t\t<button class="'.concat(c,'" aria-label="').concat(t.title,'" title="').concat(t.title,'" tabindex="').concat(a,'">').concat(u,"</button>"),n);l&&f.getElementsByClassName("menu-title")[0].appendChild(l),i||(i=f),t.buttonElement=f,f._itemData=t,f.addEventListener("click",(function(t){"check"===s.buttonType?(t.target._itemData.selected=!t.target._itemData.selected,t.target._itemData.selected?t.target.classList.add("selected"):t.target.classList.remove("selected")):"radio"===s.buttonType&&(s.menuItems.forEach((function(t){t.selected=!1,t.buttonElement.classList.remove("selected")})),t.target._itemData.selected=!t.target._itemData.selected,t.target._itemData.selected?t.target.classList.add("selected"):t.target.classList.remove("selected")),s.itemSelected(t.target._itemData,s._menuItems),t.stopPropagation(),s.closeOnSelect&&s.closeMenu()}));var h=f.getElementsByTagName("svg");h.length>0&&(/%$/.test(h[0].getAttribute("width"))&&h[0].removeAttribute("width"),/%$/.test(h[0].getAttribute("height"))&&h[0].removeAttribute("height"))})),setTimeout((function(){i.focus()}),50),t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getMenu",value:(s=E(A().mark((function t(){var e;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{id:0,title:"Option 1"},{id:1,title:"Option 2"},{id:2,title:"Option 3"},{id:3,title:"Option 4"},{id:4,title:"Option 5"}],t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})},{key:"menuItems",get:function(){return this._menuItems}},{key:"showTitles",get:function(){return!0}},{key:"buttonType",value:function(){return"button"}},{key:"itemSelected",value:function(t,e){this.player.log.warn("MenuButtonPlugin (".concat(this.name,"): itemSelected() function not implemented."))}},{key:"closeMenu",value:function(){this.config.closeParentPopUp?i.A.HideAllPopUps(!1):this._popUp.hide()}},{key:"showPopUp",value:(a=E(A().mark((function t(){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.refreshContent=!0,t.next=3,S(O(e.prototype),"showPopUp",this).call(this);case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})}],r&&C(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},933:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:String(e)}n.d(e,{A:()=>a});var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=e}var e,n;return e=t,(n=[{key:"player",get:function(){return this._player}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},9372:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});const r=Object.freeze({UNLOADED:0,LOADING_MANIFEST:1,MANIFEST:2,LOADING_PLAYER:3,LOADED:4,UNLOADING_MANIFEST:5,UNLOADING_PLAYER:6,ERROR:7})},5151:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){o=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new R(r||[]);return a(i,"_invoke",{value:S(t,n,s)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&i.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,s,c){var u=p(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=A,a(k,"constructor",{value:A,configurable:!0}),a(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function i(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)}))}}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:String(e)}function u(t,e,n){return e=f(e),function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}n.d(e,{A:()=>p});var p=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,e,[t]))._name=n,r}var n,r,i,c,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return null}},{key:"config",get:function(){return this._config}},{key:"type",get:function(){return"none"}},{key:"order",get:function(){var t;return(null===(t=this._config)||void 0===t?void 0:t.order)||0}},{key:"description",get:function(){var t;return(null===(t=this._config)||void 0===t?void 0:t.description)||""}},{key:"name",get:function(){return this._name}},{key:"isEnabled",value:(l=a(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(e=this.config)||void 0===e?void 0:e.enabled);case 1:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"load",value:(c=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})},{key:"unload",value:(i=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})}],r&&s(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(n(933).A)},5911:(t,e,n)=>{"use strict";var r="src/js/core/PluginModule.js";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new R(r||[]);return a(i,"_invoke",{value:S(t,n,s)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,c){var u=p(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return w.prototype=A,a(k,"constructor",{value:A,configurable:!0}),a(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function a(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:String(e)}function u(t,e,n){return e=f(e),function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}n.d(e,{A:()=>p});var p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,e,arguments)}var n,o,c,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),n=e,o=[{key:"moduleName",get:function(){return this.player.log.warn("Incomplete player module definition: '".concat(r,".moduleName'")),"-"}},{key:"moduleVersion",get:function(){return this.player.log.warn("Incomplete player module definition: '".concat(r,".moduleVersion'")),"0.0.0"}},{key:"getDictionaries",value:(c=i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})),l=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=c.apply(t,e);function i(t){a(o,n,r,i,s,"next",t)}function s(t){a(o,n,r,i,s,"throw",t)}i(void 0)}))},function(){return l.apply(this,arguments)})}],o&&s(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(n(933).A)},3118:(t,e,n)=>{"use strict";n.d(e,{A:()=>B});var r=n(4666),o=n(193),i=n(5072),a=n.n(i),s=n(7825),c=n.n(s),u=n(7659),l=n.n(u),f=n(5056),h=n.n(f),p=n(540),d=n.n(p),y=n(1113),v=n.n(y),g=n(9485),m={};m.styleTagTransform=v(),m.setAttributes=h(),m.insert=l().bind(null,"head"),m.domAPI=c(),m.insertStyleElement=d(),a()(g.A,m),g.A&&g.A.locals&&g.A.locals;var b=n(3877),w=n.n(b),A=n(7783),x=n.n(A);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k(r.key),r)}}function k(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==E(e)?e:String(e)}function L(t,e,n){return e=T(e),function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return S(t)}(t,_()?Reflect.construct(e,n||[],T(t).constructor):e.apply(t,n))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_=function(){return!!t})()}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},O.apply(this,arguments)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}var R=[];function I(t,e,n){if(e){e.setAttribute("aria-pressed","");var r=e.getBoundingClientRect(),o=r.top,i=r.left,a=r.right,s=r.bottom,c=r.width,u=r.height,l=i+c/2,f=o+u/2,h=document.body.scrollTop,p=window.innerWidth,d=window.innerHeight,y=window.innerWidth/2,v=window.innerHeight/2,g=document.scrollingElement.scrollTop;if(n.style.left="",n.style.right="",n.style.bottom="",n.style.top="",n.style.width="",n.style.height="",n.classList.remove("static-position"),y>l&&v<=f){var m=d-(s-u);n.style.left="".concat(i,"px"),n.style.bottom="".concat(m-g,"px"),n.style.maxHeight="calc(100vh - ".concat(m,"px - 10px)")}else if(y>l&&v>f)n.style.left="".concat(i,"px"),n.style.top="".concat(o+u+h,"px"),n.style.maxHeight="calc(100vh - ".concat(o+u,"px - 10px)");else if(y<=l&&v>f)n.style.right="".concat(p-a,"px"),n.style.top="".concat(o+u+h,"px"),n.style.maxHeight="calc(100vh - ".concat(o+u,"px - 10px)");else if(y<=l&&v<=f){var b=d-(s-u);n.style.right="".concat(p-a,"px"),n.style.bottom="".concat(b-g,"px"),n.style.maxHeight="calc(100vh - ".concat(b,"px - 10px)")}setTimeout((function(){n.offsetTop<0&&(n.style.top="0px")}),100)}}function j(t,e,n,r){var o=e.left-t.x,i=e.top-t.y,a=t.width-o,s=t.height-i;switch(!0){case o<=10&&i<=10&&r:return"RESIZE_NW";case o<=10&&s<=10&&r:return"RESIZE_SW";case o<=10&&r:return"RESIZE_W";case a<=10&&i<=10&&r:return"RESIZE_NE";case a<=10&&s<=10&&r:return"RESIZE_SE";case a<=10&&r:return"RESIZE_E";case i<=10&&r:return"RESIZE_N";case s<=10&&r:return"RESIZE_S";case i<=10+n:return"MOVE";default:return""}}var B=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l={class:"".concat(a?"popup-container":"popup-container no-modal"," ").concat(u)};s=s||c;var f=t.getCustomPluginIcon("paella-core","dock-popup")||w(),h=t.getCustomPluginIcon("paella-core","close-popup")||x(),p='\n\t\t<div class="popup-content'.concat(c?" resizeable":"").concat(s?" moveable":" fixed",'">\n\t\t\t<div class="border-top-left"></div><div class="border-top-center"></div><div class="border-top-right"></div>\n\t\t\t<div class="title-bar">\n\t\t\t\t<div class="title-bar-content"></div>\n\t\t\t\t<div class="popup-action-buttons">\n\t\t\t\t\t<button class="popup-action-button dock-button"><i>').concat(f,'</i></button>\n\t\t\t\t\t<button class="popup-action-button close-button"><i>').concat(h,'</i></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="center-container"></div>\n\t\t\t<div class="border-bottom-left"></div><div class="border-bottom-center"></div><div class="border-bottom-right"></div>\n\t\t</div>\n\t\t');(r=L(this,e,[t,{attributes:l,children:p,parent:n}]))._lastFocusElement=document.activeElement,r._modal=a,r._contextObject=i,r._dragActionData=null,r._moveable=s||c,r._resizeable=c,r._id=Symbol(S(r)),R.push(S(r)),r.element.getElementsByClassName("dock-button")[0].addEventListener("click",(function(t){r.dock()}));var d=r.element.getElementsByClassName("close-button")[0];return d.addEventListener("click",(function(){return r.hide()})),d.addEventListener("mousedown",(function(t){return t.stopPropagation()})),r._closeButton=d,r.element.addEventListener("click",(function(){r._closeOnClickOut&&r.hide()})),r._contentElement=r.element.getElementsByClassName("popup-content")[0],r._centerContainer=r.element.getElementsByClassName("center-container")[0],r._titleBar=r.element.getElementsByClassName("title-bar")[0],r._centerContainer.addEventListener("mousedown",(function(t){t.stopPropagation()})),r._contentElement.addEventListener("mousedown",(function(t){if(r.moveable||r.resizeable){r._element.style.pointerEvents="all",r._moved=!0;var e=r._contentElement.getBoundingClientRect();r._contentElement.classList.add("static-position"),r._contentElement.style.top=e.top+"px",r._contentElement.style.left=e.left+"px",r._contentElement.style.width=e.width+"px",r._contentElement.style.height=e.height+"px",r._contentElement.style.maxHeight="unset";var n=r._titleBar.getBoundingClientRect().height;r._centerContainer.style.height="calc(100% - var(--popup-resizeable-border) * 2 - ".concat(n,"px)");var o={left:t.clientX,top:t.clientY};r._dragActionData={popUp:S(r),action:j(e,o,n,r._resizeable),event:t,initialPosition:o}}t.stopPropagation()})),r.element.addEventListener("mouseup",(function(t){r._element.style.pointerEvents="",(r.moveable||r.resizeable)&&(r._dragActionData=null)})),r.element.addEventListener("mousemove",(function(t){if(r._dragActionData){var e={left:t.clientX-r._dragActionData.initialPosition.left,top:t.clientY-r._dragActionData.initialPosition.top};r._dragActionData.initialPosition={left:t.clientX,top:t.clientY};var n=r._contentElement.getBoundingClientRect();"MOVE"===r._dragActionData.action?(r._contentElement.style.top="".concat(n.top+e.top,"px"),r._contentElement.style.left="".concat(n.left+e.left,"px"),r._contentElement.style.height="".concat(n.height,"px"),r._contentElement.style.width="".concat(n.width,"px")):"RESIZE_N"===r._dragActionData.action?(r._contentElement.style.height="".concat(n.height-e.top,"px"),r._contentElement.style.top="".concat(n.top+e.top,"px")):"RESIZE_NE"===r._dragActionData.action?(r._contentElement.style.height="".concat(n.height-e.top,"px"),r._contentElement.style.top="".concat(n.top+e.top,"px"),r._contentElement.style.width="".concat(n.width+e.left,"px"),r._contentElement.style.left="".concat(n.left,"px")):"RESIZE_E"===r._dragActionData.action?(r._contentElement.style.width="".concat(n.width+e.left,"px"),r._contentElement.style.left="".concat(n.left,"px")):"RESIZE_SE"===r._dragActionData.action?(r._contentElement.style.top="".concat(n.top,"px"),r._contentElement.style.left="".concat(n.left,"px"),r._contentElement.style.width="".concat(n.width+e.left,"px"),r._contentElement.style.height="".concat(n.height+e.top,"px")):"RESIZE_S"===r._dragActionData.action?(r._contentElement.style.top="".concat(n.top,"px"),r._contentElement.style.height="".concat(n.height+e.top,"px")):"RESIZE_SW"===r._dragActionData.action?(r._contentElement.style.top="".concat(n.top,"px"),r._contentElement.style.height="".concat(n.height+e.top,"px"),r._contentElement.style.width="".concat(n.width-e.left,"px"),r._contentElement.style.left="".concat(n.left+e.left,"px")):"RESIZE_NW"===r._dragActionData.action?(r._contentElement.style.width="".concat(n.width-e.left,"px"),r._contentElement.style.left="".concat(n.left+e.left,"px"),r._contentElement.style.height="".concat(n.height-e.top,"px"),r._contentElement.style.top="".concat(n.top+e.top,"px")):"RESIZE_W"===r._dragActionData.action&&(r._contentElement.style.width="".concat(n.width-e.left,"px"),r._contentElement.style.left="".concat(n.left+e.left,"px"))}})),r._contentElement.addEventListener("mouseup",(function(t){r._dragActionData=null,r._element.style.pointerEvents="",t.stopPropagation()})),r._contentElement.addEventListener("click",(function(t){t.stopPropagation()})),r._anchorElement=o,o&&I(0,o,r.contentElement),r._parentPopUp=null,r.hide(),r}var n,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(e,t),n=e,i=[{key:"dock",value:function(){this._moved=!1,this._centerContainer.style.height="",this.hide(),this.show()}},{key:"lastFocusElement",get:function(){return this._lastFocusElement}},{key:"isModal",get:function(){return this._modal}},{key:"contextObject",get:function(){return this._contextObject}},{key:"id",get:function(){return this._id}},{key:"contentElement",get:function(){return this._contentElement}},{key:"centerContainer",get:function(){return this._centerContainer}},{key:"content",get:function(){return this._popupContent}},{key:"parentPopUp",get:function(){return this._parentPopUp}},{key:"moveable",get:function(){return this._moveable}},{key:"resizeable",get:function(){return this._resizeable}},{key:"titleBar",get:function(){return this._titleBar}},{key:"title",get:function(){return this._title},set:function(t){this._title=t,this._titleBar.classList.remove("not-empty");var e=this._titleBar.getElementsByClassName("title-bar-content")[0];null!==t&&t instanceof Element?(e.innerHTML="",e.appendChild(t),this._titleBar.classList.add("not-empty")):null!==t&&(e.innerHTML="",e.innerHTML=this.player.translate(t),this._titleBar.classList.add("not-empty"))}},{key:"setCloseActions",value:function(t){var e=t.clickOutside,n=void 0===e||e,r=t.closeButton,o=void 0!==r&&r;this._closeOnClickOut=n,this._closeOnButton=o,this._closeOnButton?this._closeButton.style.display="block":this._closeButton.style.display="none"}},{key:"isParent",value:function(t){return t===this||null!==this.parentPopUp&&(this.parentPopUp===t||this.parentPopUp.isParent(t))}},{key:"setContent",value:function(t){this.centerContainer.innerHTML="","string"==typeof t?this._popupContent=(0,r.h6)(t,this.centerContainer):(this._popupContent=t,this.centerContainer.appendChild(t))}},{key:"show",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._anchorElement&&!this._moved&&I(this.player,this._anchorElement,this.contentElement),n&&this.setParent(n),this._parentPopUp=i,i&&i.addChild(this),O(T(e.prototype),"show",this).call(this),e.HideNonAncestors(this),this._closeOnClickOut&&((t=this.player).__hidePopUpActionContainer||(t.__hidePopUpActionContainer=(0,r.h6)('<div class="hide-popup-action-container"></div>'),t.videoContainer.element.appendChild(t.__hidePopUpActionContainer),t.__hidePopUpActionContainer.style.position="absolute",t.__hidePopUpActionContainer.style.left="0px",t.__hidePopUpActionContainer.style.top="0px",t.__hidePopUpActionContainer.style.right="0px",t.__hidePopUpActionContainer.style.bottom="0px",t.__hidePopUpActionContainer.style.zIndex=500,t.__hidePopUpActionContainer.addEventListener("click",(function(t){B.HideAllPopUps(!1),t.stopPropagation()}))),t.__hidePopUpActionContainer.style.display="block"),(0,o.Hl)(this.player,o.Ay.SHOW_POPUP,{popUp:this,plugin:this.contextObject})}},{key:"hide",value:function(){if(this.isVisible){if(this._children&&this._children.forEach((function(t){t._closeOnClickOut&&t.hide()})),this._parentPopUp&&this._parentPopUp.removeChild(this),(0,o.Hl)(this.player,o.Ay.HIDE_POPUP,{popUp:this,plugin:this.contextObject}),this._anchorElement)try{this._anchorElement.removeAttribute("aria-expanded")}catch(t){}O(T(e.prototype),"hide",this).call(this),this.lastFocusElement&&this.lastFocusElement.focus()}var t;R.some((function(t){return t.isVisible&&t._closeOnClickOut}))||(t=this.player).__hidePopUpActionContainer&&(t.__hidePopUpActionContainer.style.display="none")}},{key:"addChild",value:function(t){this._children=this._children||[],this._children.find((function(e){return e===t}))||this._children.push(t)}},{key:"removeChild",value:function(t){this._children&&(this._children=this._children.filter((function(e){return e!==t})))}},{key:"destroy",value:function(){var t=R.indexOf(this);-1!==t&&(R.splice(t,1),this.removeFromParent())}}],a=[{key:"GetPopUps",value:function(){return R}},{key:"IsSomePopUpVisible",value:function(){return R.some((function(t){return t.isVisible}))}},{key:"GetPopUp",value:function(t){return R.find((function(e){return e.id===t}))}},{key:"Contains",value:function(t){return R.some((function(e){return e.element.contains(t)}))}},{key:"HideAllPopUps",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];R.forEach((function(e){(t&&e.isModal||!t)&&e._closeOnClickOut&&e.hide()}))}},{key:"HideTopPopUp",value:function(){if(R.length){var t=null;if(R.slice().reverse().some((function(e){return e.isVisible&&(t=e),null!==t})),t&&t._closeOnClickOut)return t.hide(),!0}return!1}},{key:"Unload",value:function(){R.forEach((function(t){t.removeFromParent()})),R.slice(0)}},{key:"HideNonAncestors",value:function(t){R.forEach((function(e){t.isParent&&!t.isParent(e)&&e._closeOnClickOut&&e.hide()}))}}],i&&C(n.prototype,i),a&&C(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.hW)},383:(t,e,n)=>{"use strict";n.d(e,{A:()=>m});var r=n(4319),o=n(3118),i=n(4666),a=n(7100);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function p(t,e,n){return e=y(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function g(){var t=this,e=["modal","timeline","no-modal"],n=function(){return t.player.log.warn('Invalid popUpType set in "'.concat(t.name,'" plugin. Alowed types are "modal", "timeline" and "no-modal"'))};return-1!==e.indexOf(this.config.popUpType)?this.config.popUpType:-1!==e.indexOf(this.popUpType)?(this.config.popUpType&&n(),this.popUpType):(n(),"modal")}var m=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=p(this,e,arguments))._refreshContent=!0,t}var n,r,s,u,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),n=e,r=[{key:"refreshContent",get:function(){return this._refreshContent},set:function(t){this._refreshContent=t}},{key:"closeParentPopUp",get:function(){return this.config.closeParentPopUp||this.getCloseParentPopUp()}},{key:"getCloseParentPopUp",value:function(){return!1}},{key:"action",value:(h=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.showPopUp();case 2:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"parentPopUp",get:function(){return this._parentPopUp},set:function(t){this._parentPopUp=t}},{key:"popUp",get:function(){return this._popUp}},{key:"menuTitle",get:function(){return this.config.menuTitle||null}},{key:"moveable",get:function(){var t;return null!==(t=this.config.moveable)&&void 0!==t&&t}},{key:"resizeable",get:function(){var t;return null!==(t=this.config.resizeable)&&void 0!==t&&t}},{key:"customPopUpClass",get:function(){var t;return null!==(t=this.config.customPopUpClass)&&void 0!==t?t:""}},{key:"closeActions",get:function(){var t,e,n,r;return{clickOutside:null===(t=null===(e=this.config.closeActions)||void 0===e?void 0:e.clickOutside)||void 0===t||t,closeButton:null!==(n=null===(r=this.config.closeActions)||void 0===r?void 0:r.closeButton)&&void 0!==n&&n}}},{key:"getContent",value:(u=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,i.h6)("<p>Pop Up Button Plugin Content</p>"),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"popUpType",get:function(){return this.config.popUpType||"modal"}},{key:"hidePopUp",value:function(){this.closeParentPopUp?o.A.HideAllPopUps(!1):this._popUp&&this._popUp.hide()}},{key:"showPopUp",value:(s=l(c().mark((function t(){var e,n,r,i,s,u,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.player.isFullscreen?this.player.containerElement:document.body,this._popUp){t.next=14;break}return this._popUp=null,"modal"===(n=g.apply(this))||"no-modal"===n?(r=this.closeActions,i=r.clickOutside,s=r.closeButton,this._popUp=new o.A(this.player,e,this.button,this,"modal"===n,this.moveable,this.resizeable,this.customPopUpClass),this._popUp.setCloseActions({clickOutside:i,closeButton:s})):"timeline"===n&&(this._popUp=new a.A(this.player,this)),t.next=7,this.getContent();case 7:u=t.sent,this._popUp.title=this.menuTitle,this._popUp.setContent(u),this._popUp.show(e,this._parentPopUp),this.refreshContent=!1,t.next=29;break;case 14:if("timeline"!==this.popUpType||!this._popUp.isVisible){t.next=18;break}this._popUp.hide(),t.next=29;break;case 18:if(!this._popUp.isVisible){t.next=22;break}this._popUp.hide(),t.next=29;break;case 22:if(!this.refreshContent){t.next=28;break}return t.next=25,this.getContent();case 25:l=t.sent,this._popUp.setContent(l),this.refreshContent=!1;case 28:this._popUp.show(e,this._parentPopUp);case 29:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})}],r&&f(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},7125:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:String(e)}function a(t,e,n){return e=c(e),function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,n||[],c(t).constructor):e.apply(t,n))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}n.d(e,{A:()=>l});var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,arguments)}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(e,t),n=e,(r=[{key:"type",get:function(){return"progressIndicator"}},{key:"minHeight",get:function(){return 0}},{key:"minHeightHover",get:function(){return 0}},{key:"drawForeground",value:function(t,e,n,r){}},{key:"drawBackground",value:function(t,e,n,r){}},{key:"requestUpdate",value:function(){this.player.playbackBar.progressIndicator.requestUpdateCanvas()}}])&&o(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(n(5151).A)},7100:(t,e,n)=>{"use strict";n.d(e,{A:()=>O});var r=n(4666),o=n(193),i=n(5072),a=n.n(i),s=n(7825),c=n.n(s),u=n(7659),l=n.n(u),f=n(5056),h=n.n(f),p=n(540),d=n.n(p),y=n(1113),v=n.n(y),g=n(6570),m={};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A(r.key),r)}}function A(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:String(e)}function x(t,e,n){return e=L(e),function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return C(t)}(t,E()?Reflect.construct(e,n||[],L(t).constructor):e.apply(t,n))}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E=function(){return!!t})()}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},k.apply(this,arguments)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function S(t){t.__timeLinePopUp||(t.__timeLinePopUp={popUps:[],current:null})}m.styleTagTransform=v(),m.setAttributes=h(),m.insert=l().bind(null,"head"),m.domAPI=c(),m.insertStyleElement=d(),a()(g.A,m),g.A&&g.A.locals&&g.A.locals;var O=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),S(t),(n=x(this,e,[t,{attributes:{class:"timeline-popup-content"},parent:t.containerElement}]))._contextObject=r,t.__timeLinePopUp.popUps.forEach((function(t){return t.hide()})),n._id=Symbol(C(n)),t.__timeLinePopUp.popUps.push(C(n)),t.__timeLinePopUp.current=C(n),(0,o.Hl)(n.player,o.Ay.SHOW_POPUP,{popUp:C(n),plugin:n.contextObject}),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(e,t),n=e,r=[{key:"contextObject",get:function(){return this._contextObject}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isVisible||(this.player.__timeLinePopUp.popUps.forEach((function(t){return t.hide()})),k(L(e.prototype),"show",this).call(this),this.player.__timeLinePopUp.current=this,!0!==t&&(0,o.Hl)(this.player,o.Ay.SHOW_POPUP,{popUp:this,plugin:this.contextObject}))}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isVisible&&(k(L(e.prototype),"hide",this).call(this),this.player.__timeLinePopUp.current=null,!0!==t&&(0,o.Hl)(this.player,o.Ay.HIDE_POPUP,{popUp:this,plugin:this.contextObject}))}},{key:"setContent",value:function(t){t&&(this.element.innerHTML="",this.element.appendChild(t))}}],i=[{key:"HideUserInterface",value:function(t){if(S(t),t.__timeLinePopUp.current){var e=t.__timeLinePopUp.current;t.__timeLinePopUp.current.hide(!0),t.__timeLinePopUp.current=e}}},{key:"ShowUserInterface",value:function(t){S(t),t.__timeLinePopUp.current&&t.__timeLinePopUp.current.show(!0)}},{key:"HideAll",value:function(t){var e;null==t||null===(e=t.__timeLinePopUp)||void 0===e||e.popUps.forEach((function(t){return t.hide()}))}},{key:"Unload",value:function(t){t.__timeLinePopUp&&(t.__timeLinePopUp.current&&t.__timeLinePopUp.current.removeFromParent(),t.__timeLinePopUp.popUps.forEach((function(t){t.removeFromParent()})),t.__timeLinePopUp.popUps.slice(0),delete t.__timeLinePopUp)}}],r&&w(n.prototype,r),i&&w(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.hW)},463:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){o=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new R(r||[]);return a(i,"_invoke",{value:S(t,n,s)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&i.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,s,c){var u=p(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=A,a(k,"constructor",{value:A,configurable:!0}),a(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function i(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:String(e)}function c(t,e,n){return e=l(e),function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}n.d(e,{A:()=>h});var h=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=c(this,e,[t,n,r])).__uiPlugin=!0,o}var n,r,s,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,r=[{key:"getDictionaries",value:(s=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})),u=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=s.apply(t,e);function a(t){i(o,n,r,a,c,"next",t)}function c(t){i(o,n,r,a,c,"throw",t)}a(void 0)}))},function(){return u.apply(this,arguments)})}],r&&a(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(n(5151).A)},1614:(t,e,n)=>{"use strict";n.d(e,{$:()=>k,A:()=>_});var r=n(4666),o=n(5072),i=n.n(o),a=n(7825),s=n.n(a),c=n(7659),u=n.n(c),l=n(5056),f=n.n(l),h=n(540),p=n.n(h),d=n(1113),y=n.n(d),v=n(2672),g={};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function w(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==m(e)?e:String(e)}function A(t,e,n){return e=E(e),function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,x()?Reflect.construct(e,n||[],E(t).constructor):e.apply(t,n))}function x(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(x=function(){return!!t})()}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}g.styleTagTransform=y(),g.setAttributes=f(),g.insert=u().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),i()(v.A,g),v.A&&v.A.locals&&v.A.locals;var k=Object.freeze({TOP_LEFT:"topLeft",TOP_MIDDLE:"topMiddle",TOP_RIGHT:"topRight",CENTER_LEFT:"centerLeft",CENTER_MIDDLE:"centerMiddle",CENTER_RIGHT:"centerRight",BOTTOM_LEFT:"bottomLeft",BOTTOM_MIDDLE:"bottomMiddle",BOTTOM_RIGHT:"bottomRight"}),L=function(t,e,n,o,i){o=o||"",n=n||1e3;var a=(0,r.h6)('\n        <div class="message-content '.concat(o,'">\n            ').concat(t?'<i class="icon">'.concat(t,"</i>"):"","\n            ").concat(e?'<p class="text">'.concat(e,"</p>"):"","\n        </div>\n    "));return i.innerHTML="",i.appendChild(a),i.timer&&(clearTimeout(i.timer),i.timer=null),i.timer=setTimeout((function(){i.removeChild(a)}),n),a},_=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=A(this,e,[t,{attributes:{class:"video-container-message"},parent:n}]))._topLeftContainer=(0,r.h6)('<div class="container top-left"></div>',o.element),o._topMiddleContainer=(0,r.h6)('<div class="container top-middle"></div>',o.element),o._topRightContainer=(0,r.h6)('<div class="container top-right"></div>',o.element),o._centerLeftContainer=(0,r.h6)('<div class="container center-left"></div>',o.element),o._centerMiddleContainer=(0,r.h6)('<div class="container center-middle"></div>',o.element),o._centerRightContainer=(0,r.h6)('<div class="container center-right"></div>',o.element),o._bottomLeftContainer=(0,r.h6)('<div class="container bottom-left"></div>',o.element),o._bottomMiddleContainer=(0,r.h6)('<div class="container bottom-middle"></div>',o.element),o._bottomRightContainer=(0,r.h6)('<div class="container bottom-right"></div>',o.element),o}var n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(e,t),n=e,(o=[{key:"show",value:function(t){var e=t.icon,n=void 0===e?null:e,r=t.text,o=void 0===r?"":r,i=t.timeout,a=void 0===i?1e3:i,s=t.position,c=void 0===s?k.CENTER_MIDDLE:s,u=t.cssClass,l=void 0===u?"":u;switch(c){case k.TOP_LEFT:L.apply(this,[n,o,a,l,this._topLeftContainer]);break;case k.TOP_MIDDLE:L.apply(this,[n,o,a,l,this._topMiddleContainer]);break;case k.TOP_RIGHT:L.apply(this,[n,o,a,l,this._topRightContainer]);break;case k.CENTER_LEFT:L.apply(this,[n,o,a,l,this._centerLeftContainer]);break;case k.CENTER_MIDDLE:L.apply(this,[n,o,a,l,this._centerMiddleContainer]);break;case k.CENTER_RIGHT:L.apply(this,[n,o,a,l,this._centerRightContainer]);break;case k.BOTTOM_LEFT:L.apply(this,[n,o,a,l,this._bottomLeftContainer]);break;case k.BOTTOM_MIDDLE:L.apply(this,[n,o,a,l,this._bottomMiddleContainer]);break;case k.BOTTOM_RIGHT:L.apply(this,[n,o,a,l,this._bottomRightContainer])}}}])&&b(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.hW)},6935:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>b,DU:()=>y,FY:()=>g,Pu:()=>v,Wx:()=>d,_H:()=>p,su:()=>m});var r=n(2478);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:String(e)}function s(t,e,n){return e=u(e),function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],u(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){return(0,r.G8)(t,"layout").filter((function(t){return t.config&&t.config.enabled&&t.canApply(e)}))}function d(t,e){var n=p(t,e),r=[];return n.forEach((function(t){r.push.apply(r,f(t.getValidContentIds(e)))})),r}function y(t,e){var n=[];return(0,r.G8)(t,"layout").filter((function(t){var n,r;if(null!==(n=t.config)&&void 0!==n&&n.enabled&&null!==(r=t.config)&&void 0!==r&&r.validContent)return t.config.validContent.every((function(t){return t.content.length===e}))})).forEach((function(t){return t.config.validContent.forEach((function(t){return n.push(t.content)}))})),n}function v(t,e,n){var r=p(t,e),o=null;return r.some((function(t){if(-1!==t.getValidContentIds(e).indexOf(n))return o=t,!0})),o}function g(t,e){var n=p(t,e),r=d(t,e),o=[];return n.forEach((function(t){o=[].concat(f(o),f(t.config.validContent))})),o.filter((function(t){return-1!==r.indexOf(t.id)}))}function m(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=v(t,e,n);if(o){var i=o.getLayoutStructure(e,n,r);return i.plugin=o,i}return null}var b=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(e,t),n=e,(r=[{key:"type",get:function(){return"layout"}},{key:"layoutType",get:function(){return"static"}},{key:"getTabIndexStart",value:function(){return 10}},{key:"tabIndexStart",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.tabIndexStart)||this.getTabIndexStart()}},{key:"identifier",get:function(){return"default"}},{key:"icon",get:function(){return"icon.png"}},{key:"validContent",get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.validContent)||[]}},{key:"validContentIds",get:function(){var t=[];return this.validContent.forEach((function(e){return t.push(e.id)})),t}},{key:"getValidContentIds",value:function(t){var e=[];return this.validContent.forEach((function(n){n.content.every((function(e){return t.some((function(t){return e===t.content}))}))&&e.push(n.id)})),e}},{key:"getValidStreams",value:function(t){var e=[];return this.validContent.forEach((function(n){var r=[];n.content.every((function(e){return t.some((function(t){if(e===t.content)return r.push(t),!0}))}))&&e.push(r)})),e}},{key:"canApply",value:function(t){return this.getValidStreams(t).length>0}},{key:"getLayoutStructure",value:function(){return{}}},{key:"getVideoCanvasButtons",value:function(t,e,n){return[]}}])&&i(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(n(463).A)},9506:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>w,Bw:()=>S,Ce:()=>P,LO:()=>C,kf:()=>_,o3:()=>O,oV:()=>x});var r=n(4666),o=n(5151),i=n(2478),a=n(8955);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function p(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function y(t,e,n){return e=g(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}var w=function(t){function e(){return f(this,e),y(this,e,arguments)}var n;return m(e,t),p(e,[{key:"type",get:function(){return"video"}},{key:"streamType",get:function(){return"mp4"}},{key:"isCompatible",value:function(){return!1}},{key:"getVideoInstance",value:(n=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return[]}},{key:"getManifestData",value:function(t){}}]),e}(o.A),A=[];function x(t){return E.apply(this,arguments)}function E(){return(E=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i._x)(e,"video",(function(t){A.push(t)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t){return k.apply(this,arguments)}function k(){return(k=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:A.slice(0);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){if(0===A.length)throw Error("No video plugins loaded. Note that `loadVideoPlugins()` must to be called before using `getVideoPlugins()`.");return A}function _(t,e){var n=(0,a.getFileExtension)(e);return L().find((function(t){return-1!==t.getCompatibleFileExtensions().indexOf(n)}))}function S(t,e){var n=L(),r=null;return n.some((function(t){if(t.isCompatible(e))return r=t,!0})),r}function O(){return T.apply(this,arguments)}function T(){return(T=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){var e=document.createElement("audio"),n=setTimeout((function(){return t(!1)}),100);e.addEventListener("volumechange",(function(e){clearTimeout(n),t(!0)})),e.volume=.5}));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var P=function(t){function e(t,n,r){var o;return f(this,e),(o=y(this,e,[n,{tag:t,attributes:{class:"video-player"},parent:r}]))._streamProvider=null,o._streamData=null,o._ready=!1,o}var n,r,o,i,a,s,u,h,d,v,g,b,w,A,x,E,C,k,L,_,S;return m(e,t),p(e,[{key:"isVolumeApiAvailable",value:(S=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return S.apply(this,arguments)})},{key:"streamData",get:function(){return this._streamData}},{key:"ready",get:function(){return this._ready}},{key:"load",value:(_=l(c().mark((function t(e,n){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._streamProvider=n,this._streamData=e,t.next=4,this.loadStreamData(e);case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return _.apply(this,arguments)})},{key:"isMainAudioPlayer",get:function(){return this._streamProvider.mainAudioPlayer===this}},{key:"onVideoEnded",value:function(t){this._videoEndedCallback=t}},{key:"play",value:(L=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return L.apply(this,arguments)})},{key:"pause",value:(k=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return k.apply(this,arguments)})},{key:"duration",value:(C=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return C.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return-1}},{key:"currentTime",value:(E=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return E.apply(this,arguments)})},{key:"setCurrentTime",value:(x=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return x.apply(this,arguments)})},{key:"volume",value:(A=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return A.apply(this,arguments)})},{key:"setVolume",value:(w=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return w.apply(this,arguments)})},{key:"initVolume",value:function(t){this._initialVolume=t}},{key:"paused",value:(b=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)}))),function(){return b.apply(this,arguments)})},{key:"playbackRate",value:(g=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",-1);case 1:case"end":return t.stop()}}),t)}))),function(){return g.apply(this,arguments)})},{key:"setPlaybackRate",value:(v=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)})},{key:"getQualities",value:(d=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)})},{key:"setQuality",value:(h=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})},{key:"currentQuality",get:function(){return null}},{key:"getDimensions",value:(u=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"supportsMultiaudio",value:(s=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})},{key:"getAudioTracks",value:(a=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(i=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return null}},{key:"loadStreamData",value:(o=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})},{key:"isEnabled",get:function(){return this._enabled}},{key:"enable",value:(r=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._enabled=!0;case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"disable",value:(n=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._enabled=!1;case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),e}(r.hW)},5803:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:String(e)}n.d(e,{A:()=>a});var a=function(){function t(e){var n=e.label,r=e.shortLabel,o=e.isAuto,i=void 0!==o&&o,a=e.index,s=void 0===a?0:a,c=e.src,u=void 0===c?"":c,l=e.width,f=void 0===l?-1:l,h=e.height,p=void 0===h?-1:h,d=e.bitrate,y=void 0===d?-1:d;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._label=n,this._shortLabel=r,this._index=s,this._src=u,this._res={w:f,h:p},this._bitrate=y,this._isAuto=i}var e,n;return e=t,(n=[{key:"label",get:function(){return this._label}},{key:"shortLabel",get:function(){return this._shortLabel}},{key:"index",get:function(){return this._index}},{key:"src",get:function(){return this._src}},{key:"res",get:function(){return this._res}},{key:"bitrate",get:function(){return this._bitrate}},{key:"isAuto",get:function(){return this._isAuto}},{key:"quality",get:function(){return-1!==this._res.w&&-1!==this._res.h?this._res.w*this._res.h:this._bitrate}},{key:"compare",value:function(t){return t.quality-this.quality}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},4666:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:String(e)}function a(t,e,n){return e=c(e),function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}(t,s()?Reflect.construct(e,n||[],c(t).constructor):e.apply(t,n))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){var e=t.tag,n=void 0===e?"div":e,r=t.attributes,o=void 0===r?{}:r,i=t.children,a=void 0===i?"":i,s=t.innerText,c=void 0===s?"":s,u=t.parent,l=void 0===u?null:u,f=document.createElement(n);for(var h in f.innerText=c,o)f.setAttribute(h,o[h]);return f.innerHTML=a,l&&l.appendChild(f),f}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.createElement("div");n.innerHTML=t;var r=n.children[0];return e&&e.appendChild(r),r}n.d(e,{h6:()=>h,hW:()=>p,n:()=>f});var p=function(t){function e(t,n){var r,o=n.tag,i=void 0===o?"div":o,s=n.attributes,c=void 0===s?[]:s,l=n.children,h=void 0===l?"":l,p=n.parent,d=void 0===p?null:p;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=a(this,e,[t]))._element=f({tag:i,attributes:c,children:h,parent:d}),Object.defineProperty(u(r),i,{get:function(){return r._element}}),r}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(e,t),n=e,r=[{key:"element",get:function(){return this._element}},{key:"parent",get:function(){return this._element.parentElement}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";this.element.style.display=t}},{key:"isVisible",get:function(){var t=window.getComputedStyle(this.element);return"none"!==t.display&&""!==t.display}},{key:"setAttribute",value:function(t,e){this._element.setAttribute(t,e)}},{key:"removeFromParent",value:function(){var t;null===(t=this._element.parentElement)||void 0===t||t.removeChild(this._element)}},{key:"setParent",value:function(t){this.removeFromParent(),t.appendChild(this._element)}}],r&&o(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(n(933).A)},2478:(t,e,n)=>{"use strict";n.d(e,{G8:()=>M,_W:()=>B,_x:()=>F,I1:()=>D,r8:()=>G,jx:()=>N});const r=[n(3099),n(5546),n(6590),n(8933),n(9633)];var o=n(4504),i=n(9805),a=n(951),s=n(1395),c=n(4273),u=n(1175),l=n(4807),f=n(2740),h=n(5943),p=n(6664),d=n(7812),y=n(7837),v=n(6868),g=n(135),m=n(5202),b=n(1467),w=n(6689),A=n(6247),x=n(9550),E=n(8484);const C=[{plugin:o.default,config:{enabled:!1}},{plugin:i.default,config:{enabled:!1}},{plugin:a.default,config:{enabled:!1}},{plugin:s.default,config:{enabled:!1}},{plugin:c.default,config:{enabled:!1}},{plugin:u.default,config:{enabled:!1}},{plugin:l.default,config:{enabled:!1}},{plugin:f.default,config:{enabled:!1}},{plugin:h.default,config:{enabled:!1}},{plugin:p.default,config:{enabled:!1}},{plugin:d.default,config:{enabled:!1}},{plugin:y.default,config:{enabled:!1}},{plugin:v.default,config:{enabled:!1}},{plugin:g.default,config:{enabled:!1}},{plugin:m.default,config:{enabled:!1}},{plugin:d.default,config:{enabled:!1}},{plugin:b.default,config:{enabled:!1}},{plugin:w.default,config:{enabled:!1}},{plugin:A.default,config:{enabled:!1}},{plugin:x.default,config:{enabled:!1}},{plugin:E.default,config:{enabled:!1,context:["default"]}}];var k=n(8955),L=n(8047);function _(){_=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(I([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==R(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=S(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function S(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(R(e)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function S(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function O(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){S(i,r,o,a,s,"next",t)}function s(t){S(i,r,o,a,s,"throw",t)}a(void 0)}))}}function T(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}var I=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=new t(e,n);return(n=o.name||n)?(e.config.plugins&&e.config.plugins[n]&&(0,k.mergeObjects)(r,e.config.plugins[n],!1),o._config=r,o):(e.log.warn("The instance of the ".concat(t.name," plugin cannot be created because it is being loaded explicitly and does not have the name property implemented.")),null)};function j(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=n.type,a=-1;if(t.__pluginData__.pluginInstances[i]&&t.__pluginData__.pluginInstances[i].find((function(t,e){if(t.name===n.name)return a=e,!0}))&&!o)t.log.info("Plugin ".concat(n.name," of type ").concat(i," already registered."));else{t.__pluginData__.pluginClasses[e]=r,t.__pluginData__.pluginInstances[i]=t.__pluginData__.pluginInstances[i]||[],-1!==a&&t.__pluginData__.pluginInstances[i].splice(a,1),t.__pluginData__.pluginInstances[i].push(n),t.__pluginModules=t.__pluginModules||[];var s=n.getPluginModuleInstance();if(s&&(s._player=s._player||t,!t.__pluginModules.find((function(t){return t.constructor.name===s.constructor.name})))){var c=s.moduleName,u=s.moduleVersion;t.log.debug("Plugin module imported: ".concat(c,": v").concat(u)),t.__pluginModules.push(s)}}}function B(t,e){var n=t.config;e.keys().forEach((function(r){var o=e(r),i=r.substring(2,r.length-3);if(n.plugins[i]){var a=o.default,s=I(a,t,i,{});j(t,r,s,a,!1)}else if(/^[a-z0-9]+$/i.test(i)){t.__pluginModules=t.__pluginModules||[];var c=new(0,o.default)(t);if(!t.__pluginModules.find((function(t){return t.constructor.name===c.constructor.name}))){var u=c.moduleName,l=c.moduleVersion;t.log.debug("Plugin module imported: ".concat(u,": v").concat(l)),t.__pluginModules.push(c)}}}))}function D(t){var e=t.config;if(t.__pluginData__=t.__pluginData__||{pluginClasses:[],pluginInstances:{}},0===t.__pluginData__.pluginClasses.length){[].concat(T(C),T(t.initParams.plugins)).forEach((function(e){!function(t,e){var n=null,r={enabled:!0};if("function"==typeof e?n=e:"object"===R(e)&&"function"==typeof e.plugin&&(n=e.plugin,r=e.config),n){var o=I(n,t,null,r);o?j(t,o.constructor.name,o,n,!0):t.log.warn("Unable to create an instance of the plugin ".concat(n.name))}else t.log.warn("Error importing plugin with explicit import API. Check the 'plugins' array at init params")}(t,e)})),r.forEach((function(e){return B(t,e)})),t.initParams.customPluginContext.forEach((function(e){return B(t,e)}));var n=e.buttonGroups;n&&n.forEach((function(e,n){var r="button_group_".concat(n),o=I(L.A,t,r,e);o._iconPath=(0,k.joinPath)([t.configResourcesUrl,e.icon]),j(t,o.type,o,"ButtonGroupPlugin".concat(n),!1)})),t.log.debug("Plugins have been registered:")}}function N(t){delete t.__pluginData__}function M(t,e){var n;return(null===(n=t.__pluginData__)||void 0===n?void 0:n.pluginInstances[e])||[]}function F(t,e){return U.apply(this,arguments)}function U(){return U=O(_().mark((function t(e,n){var r,o,i,a,s,c,u,l=arguments;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=l.length>2&&void 0!==l[2]?l[2]:null,o=l.length>3&&void 0!==l[3]?l[3]:null,e.__pluginData__.pluginInstances[n]){t.next=5;break}return e.log.info("There are no defined plugins of type '".concat(n,"'")),t.abrupt("return");case 5:e.__pluginData__.pluginInstances[n].sort((function(t,e){return t.order-e.order})),e.__pluginData__.pluginInstances[n].forEach((function(t){return e.log.debug("type: ".concat(n,", name: ").concat(t.name))})),"function"!=typeof o&&(o=function(){var t=O(_().mark((function t(e){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.isEnabled();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.t0=_().keys(e.__pluginData__.pluginInstances[n]);case 9:if((t.t1=t.t0()).done){t.next=28;break}return i=t.t1.value,a=e.__pluginData__.pluginInstances[n][i],t.next=14,o(a);case 14:if(!t.sent){t.next=26;break}if(!a.__uiPlugin){t.next=21;break}return t.next=19,a.getDictionaries();case 19:if("object"===R(s=t.sent))for(c in s)u=s[c],e.addDictionary(c,u);case 21:if("function"!=typeof r){t.next=24;break}return t.next=24,r(a);case 24:return t.next=26,a.load();case 26:t.next=9;break;case 28:case"end":return t.stop()}}),t)}))),U.apply(this,arguments)}function G(t,e){return $.apply(this,arguments)}function $(){return $=O(_().mark((function t(e,n){var r;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(r=e.__pluginData__.pluginInstances[n])||void 0===r||r.forEach(function(){var t=O(_().mark((function t(e){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.unload();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}},8955:(t,e,n)=>{"use strict";n.r(e),n.d(e,{clearAutoHideTimer:()=>x,getCookie:()=>S,getFileExtension:()=>g,getHashParameter:()=>f,getJSONCookie:()=>T,getNumericCookie:()=>O,getUrlFileName:()=>d,getUrlParameter:()=>l,isAbsoluteUrl:()=>p,joinPath:()=>h,loadStyle:()=>P,loadSvgIcon:()=>u,mergeObjects:()=>I,pauseAutoHideUiTimer:()=>b,removeExtension:()=>y,removeFileName:()=>v,resolveResourcePath:()=>m,resumeAutoHideUiTimer:()=>w,secondsToTime:()=>E,setCookie:()=>L,setCookieIfAllowed:()=>_,setupAutoHideUiTimer:()=>A,timeToMilliseconds:()=>k,timeToSeconds:()=>C,unloadStyle:()=>R});var r=n(193),o=n(3118);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,s,c){var u=p(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t){return new Promise((function(e,n){fetch(t).then((function(t){return t.text()})).then((function(t){e(t)})).catch((function(t){return n(t)}))}))}function l(t){var e=new URLSearchParams(window.location.search);return e.has(t)?e.get(t):null}function f(t){var e=window.location.hash.replace("#","?"),n=new URLSearchParams(e);return n.has(t)?n.get(t):null}function h(t,e){var n=e||"/";return(t=t.map((function(e,r){return r&&(e=e.replace(new RegExp("^"+n),"")),r!==t.length-1&&(e=e.replace(new RegExp(n+"$"),"")),e}))).join(n)}function p(t){return new RegExp("^([a-z]+://|//)","i").test(t)||/^\//.test(t)}function d(t){try{return new URL(t).pathname.split("/").pop()}catch(e){return t.split("/").pop()}}function y(t){return t.split(".").reduce((function(t,e,n,r){return n<r.length-1?""!==t?"".concat(t,".").concat(e):e:t}),"")}function v(t){var e=function(t){var e=t.split("/").reduce((function(t,e,n,r){return n<r.length-1?""!==t?"".concat(t,"/").concat(e):e:t}),"");return("/"===t[0]?"/".concat(e):e)+"/"};try{var n=new URL(t);return n.origin+e(n.pathname)}catch(n){return e(t)}}function g(t){return d(t).split(".").pop()}function m(t,e){return p(e)?e:h([t.manifestUrl,e])}function b(t){t.__hideTimerPaused__=!0}function w(t){t.__hideTimerPaused__=!1}function A(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hideUiTime";t.__hideTimer__=null;var i=function(){var e=c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.A.IsSomePopUpVisible()){e.next=6;break}return t.log.debug("UI not hidden because there are visible pop ups"),e.abrupt("return",!1);case 6:if(!t.__hideTimerPaused__){e.next=11;break}return t.log.debug("UI not hidden because the auto hide timer is paused"),e.abrupt("return",!1);case 11:if(!s()){e.next=14;break}return t.log.debug("UI not hidden because there is a focused element"),e.abrupt("return",!1);case 14:return e.next=16,t.hideUserInterface();case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();null!==(e=t.config.ui)&&void 0!==e&&e.hideOnMouseLeave&&t.containerElement.addEventListener("mouseleave",(function(){i()}));var s=function(){var e=document.activeElement;return(t.playbackBar.element.contains(e)||t.videoContainer.element.contains(e))&&-1!==["input","textarea","button"].find((function(t){return e.tagName.toLowerCase(t)}))},u=function(){var e=c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.__hideTimer__&&clearTimeout(t.__hideTimer__),e.next=3,t.showUserInterface();case 3:t.__hideTimer__=setTimeout(c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.__hideTimer__=null,i()||u();case 2:case"end":return e.stop()}}),e)}))),t[n]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.containerElement.addEventListener("mousemove",function(){var t=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,r.e3)(t,r.Ay.PLAY,c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u();case 1:case"end":return t.stop()}}),t)})))),(0,r.e3)(t,r.Ay.PAUSE,c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.showUserInterface();case 2:case"end":return e.stop()}}),e)})))),(0,r.e3)(t,r.Ay.ENDED,c(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.showUserInterface();case 2:case"end":return e.stop()}}),e)})))),document.addEventListener("keydown",c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u();case 1:case"end":return t.stop()}}),t)}))))}function x(t){t.__hideTimer__&&(clearTimeout(t.__hideTimer__),delete t.__hideTimer__)}function E(t){var e=Math.floor(t/60/60),n=Math.floor(t/60)-60*e,r=Math.floor(t%60);return(e>0?e.toString().padStart(2,"0")+":":"")+n.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0")}function C(t){var e=/^(?:(\d+):){0,1}(\d+):(\d+)(\.\d+)?$/.exec(t);return e?3600*(void 0!==e[1]?Number(e[1]):0)+60*Number(e[2])+Number(e[3]):null}function k(t){var e=/^(?:(\d+):){0,1}(\d+):(\d+)\.(\d+)?$/.exec(t);return e?36e5*(void 0!==e[1]?Number(e[1]):0)+6e4*Number(e[2])+1e3*Number(e[3])+(e[4]&&Number(e[4])||0):null}function L(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o="expires=".concat(r.toUTCString());document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/;SameSite=None;")+(/Apple/.test(navigator.vendor)?"":"Secure;")}function _(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:365;t.cookieConsent.getConsentForType(e)&&L(n,r,o)}function S(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;++r){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}function O(t){var e=S(t),n=Number(e);return""===e||isNaN(n)?null:n}function T(t){try{return JSON.parse(S(t))}catch(t){return null}}function P(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(n){var r=document.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("href",t),r.onload=function(){return n(r)};var o=document.getElementsByTagName("head")[0];e&&o.appendChild(r),n(r)}))}function R(t){document.getElementsByTagName("head")[0].removeChild(t)}function I(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=function(){var r=t[o],a=e[o];n&&Array.isArray(r)&&Array.isArray(a)?(r.forEach((function(t){a=a.filter((function(e){return"object"!==i(t)||"object"!==i(e)||t.id!==e.id||(I(t,e,n),!1)}))})),a.forEach((function(t){r.push(t)}))):"object"==i(r)&&a?I(r,a,n):t[o]=e[o]};for(var o in e)r()}},9619:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(5911),o=n(8330);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}function c(t,e,n){return e=l(e),function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}var h=null,p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,i=[{key:"Get",value:function(){return h||(h=new e),h}}],(r=[{key:"moduleName",get:function(){return"paella-core default data plugins"}},{key:"moduleVersion",get:function(){return o.version}}])&&a(n.prototype,r),i&&a(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},8484:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(1224),o=n(8955),i=n(9619);function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,s,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,s)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=p(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(u(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,s,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==u(e)?e:String(e)}function h(t,e,n){return e=y(e),function(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},d.apply(this,arguments)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,e,arguments)}var n,r,s,f,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return d(y(e.prototype),"name",this)||"es.upv.paella.cookieDataPlugin"}},{key:"serializeKey",value:function(t,e){return"object"===u(e)&&(e=JSON.stringify(e)),"".concat(t,"|").concat(e)}},{key:"read",value:(p=c(a().mark((function t(e,n){var r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.serializeKey(e,n),i=(0,o.getCookie)(r);try{i=JSON.parse(i)}catch(t){}return this.player.log.debug("CookieDataPlugin.read: ".concat(r)),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return p.apply(this,arguments)})},{key:"write",value:(f=c(a().mark((function t(e,n,r){var i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.serializeKey(e,n),r&&"object"===u(r))try{r=JSON.stringify(r)}catch(t){this.player.log.warn("CookieDataPlugin.write: ".concat(i,": invalid data object.")),r=""}(0,o.setCookie)(i,r),this.player.log.debug("CookieDataPlugin.write: ".concat(i));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return f.apply(this,arguments)})},{key:"remove",value:(s=c(a().mark((function t(e,n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.serializeKey(e,n),(0,o.setCookie)(r,""),this.player.log.debug("CookieDataPlugin.remove: ".concat(r));case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})}],r&&l(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.q)},6146:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var r=n(1224),o=n(9619);function i(){i=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,s,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,s)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,s,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function a(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,c,"next",t)}function c(t){a(i,r,o,s,c,"throw",t)}s(void 0)}))}}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:String(e)}function f(t,e,n){return e=d(e),function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},p.apply(this,arguments)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var v=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,e,arguments)}var n,r,a,l,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return p(d(e.prototype),"name",this)||"es.upv.paella.localStorageDataPlugin"}},{key:"serializeKey",value:function(t,e){return"object"===c(e)&&(e=JSON.stringify(e)),"".concat(t,"|").concat(e)}},{key:"read",value:(h=s(i().mark((function t(e,n){var r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.serializeKey(e,n),o=localStorage.getItem(r);try{o=JSON.parse(o)}catch(t){}return this.player.log.debug("LocalStorageDataPlugin.read: ".concat(r)),t.abrupt("return",o);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return h.apply(this,arguments)})},{key:"write",value:(l=s(i().mark((function t(e,n,r){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=this.serializeKey(e,n),r&&"object"===c(r))try{r=JSON.stringify(r)}catch(t){this.player.log.warn("LocalStorageDataPlugin.write: ".concat(o,": invalid data object.")),r=""}localStorage.setItem(o,r),this.player.log.debug("LocalStorageDataPlugin.write: ".concat(o));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return l.apply(this,arguments)})},{key:"remove",value:(a=s(i().mark((function t(e,n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.serializeKey(e,n),localStorage.setItem(r,""),this.player.log.debug("LocalStorageDataPlugin.remove: ".concat(r));case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})}],r&&u(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.q)},1581:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(5911),o=n(8330);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}function c(t,e,n){return e=l(e),function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}var h=null,p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,i=[{key:"Get",value:function(){return h||(h=new e),h}}],(r=[{key:"moduleName",get:function(){return"paella-core default video layouts"}},{key:"moduleVersion",get:function(){return o.version}}])&&a(n.prototype,r),i&&a(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},7837:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>j});var r=n(6935),o=n(8955),i=n(7003),a=n(6344),s=n.n(a),c=n(3877),u=n.n(c),l=n(6037),f=n.n(l),h=n(335),p=n.n(h),d=n(7783),y=n.n(d),v=n(7950),g=n.n(v),m=n(1581);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(){w=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function A(){}var x={};u(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=g.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==b(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(b(e)+" is not iterable")}return m.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:m,configurable:!0}),m.displayName=u(A,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function A(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){A(i,r,o,a,s,"next",t)}function s(t){A(i,r,o,a,s,"throw",t)}a(void 0)}))}}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C(r.key),r)}}function C(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:String(e)}function k(t,e,n){return e=S(e),function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,L()?Reflect.construct(e,n||[],S(t).constructor):e.apply(t,n))}function L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(L=function(){return!!t})()}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},_.apply(this,arguments)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}var T=0,P=[{id:"side-by-side",videos:[{content:null,rect:[{aspectRatio:"16/9",width:560,height:315,top:218,left:712},{aspectRatio:"16/10",width:560,height:350,top:206,left:712},{aspectRatio:"4/3",width:560,height:420,top:173,left:712},{aspectRatio:"5/3",width:560,height:336,top:206,left:712},{aspectRatio:"5/4",width:560,height:448,top:160,left:712}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",width:688,height:387,top:166,left:10},{aspectRatio:"16/10",width:688,height:430,top:148,left:10},{aspectRatio:"4/3",width:688,height:516,top:111,left:10},{aspectRatio:"5/3",width:690,height:414,top:154,left:10},{aspectRatio:"5/4",width:690,height:552,top:96,left:10}],visible:!0,layer:"1"}],buttons:[]},{id:"pip-left",videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:50,top:470,width:350,height:197},{aspectRatio:"16/10",left:50,top:448,width:350,height:219},{aspectRatio:"5/3",left:50,top:457,width:350,height:210},{aspectRatio:"5/4",left:50,top:387,width:350,height:280},{aspectRatio:"4/3",left:50,top:404,width:350,height:262}],visible:!0,layer:2}],buttons:[]},{id:"pip-right",videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:880,top:470,width:350,height:197},{aspectRatio:"16/10",left:880,top:448,width:350,height:219},{aspectRatio:"5/3",left:880,top:457,width:350,height:210},{aspectRatio:"5/4",left:880,top:387,width:350,height:280},{aspectRatio:"4/3",left:880,top:404,width:350,height:262}],visible:!0,layer:2}],buttons:[]}];function R(t,e){return T=e<P.length?e:T,I(t)}function I(t){var e=JSON.parse(JSON.stringify(P[T]));return e.videos[0].content=t[0],e.videos[1].content=t[1],e}var j=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,e,arguments)}var n,r,a,c,l,h,d,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return m.default.Get()}},{key:"name",get:function(){return _(S(e.prototype),"name",this)||"es.upv.paella.dualVideo"}},{key:"identifier",get:function(){return"dual-video"}},{key:"load",value:(v=x(w().mark((function t(){var e;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!==(e=(0,o.getCookie)("dualVideoLayoutIndex"))&&(T=Number(e)),this.player.log.debug("Dual video layout loaded");case 3:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return _(S(e.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 2===t.length}))}},{key:"switchContent",value:function(){var t=this._currentContent[0],e=this._currentContent[1];this._currentContent[0]=e,this._currentContent[1]=t,this.player.videoContainer.updateLayout()}},{key:"switchMinimized",value:(d=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._currentContent,T=(T+1)%P.length,I(e),t.next=3,this.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}var e}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"minimizeVideo",value:(h=x(w().mark((function t(e){var n,r,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!0,e===this._currentContent[0]&&(r=this._currentContent[0],o=this._currentContent[1],this._currentContent[0]=o,this._currentContent[1]=r,n=!1),R(this._currentContent,1===T&&n?2:1),t.next=5,this.player.videoContainer.updateLayout();case 5:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"maximizeVideo",value:(l=x(w().mark((function t(e){var n,r,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!0,e===this._currentContent[1]&&(r=this._currentContent[0],o=this._currentContent[1],this._currentContent[0]=o,this._currentContent[1]=r,n=!1),R(this._currentContent,1===T&&n?2:1),t.next=5,this.player.videoContainer.updateLayout();case 5:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"setSideBySide",value:(c=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return R(this._currentContent,0),t.next=3,this.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"minimizedContent",get:function(){return 0===T?"":this._currentContent[1]}},{key:"closeVideo",value:(a=x(w().mark((function t(e){var n,r;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.player.videoContainer.validContentIds.filter((function(t){return-1===t.indexOf("-")})),r=n.find((function(t){return t!=e})),t.next=4,this.player.videoContainer.setLayout(r);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"getVideoCanvasButtons",value:function(t,e,n,r){var o=this;if("side-by-side"===t.id)return[{icon:this.player.getCustomPluginIcon(this.name,"iconRotate")||s(),position:i.IY.LEFT,title:this.player.translate("Swap position of the videos"),ariaLabel:this.player.translate("Swap position of the videos"),name:this.name+":iconRotate",click:(A=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.switchContent();case 2:case"end":return t.stop()}}),t)}))),function(){return A.apply(this,arguments)})},{icon:this.player.getCustomPluginIcon(this.name,"iconMaximize")||p(),position:i.IY.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),name:this.name+":iconMaximize",click:(b=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.maximizeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return b.apply(this,arguments)})},{icon:this.player.getCustomPluginIcon(this.name,"iconClose")||y(),position:i.IY.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),name:this.name+":iconClose",click:(m=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.closeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return m.apply(this,arguments)})}];var a,c,l,h,d,v,m,b,A,E=[];return e===this.minimizedContent?(E.push({icon:this.player.getCustomPluginIcon(this.name,"iconMaximize")||p(),position:i.IY.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),name:this.name+":iconMaximize",click:(v=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.switchContent();case 2:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)})}),E.push({icon:this.player.getCustomPluginIcon(this.name,"iconSwitchSide")||f(),position:i.IY.LEFT,title:this.player.translate("Place the video on the other side of the screen"),ariaLabel:this.player.translate("Place the video on the other side of the screen"),name:this.name+":iconSwitchSide",click:(d=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.minimizeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)})}),E.push({icon:this.player.getCustomPluginIcon(this.name,"iconClose")||y(),position:i.IY.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),name:this.name+":iconClose",click:(h=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.closeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})})):(E.push({icon:this.player.getCustomPluginIcon(this.name,"iconMinimize")||u(),position:i.IY.LEFT,title:this.player.translate("Minimize video"),ariaLabel:this.player.translate("Minimize video"),name:this.name+":iconMinimize",click:(l=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.switchContent();case 2:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})}),E.push({icon:this.player.getCustomPluginIcon(this.name,"iconSideBySide")||g(),position:i.IY.LEFT,title:this.player.translate("Put the videos side by side"),ariaLabel:this.player.translate("Put the videos side by side"),name:this.name+":iconSideBySide",click:(c=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.setSideBySide();case 2:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})}),E.push({icon:this.player.getCustomPluginIcon(this.name,"iconClose")||y(),position:i.IY.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),name:this.name+":iconClose",click:(a=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.closeVideo(e);case 2:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})})),E}},{key:"getLayoutStructure",value:function(t,e){if(!this._currentContent||this._currentContentId!==e){var n=this.validContent.find((function(t){return t.id===e})),r=n.content;this._currentContent=r,this._currentContentId=e;var i=(0,o.getCookie)("dualVideoLayoutContent0"),a=(0,o.getCookie)("dualVideoLayoutContent1");""!==i&&""!==a&&-1!==this._currentContent.indexOf(i)&&-1!==this._currentContent.indexOf(a)&&(this._currentContent[0]=i,this._currentContent[1]=a)}var s=I(this._currentContent),c={id:s.id,player:this.player,name:{es:"Dos streams con posición dinámica"},hidden:!1,videos:s.videos,buttons:[]};return(0,o.setCookie)("dualVideoLayoutIndex",T),(0,o.setCookie)("dualVideoLayoutContent0",this._currentContent[0]),(0,o.setCookie)("dualVideoLayoutContent1",this._currentContent[1]),c}}],r&&E(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},7812:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>_});var r=n(6935),o=n(7003),i=n(1581),a=n(6037),s=n.n(a),c=n(335),u=n.n(c),l=n(7783),f=n.n(l),h=n(7950),p=n.n(h),d=n(2472),y=n.n(d);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function g(){g=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",m={};function b(){}function w(){}function A(){}var x={};u(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==v(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(v(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=u(A,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function m(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){m(i,r,o,a,s,"next",t)}function s(t){m(i,r,o,a,s,"throw",t)}a(void 0)}))}}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A(r.key),r)}}function A(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:String(e)}function x(t,e,n){return e=k(e),function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E()?Reflect.construct(e,n||[],k(t).constructor):e.apply(t,n))}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E=function(){return!!t})()}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},C.apply(this,arguments)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}var _=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),x(this,e,arguments)}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return C(k(e.prototype),"name",this)||"es.upv.paella.dualVideoDynamic"}},{key:"layoutType",get:function(){return"dynamic"}},{key:"load",value:(a=b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.pipContentIds=this.config.pipContentIds||[],this.allowSwitchSide=void 0===this.config.allowSwitchSide||this.config.allowSwitchSide;case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getVideoCanvasButtons",value:function(t,e,n,r){var i,a,c,l,h,d=this,v=this.player.getCustomPluginIcon(this.name,"iconMaximize")||u(),m=this.player.getCustomPluginIcon(this.name,"iconSideBySide")||p(),w=this.player.getCustomPluginIcon(this.name,"iconSwitchSide")||s(),A=this.player.getCustomPluginIcon(this.name,"iconClose")||f(),x=this.player.getCustomPluginIcon(this.name,"iconPiP")||y(),E=function(){return d._currentContent.find((function(t){return t.id===e}))},C=[];return 25===E().size||E().size>50?C.push({icon:m,position:o.IY.LEFT,title:this.player.translate("Dual stream 50%"),ariaLabel:this.player.translate("Dual stream 50%"),name:this.name+":iconSideBySide",click:(a=b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d._currentContent.forEach((function(t){t.size=50})),t.next=3,d.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})}):C.push({icon:v,position:o.IY.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),name:this.name+":iconMaximize",click:(i=b(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d._currentContent.forEach((function(t){t.size=t.id===e?75:25})),t.next=3,d.player.videoContainer.updateLayout();case 3:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})}),this.allowSwitchSide&&C.push({icon:w,position:o.IY.LEFT,title:this.player.translate("Switch side"),ariaLabel:this.player.translate("Switch side"),name:this.name+":iconSwitchSide",click:(c=b(g().mark((function t(){var e,n,r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=d._currentContent[0].id,n=d._currentContent[1].id,r=d._currentContent[0].size,o=d._currentContent[1].size,d._currentContent[0].id=n,d._currentContent[0].size=o,d._currentContent[1].id=e,d._currentContent[1].size=r,t.next=10,d.player.videoContainer.updateLayout();case 10:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})}),C.push({icon:A,position:o.IY.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),name:this.name+":iconClose",click:(l=b(g().mark((function t(){var n,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.player.videoContainer.validContentIds.filter((function(t){return-1===t.indexOf("-")})),r=n.find((function(t){return t!=e})),t.next=4,d.player.videoContainer.setLayout(r);case 4:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})}),this.pipContentIds.length>0&&C.push({icon:x,position:o.IY.LEFT,title:this.player.translate("Picture-in-picture"),ariaLabel:this.player.translate("Picture-in-picture"),name:this.name+":iconPiP",click:(h=b(g().mark((function t(){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.player.videoContainer.validContentIds.find((function(t){return-1!==d.pipContentIds.indexOf(t)})),t.next=3,d.player.videoContainer.setLayout(n,e);case 3:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})}),C}},{key:"getLayoutStructure",value:function(t,e,n){if(!this._currentContent){var r=this.validContent.find((function(t){return t.id===e})),o=r.content;this._currentContent=o.map((function(t){return{id:t,size:50}}))}return{id:"dual-dynamic",videos:[{content:this._currentContent[0].id,visible:!0,size:this._currentContent[0].size},{content:this._currentContent[1].id,visible:!0,size:this._currentContent[1].size}]}}}],r&&w(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},6868:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>_});var r=n(6935),o=n(6037),i=n.n(o),a=n(335),s=n.n(a),c=n(7783),u=n.n(c),l=n(7950),f=n.n(l),h=n(7003),p=n(1581);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(){y=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};u(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==d(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=h;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?g:p,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(d(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=u(A,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function v(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){v(i,r,o,a,s,"next",t)}function s(t){v(i,r,o,a,s,"throw",t)}a(void 0)}))}}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function b(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==d(e)?e:String(e)}function w(t,e,n){return e=E(e),function(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,A()?Reflect.construct(e,n||[],E(t).constructor):e.apply(t,n))}function A(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(A=function(){return!!t})()}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},x.apply(this,arguments)}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}var k={id:"pip-left",name:{es:"Dos streams imagen dentro de imagen"},hidden:!1,videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720},{aspectRatio:"9/16",left:617,top:17,width:386,height:687}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:50,top:470,width:350,height:197},{aspectRatio:"16/10",left:50,top:448,width:350,height:219},{aspectRatio:"5/3",left:50,top:457,width:350,height:210},{aspectRatio:"5/4",left:50,top:387,width:350,height:280},{aspectRatio:"4/3",left:50,top:404,width:350,height:262},{aspectRatio:"9/16",left:224,top:301,width:224,height:400}],visible:!0,layer:2}],buttons:[]},L={id:"pip-right",name:{es:"Dos streams imagen dentro de imagen a la derecha"},hidden:!1,videos:[{content:null,rect:[{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720},{aspectRatio:"9/16",left:242,top:17,width:386,height:687}],visible:!0,layer:1},{content:null,rect:[{aspectRatio:"16/9",left:880,top:470,width:350,height:197},{aspectRatio:"16/10",left:880,top:448,width:350,height:219},{aspectRatio:"5/3",left:880,top:457,width:350,height:210},{aspectRatio:"5/4",left:880,top:387,width:350,height:280},{aspectRatio:"4/3",left:880,top:404,width:350,height:262},{aspectRatio:"9/16",left:887,top:304,width:224,height:400}],visible:!0,layer:2}],buttons:[]},_=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,e,arguments)}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return p.default.Get()}},{key:"name",get:function(){return x(E(e.prototype),"name",this)||"es.upv.paella.dualVideoPiP"}},{key:"identifier",get:function(){return"dual-video-pip"}},{key:"load",value:(o=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._currentLayout=k,this.dualVideoContentIds=this.config.dualVideoContentIds||[];case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return x(E(e.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 2===t.length}))}},{key:"getVideoCanvasButtons",value:function(t,e,n,r){var o,a,c,l,p=this,d=this.player.getCustomPluginIcon(this.name,"iconClose")||u(),v=this.player.getCustomPluginIcon(this.name,"iconSwitchSide")||i(),m=this.player.getCustomPluginIcon(this.name,"iconMaximize")||s(),b=this.player.getCustomPluginIcon(this.name,"iconSideBySide")||f(),w=[{icon:d,position:h.IY.RIGHT,title:this.player.translate("Close video"),ariaLabel:this.player.translate("Close video"),name:this.name+":iconClose",click:(o=g(y().mark((function t(){var n,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.player.videoContainer.validContentIds.filter((function(t){return-1===t.indexOf("-")})),r=n.find((function(t){return t!==e})),t.next=4,p.player.videoContainer.setLayout(r);case 4:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}];return e===this._pipVideo?(w.push({icon:v,position:h.IY.LEFT,title:this.player.translate("Switch side"),ariaLabel:this.player.translate("Switch side"),name:this.name+":iconSwitchSide",click:(l=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.switchSide(),t.next=3,p.player.videoContainer.updateLayout(p._fullVideo);case 3:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})}),w.push({icon:m,position:h.IY.LEFT,title:this.player.translate("Maximize video"),ariaLabel:this.player.translate("Maximize video"),name:this.name+":iconMaximize",click:(c=g(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.switchSources(),t.next=3,p.player.videoContainer.updateLayout(p._fullVideo);case 3:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})})):this.dualVideoContentIds.length>0&&w.push({icon:b,position:h.IY.LEFT,title:this.player.translate("Set side by side"),ariaLabel:this.player.translate("Set side by side"),name:this.name+":iconSideBySide",click:(a=g(y().mark((function t(){var e,n;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=p.player.videoContainer.validContentIds,(n=p.dualVideoContentIds.find((function(t){return-1!==e.indexOf(t)})))&&p.player.videoContainer.setLayout(n);case 3:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})}),w}},{key:"switchSide",value:function(){"pip-left"===this._currentLayout.id?this._currentLayout=L:this._currentLayout=k}},{key:"switchSources",value:function(){var t=this._pipVideo;this._pipVideo=this._fullVideo,this._fullVideo=t}},{key:"getLayoutStructure",value:function(t,e,n){var r=this.validContent.find((function(t){return t.id===e})),o=r.content;n&&o.find((function(t){return t===n}))?(this._fullVideo=n,this._pipVideo=o.find((function(t){return t!==n}))):this._pipVideo&&this._fullVideo||(this._pipVideo=o[0],this._fullVideo=o[1]);var i=JSON.parse(JSON.stringify(this._currentLayout));return i.player=this.player,i.videos[0].content=this._fullVideo,i.videos[1].content=this._pipVideo,i}}],r&&m(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},6689:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(6935),o=n(1581);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,s,c){var u=p(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}function l(t,e,n){return e=h(e),function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],h(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}var d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,arguments)}var n,r,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return"es.upv.paella.nStreams"}},{key:"layoutType",get:function(){return"dynamic"}},{key:"validContent",get:function(){return this.config.validContent=[{id:this.config.contentId,content:this.player.videoManifest.streams.map((function(t){return t.content})),icon:this.config.icon,title:this.config.title}],this.config.validContent}},{key:"load",value:(i=a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})),u=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){s(o,n,r,a,c,"next",t)}function c(t){s(o,n,r,a,c,"throw",t)}a(void 0)}))},function(){return u.apply(this,arguments)})},{key:"getVideoCanvasButtons",value:function(t,e,n,r){return[]}},{key:"getLayoutStructure",value:function(t,e,n){return{id:"n-streams",alignType:"grid",videos:t.map((function(t){return{content:t.content,visible:!0}}))}}}],r&&c(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},135:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var r=n(7003),o=n(6935),i=n(7950),a=n.n(i),s=n(1581);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:String(e)}function p(t,e,n){return e=v(e),function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},y.apply(this,arguments)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}var m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,e,arguments)}var n,o,i,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),n=e,o=[{key:"getPluginModuleInstance",value:function(){return s.default.Get()}},{key:"name",get:function(){return y(v(e.prototype),"name",this)||"es.upv.paella.singleVideo"}},{key:"identifier",get:function(){return"single-video"}},{key:"load",value:(i=u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.debug("Single video layout loaded"),this.dualVideoContentIds=this.config.dualVideoContentIds||["presenter-presentation-dynamic","presenter-2-presentation-dynamic","presenter-presenter-2-dynamic","presenter-presentation","presenter-2-presentation","presenter-presenter-2"];case 2:case"end":return t.stop()}}),t,this)})),c=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){l(o,n,r,a,s,"next",t)}function s(t){l(o,n,r,a,s,"throw",t)}a(void 0)}))},function(){return c.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return y(v(e.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 1===t.length}))}},{key:"getVideoCanvasButtons",value:function(t,e,n,o){var i=this;return this._multiStream?[{icon:this.player.getCustomPluginIcon(this.name,"iconSideBySide")||a(),position:r.IY.LEFT,title:this.player.translate("Two videos 50%"),ariaLabel:this.player.translate("Two videos 50%"),name:this.name+":iconSideBySide",click:function(){var t=i.player.videoContainer.validContentIds,e=i.dualVideoContentIds.find((function(e){return-1!==t.indexOf(e)}));e&&i.player.videoContainer.setLayout(e)}}]:[]}},{key:"getLayoutStructure",value:function(t,e){var n=this.validContent.find((function(t){return t.id===e})),r={player:this.player,name:{es:"One stream"},hidden:!1,videos:[{content:n.content[0],rect:[{aspectRatio:"1/1",left:280,top:0,width:720,height:720},{aspectRatio:"6/5",left:208,top:0,width:864,height:720},{aspectRatio:"5/4",left:190,top:0,width:900,height:720},{aspectRatio:"4/3",left:160,top:0,width:960,height:720},{aspectRatio:"11/8",left:145,top:0,width:990,height:720},{aspectRatio:"1.41/1",left:132,top:0,width:1015,height:720},{aspectRatio:"1.43/1",left:125,top:0,width:1029,height:720},{aspectRatio:"3/2",left:100,top:0,width:1080,height:720},{aspectRatio:"16/10",left:64,top:0,width:1152,height:720},{aspectRatio:"5/3",left:40,top:0,width:1200,height:720},{aspectRatio:"16/9",left:0,top:0,width:1280,height:720},{aspectRatio:"1.85/1",left:0,top:14,width:1280,height:692},{aspectRatio:"2.35/1",left:0,top:87,width:1280,height:544},{aspectRatio:"2.41/1",left:0,top:94,width:1280,height:531},{aspectRatio:"2.76/1",left:0,top:128,width:1280,height:463}],visible:!0,layer:1}],background:{content:"slide_professor_paella.jpg",zIndex:5,rect:{left:0,top:0,width:1280,height:720},visible:!0,layer:0},logos:[{content:"paella_logo.png",zIndex:5,rect:{top:10,left:10,width:49,height:42}}],buttons:[],onApply:function(){}};return t.length>1&&(this._multiStream=!0),r}}],o&&f(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}(o.Ay)},5202:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>b});var r=n(6935),o=n(7003),i=n(7950),a=n.n(i),s=n(1581);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:String(e)}function d(t,e,n){return e=g(e),function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},v.apply(this,arguments)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}var b=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return s.default.Get()}},{key:"name",get:function(){return v(g(e.prototype),"name",this)||"es.upv.paella.singleVideoDynamic"}},{key:"layoutType",get:function(){return"dynamic"}},{key:"load",value:(i=f(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.debug("Single video dynamic layout loaded"),this.dualVideoContentIds=this.config.dualVideoContentIds||["presenter-presentation-dynamic","presenter-2-presentation-dynamic","presenter-presenter-2-dynamic","presenter-presentation","presenter-2-presentation","presenter-presenter-2"];case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getVideoCanvasButtons",value:function(t,e,n,r){var i,s=this,c=this.player.getCustomPluginIcon(this.name,"iconSideBySide")||a(),l=[];return this._multiStream&&l.push({icon:c,position:o.IY.LEFT,title:this.player.translate("Dual stream 50%"),ariaLabel:this.player.translate("Dual stream 50%"),name:this.name+":iconSideBySide",click:(i=f(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=s.player.videoContainer.validContentIds,(n=s.dualVideoContentIds.find((function(t){return-1!==e.indexOf(t)})))&&s.player.videoContainer.setLayout(n);case 3:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})}),l}},{key:"getLayoutStructure",value:function(t,e,n){t.length>1&&(this._multiStream=!0);var r=this.validContent.find((function(t){return t.id===e})),o=r.content;return this._currentContent=o.map((function(t){return{id:t,size:50}})),{id:"single-dynamic",videos:[{content:this._currentContent[0].id,visible:!0,size:this._currentContent[0].size}]}}}],r&&h(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},1467:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var r=n(6935),o=n(6344),i=n.n(o),a=n(1581);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function h(t,e,n){return e=y(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},d.apply(this,arguments)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var g={videos:[{content:{},rect:[{aspectRatio:"16/9",left:239,top:17,width:803,height:451}],visible:!0,layer:1},{content:{},rect:[{aspectRatio:"16/9",left:44,top:482,width:389,height:218}],visible:!0,layer:1},{content:{},rect:[{aspectRatio:"16/9",left:847,top:482,width:389,height:218}],visible:!0,layer:1}],buttons:[{rect:{left:618,top:495,width:45,height:45},onClick:function(t){this.rotate()},label:"Rotate",icon:"icon_rotate.svg",layer:2}]},m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,e,arguments)}var n,r,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return a.default.Get()}},{key:"name",get:function(){return d(y(e.prototype),"name",this)||"es.upv.paella.tripleVideo"}},{key:"identifier",get:function(){return"triple-video"}},{key:"load",value:(o=c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.debug("Triple video layout loaded");case 1:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){u(i,n,r,a,s,"next",t)}function s(t){u(i,n,r,a,s,"throw",t)}a(void 0)}))},function(){return s.apply(this,arguments)})},{key:"getValidStreams",value:function(t){return d(y(e.prototype),"getValidStreams",this).call(this,t).filter((function(t){return 3===t.length}))}},{key:"switchContent",value:function(){var t=this._currentContent[0],e=this._currentContent[1],n=this._currentContent[2];this._currentContent[0]=n,this._currentContent[1]=t,this._currentContent[2]=e,this.player.videoContainer.updateLayout()}},{key:"getLayoutStructure",value:function(t,e){var n=this;if(!this._currentContent||this._currentContentId!==e){this._currentContentId=e;var r=this.validContent.find((function(t){return t.id===e})),o=r.content;this._currentContent=o}var a=function(t){var e=JSON.parse(JSON.stringify(g));return e.videos[0].content=t[0],e.videos[1].content=t[1],e.videos[2].content=t[2],e}(this._currentContent);return{player:this.player,name:{es:"Three streams with dynamic position"},hidden:!1,videos:a.videos,buttons:[{rect:a.buttons[0].rect,onClick:function(){n.switchContent()},label:"Switch",icon:i(),layer:2,ariaLabel:"Swap the position of the videos",title:"Swap the position of the videos"}]}}}],r&&l(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},3537:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(5911),o=n(8330);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}function c(t,e,n){return e=l(e),function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}var h=null,p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,i=[{key:"Get",value:function(){return h||(h=new e),h}}],(r=[{key:"moduleName",get:function(){return"paella-core default plugins"}},{key:"moduleVersion",get:function(){return o.version}}])&&a(n.prototype,r),i&&a(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},3244:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var r=n(9643),o=n(3537),i=n(697),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function p(t,e,n){return e=v(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},y.apply(this,arguments)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}var m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,e,arguments)}var n,r,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"name",get:function(){return y(v(e.prototype),"name",this)||"es.upv.paella.canvasButtonPluginTest"}},{key:"load",value:(s=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"action",value:(i=l(c().mark((function t(e,n,r,o){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Content: ".concat(e)),console.log(n),console.log(r),console.log(o);case 4:case"end":return t.stop()}}),t)}))),function(t,e,n,r){return i.apply(this,arguments)})}],r&&f(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},1268:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var r=n(6684),o=n(3537);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,s,c){var u=p(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}function f(t,e,n){return e=p(e),function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,n||[],p(t).constructor):e.apply(t,n))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}var y=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,e,arguments)}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),n=e,i=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"getKeys",value:(s=c(a().mark((function t(){var e=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{keyCode:r.cK.KeyM,description:"Collision key shortcut",keyModifiers:{ctrlKey:!1},action:function(){var t=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.player.log.debug("Test collision shortcut");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]);case 1:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})}],i&&u(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},4807:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>O});var r=n(6684),o=n(3118),i=n(1614),a=n(999),s=n.n(a),c=n(4306),u=n.n(c),l=n(4738),f=n.n(l),h=n(5320),p=n.n(h),d=n(9372),y=n(7100),v=n(9506),g=n(3537);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(){b=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function w(){}function A(){}var x={};u(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=g.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==m(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(m(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=u(A,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function w(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function A(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){w(i,r,o,a,s,"next",t)}function s(t){w(i,r,o,a,s,"throw",t)}a(void 0)}))}}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E(r.key),r)}}function E(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==m(e)?e:String(e)}function C(t,e,n){return e=_(e),function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,k()?Reflect.construct(e,n||[],_(t).constructor):e.apply(t,n))}function k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(k=function(){return!!t})()}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}var O=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,e,arguments)}var n,a,c,l,h,m,w,E,k,O,T;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),n=e,a=[{key:"getPluginModuleInstance",value:function(){return g.default.Get()}},{key:"name",get:function(){return L(_(e.prototype),"name",this)||"es.upv.paella.defaultShortcuts"}},{key:"getVolumeIcon",value:function(t){return 0===t?this.player.getCustomPluginIcon(this.name,"volumeMuteIcon")||s():t<.3?this.player.getCustomPluginIcon(this.name,"volumeLowIcon")||u():t<.6?this.player.getCustomPluginIcon(this.name,"volumeMidIcon")||f():this.player.getCustomPluginIcon(this.name,"volumeHighIcon")||p()}},{key:"toggleCaptions",value:function(){var t,e=this;if((null===(t=this.player)||void 0===t||null===(t=t.captionsCanvas)||void 0===t||null===(t=t.captions)||void 0===t?void 0:t.length)>0)if(this.player.captionsCanvas.isVisible)this.player.captionsCanvas.disableCaptions();else{var n=null;navigator.languages.some((function(t){return e.player.captionsCanvas.captions.some((function(e,r){return t==e.language&&(n=r,!0)}))})),this.player.captionsCanvas.enableCaptions({index:n||0})}}},{key:"togglePlayPause",value:(T=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.paused();case 2:if(!t.sent){t.next=8;break}return t.next=6,this.player.play();case 6:t.next=10;break;case 8:return t.next=10,this.player.pause();case 10:case"end":return t.stop()}}),t,this)}))),function(){return T.apply(this,arguments)})},{key:"toggleFullscreen",value:(O=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.player.isFullscreen){t.next=5;break}return t.next=3,this.player.exitFullscreen();case 3:t.next=7;break;case 5:return t.next=7,this.player.enterFullscreen();case 7:case"end":return t.stop()}}),t,this)}))),function(){return O.apply(this,arguments)})},{key:"seek",value:(k=A(b().mark((function t(e){var n;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.streamProvider.currentTime();case 2:return n=t.sent,t.next=5,this.player.videoContainer.streamProvider.setCurrentTime(n+e);case 5:e<0?this.player.videoContainer.message.show({text:"<< ".concat(Math.abs(e),"s"),position:i.$.CENTER_LEFT,timeout:500}):this.player.videoContainer.message.show({text:"".concat(e,"s >>"),position:i.$.CENTER_RIGHT,timeout:500});case 6:case"end":return t.stop()}}),t,this)}))),function(t){return k.apply(this,arguments)})},{key:"incrementVolume",value:(E=A(b().mark((function t(e){var n,r,o;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,v.o3)(this.player)){t.next=9;break}return t.next=3,this.player.videoContainer.streamProvider.volume();case 3:return n=t.sent,r=Math.min(Math.max(0,n+.01*e),1),t.next=7,this.player.videoContainer.setVolume(r);case 7:o=this.getVolumeIcon(r),this.player.videoContainer.message.show({text:"".concat(Math.round(100*r),"%"),position:i.$.CENTER_MIDDLE,icon:o});case 9:case"end":return t.stop()}}),t,this)}))),function(t){return E.apply(this,arguments)})},{key:"closePopUp",value:function(){var t;o.A.HideTopPopUp()||y.A.HideAll(this.player)||null===(t=document.activeElement)||void 0===t||t.blur()}},{key:"decreaseSpeed",value:(w=A(b().mark((function t(){var e,n;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.playbackRate();case 2:return e=t.sent,n=0,this._validPlaybackRates.some((function(t){if(0===n&&(n=t),!(t<e))return!0;n=t})),t.next=7,this.player.videoContainer.setPlaybackRate(n);case 7:this.player.videoContainer.message.show({text:"".concat(n,"X"),position:i.$.CENTER_MIDDLE});case 8:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"increaseSpeed",value:(m=A(b().mark((function t(){var e,n;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.playbackRate();case 2:return e=t.sent,n=0,this._validPlaybackRates.some((function(t){if(t>e)return n=t,!0})),0===n&&(n=this._validPlaybackRates[this._validPlaybackRates.length-1]),t.next=8,this.player.videoContainer.setPlaybackRate(n);case 8:this.player.videoContainer.message.show({text:"".concat(n,"X"),position:i.$.CENTER_MIDDLE});case 9:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"toggleVolume",value:(h=A(b().mark((function t(){var e,n,r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoContainer.volume();case 2:return e=t.sent,n=0,e>0?(this._lastVolume=e,n=0):n=this._lastVolume||1,t.next=7,this.player.videoContainer.setVolume(n);case 7:r=this.getVolumeIcon(n),this.player.videoContainer.message.show({text:"volume: ".concat(Math.round(100*n),"%"),position:i.$.CENTER_MIDDLE,icon:r});case 9:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"load",value:(l=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._validPlaybackRates=this.config.validPlaybackRates||[.75,1,1.5,2],this._validPlaybackRates.sort((function(t,e){return t-e}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"getKeys",value:(c=A(b().mark((function t(){var e,n,o,i,a=this;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player,n=this.config.skipBackwards||30,o=this.config.skipForward||30,i=function(){return e.state===d.A.LOADED},t.t0={keyCode:r.cK.KeyM,description:"Toggle audio mute",keyModifiers:{ctrlKey:!1},action:function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.toggleVolume();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t1={keyCode:r.cK.KeyK,description:"Toggle play/pause",action:function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.togglePlayPause();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t2=r.cK.KeyJ,t.t3=function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.seek(-n);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t4={keyCode:t.t2,get description(){return e.translate("Rewind $1 seconds",[n])},action:t.t3},t.t5=r.cK.KeyL,t.t6=function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.seek(o);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t7={keyCode:t.t5,get description(){return e.translate("Forward $1 seconds",[o])},action:t.t6},t.t8={keyCode:r.cK.Space,description:"Toggle play/pause",action:function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.togglePlayPause();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t9={keyCode:r.cK.KeyF,description:"Toggle fullscreen",action:function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.toggleFullscreen();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t10={keyCode:r.cK.KeyC,description:"Toggle captions",action:function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i()&&a.toggleCaptions();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t11=r.cK.ArrowLeft,t.t12=function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.seek(-n);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t13={keyCode:t.t11,get description(){return e.translate("Rewind $1 seconds",[n])},action:t.t12},t.t14=r.cK.ArrowRight,t.t15=function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.seek(o);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.t16={keyCode:t.t14,get description(){return e.translate("Forward $1 seconds",[o])},action:t.t15},t.t17={keyCode:r.cK.ArrowUp,description:"Volume up 10%",action:function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i()&&a.incrementVolume(10);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t18={keyCode:r.cK.ArrowDown,description:"Volume down 10%",action:function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i()&&a.incrementVolume(-10);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t19={keyCode:r.cK.Escape,description:"Close pop-up",action:function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i()&&a.closePopUp();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t20={keyCode:r.cK.KeyU,description:"Decrease playback speed",action:function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i()){t.next=3;break}return t.next=3,a.decreaseSpeed();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.t21={keyCode:r.cK.KeyO,description:"Increase playback speed",action:function(){var t=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i()&&a.increaseSpeed();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},t.abrupt("return",[t.t0,t.t1,t.t4,t.t7,t.t8,t.t9,t.t10,t.t13,t.t16,t.t17,t.t18,t.t19,t.t20,t.t21]);case 27:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})}],a&&x(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},2740:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>b});var r=n(20),o=n(5005),i=n(3537),a=n(8955);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(){u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function d(t,e,n){return e=g(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},v.apply(this,arguments)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}var b=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,e,arguments)}var n,r,s,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return v(g(e.prototype),"name",this)||"es.upv.paella.dfxpManifestCaptionsPlugin"}},{key:"isEnabled",value:(l=f(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(g(e.prototype),"isEnabled",this).call(this);case 2:return n=t.sent,t.abrupt("return",n&&this.player.videoManifest.captions&&this.player.videoManifest.captions.length>0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"getCaptions",value:(s=f(u().mark((function t(){var e,n,r=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],n=[],this.player.videoManifest.captions.forEach((function(t){n.push(new Promise(function(){var n=f(u().mark((function n(i,s){var l,f,h,p;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!/dfxp/i.test(t.format)){n.next=20;break}return l=(0,a.resolveResourcePath)(r.player,t.url),n.next=4,fetch(l);case 4:if(!(f=n.sent).ok){n.next=17;break}return n.next=8,f.text();case 8:h=(h=(h=(h=n.sent).replace(/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,"")).replace(/&\w+;/gim,"")).replaceAll("<br>",""),p=new o.A(r.player,h),Object.entries(p.captions).forEach((function(t){var n,r,o=(r=2,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(n,r)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=(o[0],o[1]);e.push(i)})),i(),n.next=18;break;case 17:s();case 18:n.next=21;break;case 20:s();case 21:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()))})),t.next=5,Promise.allSettled(n);case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})}],r&&h(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},9680:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(4319),o=n(3537),i=n(697),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function p(t,e,n){return e=y(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,e,arguments)}var n,r,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"load",value:(s=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=a(),this.title="Dynamic width button";case 2:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"dynamicWidth",get:function(){return!0}},{key:"action",value:(i=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.player.isFullscreen){t.next=5;break}return t.next=3,this.player.enterFullscreen();case 3:t.next=7;break;case 5:return t.next=7,this.player.exitFullscreen();case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],r&&f(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},3242:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var r=n(4319),o=n(3537),i=n(697),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function h(t,e,n){return e=d(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var v=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,e,arguments)}var n,r,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"load",value:(i=c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=a(),this.title="aa";case 2:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){u(o,n,r,a,s,"next",t)}function s(t){u(o,n,r,a,s,"throw",t)}a(void 0)}))},function(){return s.apply(this,arguments)})},{key:"interactive",get:function(){return!1}},{key:"dynamicWidth",get:function(){return!1}}],r&&l(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},5943:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>E});var r=n(4319),o=n(193),i=n(7439),a=n.n(i),s=n(9477),c=n.n(s),u=n(8048),l=n.n(u),f=n(3537);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function p(){p=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};u(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==h(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(h(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=u(A,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))}}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function g(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==h(e)?e:String(e)}function m(t,e,n){return e=A(e),function(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b()?Reflect.construct(e,n||[],A(t).constructor):e.apply(t,n))}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},w.apply(this,arguments)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}var E=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,e,arguments)}var n,r,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return f.default.Get()}},{key:"name",get:function(){return w(A(e.prototype),"name",this)||"es.upv.paella.playPauseButton"}},{key:"load",value:(s=y(p().mark((function t(){var e,n,r,i,s,u,f=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.player.getCustomPluginIcon(this.name,"play")||a(),n=this.player.getCustomPluginIcon(this.name,"pause")||c(),r=this.player.getCustomPluginIcon(this.name,"replay")||l(),this.icon=e,i=this.player.translate(this.config.ariaLabelPause||"pause"),s=this.player.translate(this.config.ariaLabelPlay||"play"),u=this.config.ariaKeyshortcuts||"k",(0,o.e3)(this.player,o.Ay.PLAY,(function(){f.icon=n,f.button.ariaKeyshortcuts=u,f.button.ariaLabel=i,f.button.title=i})),(0,o.e3)(this.player,o.Ay.PAUSE,(function(){f.icon=e,f.button.ariaKeyshortcuts=u,f.button.ariaLabel=s,f.button.title=f.config.ariaLabelPause||s})),(0,o.e3)(this.player,o.Ay.ENDED,(function(){f.icon=r,f.button.ariaKeyshortcuts=u,f.button.ariaLabel=s,f.button.title=f.config.ariaLabelPause||s})),(0,o.e3)(this.player,o.Ay.STOP,(function(){f.icon=e,f.button.ariaKeyshortcuts=u,f.button.ariaLabel=s,f.button.title=f.config.ariaLabelPause||s}));case 11:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"action",value:(i=y(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.paused();case 2:if(!t.sent){t.next=7;break}return t.next=5,this.player.videoContainer.play();case 5:t.next=9;break;case 7:return t.next=9,this.player.videoContainer.pause();case 9:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],r&&v(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},9063:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var r=n(8047),o=n(697),i=n.n(o),a=n(3537);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function h(t,e,n){return e=d(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}var v=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,e,arguments)}var n,r,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return a.default.Get()}},{key:"load",value:(o=c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=i();case 1:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){u(i,n,r,a,s,"next",t)}function s(t){u(i,n,r,a,s,"throw",t)}a(void 0)}))},function(){return s.apply(this,arguments)})}],r&&l(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},635:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var r=n(20),o=n(3537);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}function c(t,e,n){return e=l(e),function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,arguments)}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,(r=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}}])&&a(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},2522:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var r=n(7917),o=n(193),i=n(3537);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,c)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,s,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:String(e)}function f(t,e,n){return e=p(e),function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,n||[],p(t).constructor):e.apply(t,n))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}var y=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,e,arguments)}var n,r,a,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"events",get:function(){return[o.Ay.PLAY,o.Ay.PAUSE,o.Ay.TIMEUPDATE,o.Ay.MANIFEST_LOADED,o.Ay.STREAM_LOADED,o.Ay.PLAYER_LOADED]}},{key:"onEvent",value:(a=s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.log.verbose(e),this.player.log.verbose(n);case 2:case"end":return t.stop()}}),t,this)})),l=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=a.apply(t,e);function i(t){c(o,n,r,i,s,"next",t)}function s(t){c(o,n,r,i,s,"throw",t)}i(void 0)}))},function(t,e){return l.apply(this,arguments)})}],r&&u(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},8588:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(4319),o=n(697),i=n.n(o),a=n(3537);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function p(t,e,n){return e=y(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,e,arguments)}var n,r,o,s,u,h,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return a.default.Get()}},{key:"foldableContainer",get:function(){return"left"===this.config.side?this.rightArea:this.leftArea}},{key:"showFoldableContainer",value:function(){this.foldableContainer.style.display="inline-block"}},{key:"hideFoldableContainer",value:function(){this.foldableContainer.style.display="none"}},{key:"load",value:(d=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=i(),this.foldableContainer.style.display="none",this.foldableContainer.innerHTML="Foldable Container";case 3:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"mouseOver",value:(h=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"mouseOut",value:(u=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.hideFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"focusIn",value:(s=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.showFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"focusOut",value:(o=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.hideFoldableContainer();case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],r&&f(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.Ay)},3774:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(3282),o=n(7783),i=n.n(o),a=n(3537);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function p(t,e,n){return e=y(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,e,arguments)}var n,r,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return a.default.Get()}},{key:"load",value:(s=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=i();case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"menuTitle",get:function(){var t=document.createElement("h2");return t.innerHTML="Test title element",t}},{key:"getMenu",value:(o=l(c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=document.createElement("p")).innerHTML="Element item",n=[{id:0,title:"Option 1"},{id:1,title:"Option 2"},{id:2,title:"Option 3"},{id:3,title:"Option 4"},{id:4,title:"Option 5"},{id:5,title:e}],t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"itemSelected",value:function(t,e){this.player.log.info("TestMenuTitleElement ".concat(this.name))}}],r&&f(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},1343:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var r=n(383),o=n(4666),i=n(3537),a=n(697),s=n.n(a);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:String(e)}function d(t,e,n){return e=v(e),function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}var m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,e,arguments)}var n,r,a,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"popUpType",get:function(){return"timeline"}},{key:"getContent",value:(c=f(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,o.h6)("<p>Pop Up Button Plugin Content 2</p>"),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})},{key:"load",value:(a=f(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=s(),this.title="2",e=this.player.captionsCanvas,this.player.log.debug(e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})}],r&&h(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},4689:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var r=n(383),o=n(4666),i=n(3537),a=n(697),s=n.n(a);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:String(e)}function d(t,e,n){return e=v(e),function(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}var m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,e,arguments)}var n,r,a,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"popUpType",get:function(){return"timeline"}},{key:"getContent",value:(c=f(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,o.h6)("<p>Pop Up Button Plugin Content 1</p>"),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})},{key:"load",value:(a=f(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=s(),this.title="1";case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})}],r&&h(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},1732:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var r=n(7125),o=n(3537);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}function c(t,e,n){return e=l(e),function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,arguments)}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,(r=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"minHeight",get:function(){return 20}},{key:"minHeightHover",get:function(){return 50}},{key:"drawForeground",value:function(t,e,n,r){t.fillStyle="rgba(230, 230, 230)",t.font="12px Arial",t.textAlign="left",t.fillText("foreground text",100,n/2+5)}},{key:"drawBackground",value:function(t,e,n,r){t.fillStyle="rgba(230, 230, 230)",t.font="12px Arial",t.textAlign="right",t.fillText("background text",e-2,n/2+5)}}])&&a(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},6413:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var r=n(3282),o=n(3537),i=n(697),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function l(t,e,n){return e=h(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],h(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(){d=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};l(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=h(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=h(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=h(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=l(A,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,l(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),l(k,u,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function y(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){y(i,r,o,a,s,"next",t)}function s(t){y(i,r,o,a,s,"throw",t)}a(void 0)}))}}var g=function(){var t=v(d().mark((function t(e,n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout((function(){e(),t()}),n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,arguments)}var n,r,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return o.default.Get()}},{key:"load",value:(s=v(d().mark((function t(){var e=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=a(),this.title="tx",this.hide(),g((function(){return e.show()}),1e3);case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"titleSize",get:function(){return"medium"}},{key:"popUpType",get:function(){return"no-modal"}},{key:"getMenu",value:(i=v(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._items||(this._items=[{id:0,title:"Option 1"},{id:1,title:"Option 2"},{id:2,title:"Option 3"},{id:3,title:"Option 4"},{id:4,title:"Option 5"},{id:0,title:"Option 6"},{id:1,title:"Option 7"},{id:2,title:"Option 8"},{id:3,title:"Option 9"},{id:4,title:"Option 10"}]),t.abrupt("return",this._items);case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"itemSelected",value:function(t){0===t.id&&(this.refreshContent=!0)}},{key:"buttonType",get:function(){return"check"}}],r&&c(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},6664:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var r=n(20),o=n(3107),i=n(3537),a=n(8955);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function p(t,e,n){return e=v(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},y.apply(this,arguments)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}var m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,e,arguments)}var n,r,s,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),n=e,r=[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return y(v(e.prototype),"name",this)||"es.upv.paella.vttManifestCaptionsPlugin"}},{key:"isEnabled",value:(u=l(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(v(e.prototype),"isEnabled",this).call(this);case 2:return n=t.sent,t.abrupt("return",n&&this.player.videoManifest.captions&&this.player.videoManifest.captions.length>0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getCaptions",value:(s=l(c().mark((function t(){var e,n,r=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],n=[],this.player.videoManifest.captions.forEach((function(t){n.push(new Promise(function(){var n=l(c().mark((function n(i,s){var u,l,f,h;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!/vtt/i.test(t.format)){n.next=19;break}return u=(0,a.resolveResourcePath)(r.player,t.url),n.next=4,fetch(u);case 4:if(!(l=n.sent).ok){n.next=16;break}return n.next=8,l.text();case 8:f=n.sent,(h=new o.A(f)).captions.label=t.text,h.captions.language=t.lang,e.push(h.captions),i(),n.next=17;break;case 16:s();case 17:n.next=20;break;case 19:s();case 20:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()))})),t.next=5,Promise.allSettled(n);case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})}],r&&f(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},1897:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(5911),o=n(8330);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:String(e)}function c(t,e,n){return e=l(e),function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}var h=null,p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,arguments)}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,i=[{key:"Get",value:function(){return h||(h=new e),h}}],(r=[{key:"moduleName",get:function(){return"paella-core default video formats"}},{key:"moduleVersion",get:function(){return o.version}}])&&a(n.prototype,r),i&&a(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}(r.A)},4504:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AudioOnlyVideo:()=>x,default:()=>E});var r=n(9506),o=n(8955),i=n(1897);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},s.apply(this,arguments)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,s,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,s)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,s,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,s,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function p(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:String(e)}function y(t,e,n){return e=g(e),function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function w(t){return new Promise((function(e,n){var r=new Image;r.addEventListener("load",(function(t){e(r)})),r.addEventListener("error",(function(t){n(new Error("Could not load preview image. The preview image is required in audio only streams"))})),r.src=t}))}function A(t,e,n){return new Promise((function(r,i){e.oncanplay=function(){return r()},e.onerror=function(){return i(new Error(t.translate("Error loading audio: $1",[n])))},e.src=(0,o.resolveResourcePath)(t,n),r()}))}var x=function(t){function e(t,n,r){var o;return f(this,e),(o=y(this,e,["audio",t,n])).isMainAudio=r,o._ready=!1,o}var n,r,o,i,a,s,u,h,d,v,g,b,x;return m(e,t),p(e,[{key:"streamType",get:function(){return"audio"}},{key:"waitForLoaded",value:function(){var t=this;return new Promise((function(e){!function n(){t._ready?e():setTimeout(n,100)}()}))}},{key:"play",value:(x=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.play();case 3:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"pause",value:(b=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.pause();case 3:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"duration",value:(g=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.duration);case 3:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"currentTimeSync",get:function(){var t;return(null===(t=this.audio)||void 0===t?void 0:t.currentTime)||0}},{key:"currentTime",value:(v=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.currentTime);case 3:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"setCurrentTime",value:(d=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.currentTime=e;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"volume",value:(h=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.volume);case 3:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"setVolume",value:(u=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.volume=e;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"paused",value:(s=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.paused);case 3:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"playbackRate",value:(a=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.abrupt("return",this.audio.playbackRate);case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"setPlaybackRate",value:(i=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:this.audio.playbackRate=e;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"getDimensions",value:(o=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{w:this._previewImage.width,h:this._previewImage.height});case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"loadStreamData",value:(r=l(c().mark((function t(){var e,n,r,o=this,i=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:null,this._streamData=this._streamData||e,this.player.log.debug("es.upv.paella.audioVideoFormat: loadStreamData"),(n=this.player.videoManifest.metadata.preview)&&null!=n){t.next=6;break}throw new Error("Invalid video manifest data: preview image is required");case 6:return t.next=8,w(n);case 8:if(this._previewImage=t.sent,this._imageContainer=document.createElement("div"),this._imageContainer.className="image-container",this.parent.appendChild(this._imageContainer),this._imageContainer.appendChild(this._previewImage),this._source=e.sources.audio&&e.sources.audio[0],this._source){t.next=16;break}throw new Error("Invalid source in audio only video stream");case 16:if(this.isMainAudioPlayer){t.next=18;break}throw new Error("Audio only video stream must be main audio player. Check the role property at video manifest");case 18:return t.next=20,A(this.player,this.audio,this._source.src);case 20:r=function(){o.player.videoContainer.baseVideoRect.offsetWidth/o.player.videoContainer.baseVideoRect.offsetHeight>o._previewImage.width/o._previewImage.height?(o._previewImage.classList.add("landscape"),o._previewImage.classList.remove("portrait")):(o._previewImage.classList.add("portrait"),o._previewImage.classList.remove("landscape"))},this.player.frameList.frames.length>0&&this.audio.addEventListener("timeupdate",(function(t){var e=o.player.frameList.getImage(t.target.currentTime,!0);e&&o._previewImage.src!=e.url&&(o._previewImage.src=e.url,o._previewImage.onload=function(){return r()})})),window.addEventListener("resize",(function(t){return r()})),r(),this._endedCallback=this._endedCallback||function(){"function"==typeof o._videoEndedCallback&&o._videoEndedCallback()},this.audio.addEventListener("ended",this._endedCallback),this._ready=!0;case 27:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"clearStreamData",value:(n=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.audio.src="",this.audio.removeEventListener("ended",this._endedCallback),this._ready=!1;case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),e}(r.Ce),E=function(t){function e(){return f(this,e),y(this,e,arguments)}var n;return m(e,t),p(e,[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return s(g(e.prototype),"name",this)||"es.upv.paella.audioVideoFormat"}},{key:"streamType",get:function(){return"audio"}},{key:"isCompatible",value:function(t){return null!=t.sources.audio}},{key:"getVideoInstance",value:(n=l(c().mark((function t(e,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new x(this.player,e,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return["m4a","mp3"]}},{key:"getManifestData",value:function(t){return{audio:t.map((function(t){return{src:t}}))}}}]),e}(r.Ay)},951:(t,e,n)=>{"use strict";n.r(e),n.d(e,{HlsLiveVideo:()=>L,default:()=>_});var r=n(4945),o=n(193),i=n(9805),a=n(9506),s=n(5803),c=n(1897);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(){l=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=p(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(u(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,c,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){h(i,r,o,a,s,"next",t)}function s(t){h(i,r,o,a,s,"throw",t)}a(void 0)}))}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function v(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==u(e)?e:String(e)}function m(t,e,n){return e=A(e),function(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b()?Reflect.construct(e,n||[],A(t).constructor):e.apply(t,n))}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},w.apply(this,arguments)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function x(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}var C=(0,i.getHlsSupport)(),k=function(t,e,n,i,a){var s;a.withCredentials&&(i.xhrSetup=function(t,e){for(var n in t.withCredentials=a.withCredentials,a.requestHeaders){var r=a.requestHeaders[n];t.setRequestHeader(n,r)}});var c=new r.Ay(i),u=(null==e||null===(s=e.sources)||void 0===s||null===(s=s.hlsLive)||void 0===s?void 0:s.length)>0&&e.sources.hlsLive[0];return void 0!==i.initialQualityLevel&&i.initialQualityLevel,[c,new Promise((function(e,a){var s=!1;c.on(r.Ay.Events.LEVEL_SWITCHED,(function(e,n){undefined.player.log.debug("HLS: quality level switched to ".concat(n.level)),s||(c.currentLevel=-1,s=!0),(0,o.Hl)(t,o.Ay.VIDEO_QUALITY_CHANGED,{})})),c.on(r.Ay.Events.ERROR,(function(e,n){if(n.fatal)switch(n.type){case r.Ay.ErrorTypes.NETWORK_ERROR:n.details===r.Ay.ErrorDetails.MANIFEST_LOAD_ERROR?a(Error("hlsVideoFormatPlugin: unrecoverable error in HLS player. The video is not available")):(t.log.warn("hlsVideoFormatPlugin: Fatal network error. Try to recover"),c.startLoad());break;case r.Ay.ErrorTypes.MEDIA_ERROR:t.log.warn("hlsVideoFormatPlugin: Fatal media error encountered. Try to recover"),c.recoverMediaError();break;default:c.destroy(),a(Error("hlsVideoFormat: Fatal error. Can not recover"))}})),c.on(r.Ay.Events.MANIFEST_PARSED,(function(){i.autoStartLoad||c.autoStartLoad()}));var l=Math.floor(1e11*Math.random()),f=u.src+(i.enableCache?/\?/.test(u.src)?"&cache=".concat(l):"?cache=".concat(l):"");c.loadSource(f),c.attachMedia(n),c._videoEventListener=function(){e()},n.addEventListener("canplay",c._videoEventListener)}))]},L=function(t){function e(){return d(this,e),m(this,e,arguments)}var n;return x(e,t),v(e,[{key:"loadStreamData",value:(n=p(l().mark((function t(n){var r,o,a,c,u;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C!==i.HlsSupport.NATIVE){t.next=5;break}return n.sources.hls=n.sources.hlsLive,t.abrupt("return",w(A(e.prototype),"loadStreamData",this).call(this,n));case 5:return this.player.log.debug("Loading HLS stream"),r=k(this.player,n,this.video,this._config,this._cors),h=2,o=function(t){if(Array.isArray(t))return t}(l=r)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(l,h)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(l,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],c=o[1],this._hls=a,t.next=10,c;case 10:return this._autoQuality=new s.A({label:"auto",shortLabel:"auto",index:-1,width:1,height:1,isAuto:!0}),this._currentQuality=this._autoQuality,t.next=14,this.getAudioTracks();case 14:u=t.sent,this._currentAudioTrack=u.find((function(t){return t.selected})),this.saveDisabledProperties(this.video);case 17:case"end":return t.stop()}var l,h}),t,this)}))),function(t){return n.apply(this,arguments)})}]),e}(i.HlsVideo),_=function(t){function e(){return d(this,e),m(this,e,arguments)}var n;return x(e,t),v(e,[{key:"getPluginModuleInstance",value:function(){return c.default.Get()}},{key:"name",get:function(){return w(A(e.prototype),"name",this)||"es.upv.paella.hlsLiveVideoFormat"}},{key:"streamType",get:function(){return"hlsLive"}},{key:"isCompatible",value:function(t){return t.sources.hlsLive&&C}},{key:"getVideoInstance",value:(n=p(l().mark((function t(e,n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new L(this.player,e,this.config,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})}]),e}(a.Ay)},9805:(t,e,n)=>{"use strict";n.r(e),n.d(e,{HlsSupport:()=>_,HlsVideo:()=>T,default:()=>P,defaultHlsConfig:()=>k,getHlsSupport:()=>S});var r=n(1175),o=n(9506),i=n(5803),a=n(8657),s=n(193),c=n(1897),u=n(4945);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:String(e)}function v(t,e,n){return e=b(e),function(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,n||[],b(t).constructor):e.apply(t,n))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(g=function(){return!!t})()}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},m.apply(this,arguments)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}function x(){x=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",d="suspendedYield",y="executing",v="completed",g={};function m(){}function b(){}function w(){}var A={};u(A,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(A=C);var k=w.prototype=m.prototype=Object.create(A);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==l(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=p;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var u=h(e,n,r);if("normal"===u.type){if(o=r.done?v:d,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(l(e)+" is not iterable")}return b.prototype=w,o(k,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function E(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){E(i,r,o,a,s,"next",t)}function s(t){E(i,r,o,a,s,"throw",t)}a(void 0)}))}}var k={autoStartLoad:!0,startPosition:-1,capLevelToPlayerSize:!0,debug:!1,defaultAudioCodec:void 0,initialLiveManifestSize:1,maxBufferLength:6,maxMaxBufferLength:6,maxBufferSize:6e8,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:500,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:500,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:500,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,appendErrorMaxRetry:3,enableWebVTT:!0,enableCEA708Captions:!0,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:5,abrEwmaSlowLive:9,abrEwmaFastVoD:4,abrEwmaSlowVoD:15,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,minAutoBitrate:0},L={withCredentials:!0,requestHeaders:{"Access-Control-Allow-Headers":"Content-Type, Accept, X-Requested-With","Access-Control-Allow-Origin":"http://localhost:8000","Access-Control-Allow-Credentials":"true"}},_={UNSUPPORTED:0,MEDIA_SOURCE_EXTENSIONS:1,NATIVE:2};function S(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=document.createElement("video");return e.canPlayType("application/vnd.apple.mpegurl")&&t?_.NATIVE:u.Ay.isSupported()?_.MEDIA_SOURCE_EXTENSIONS:e.canPlayType("application/vnd.apple.mpegurl")?_.NATIVE:_.UNSUPPORTED}var O=function(t,e,n,r,o){var i;o.withCredentials&&(r.xhrSetup=function(t,e){for(var n in t.withCredentials=o.withCredentials,o.requestHeaders){var r=o.requestHeaders[n];t.setRequestHeader(n,r)}}),r.autoStartLoad=!0;var a=new u.Ay(r),c=(null==e||null===(i=e.sources)||void 0===i||null===(i=i.hls)||void 0===i?void 0:i.length)>0&&e.sources.hls[0];return[a,new Promise((function(e,o){var i=!1;a.on(u.Ay.Events.LEVEL_SWITCHED,(function(e,n){t.log.debug("HLS: quality level switched to ".concat(n.level)),i||(a.currentLevel=-1,i=!0),(0,s.Hl)(t,s.Ay.VIDEO_QUALITY_CHANGED,{})})),a.on(u.Ay.Events.ERROR,(function(e,n){if(n.fatal)switch(n.type){case u.Ay.ErrorTypes.NETWORK_ERROR:n.details===u.Ay.ErrorDetails.MANIFEST_LOAD_ERROR?o(Error("hlsVideoFormatPlugin: unrecoverable error in HLS player. The video is not available")):(t.log.warn("hlsVideoFormatPlugin: Fatal network error. Try to recover"),a.startLoad());break;case u.Ay.ErrorTypes.MEDIA_ERROR:t.log.warn("hlsVideoFormatPlugin: Fatal media error encountered. Try to recover"),a.recoverMediaError();break;default:a.destroy(),o(Error("hlsVideoFormat: Fatal error. Can not recover"))}else t.log.warn("HLS: error"),t.log.warn(n.details)})),a.on(u.Ay.Events.LEVEL_SWITCHING,(function(){t.log.debug("HLS media attached")})),a.on(u.Ay.Events.MEDIA_ATTACHED,(function(){t.log.debug("HLS media attached")})),a.on(u.Ay.Events.MEDIA_DETACHING,(function(){t.log.debug("HLS media detaching")})),a.on(u.Ay.Events.MEDIA_DETACHED,(function(){t.log.debug("HLS media detached")})),a.on(u.Ay.Events.MANIFEST_PARSED,(function(){t.log.debug("HLS manifest parsed"),a.startLoad(-1)}));var l=Math.floor(1e11*Math.random()),f=c.src+(r.enableCache?/\?/.test(c.src)?"&cache=".concat(l):"?cache=".concat(l):"");a.loadSource(f),a.attachMedia(n);var h=!1;a._videoEventListener=function(){h=!0,e()},n.addEventListener("canplay",a._videoEventListener),setTimeout(C(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h){t.next=5;break}return t.next=3,n.play();case 3:return t.next=5,n.pause();case 5:case"end":return t.stop()}}),t)}))),1e3)}))]},T=function(t){function e(t,n,r,o){var i;for(var a in h(this,e),(i=v(this,e,[t,n,o,r]))._config=i._config||{audioTrackLabel:r.audioTrackLabel||"name",enableCache:r.enableCache||!1},k)i._config[a]=k[a];for(var s in r.hlsConfig)i._config[s]=r.hlsConfig[s];for(var c in i._cors={},L)i._cors[c]=L[c];for(var u in r.corsConfig)i._cors[u]=r.corsConfig[u];return i._ready=!1,i._autoQuality=!0,i._forceNative=r.forceNative||!1,i}var n,r,o,s,c,u,l,p,y;return w(e,t),d(e,[{key:"autoQuality",get:function(){return this._autoQuality}},{key:"forceNative",get:function(){return this._forceNative}},{key:"loadStreamData",value:(y=C(x().mark((function t(n){var r,o,a,s,c,u,l,h,p,d=this;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S(this.forceNative)!==_.NATIVE){t.next=17;break}return n.sources.mp4=n.sources.hls,t.next=4,m(b(e.prototype),"loadStreamData",this).call(this,n);case 4:return r=t.sent,t.next=7,this.getAudioTracks();case 7:return o=t.sent,this._currentAudioTrack=o.find((function(t){return t.selected})),this._autoQuality=new i.A({label:"auto",shortLabel:"auto",index:-1,width:1,height:1,isAuto:!0}),this._currentQuality=this._autoQuality,this.saveDisabledProperties(this.video),this._endedCallback=this._endedCallback||function(){"function"==typeof d._videoEndedCallback&&d._videoEndedCallback()},this.video.addEventListener("ended",this._endedCallback),t.abrupt("return",r);case 17:return this.player.log.debug("Loading HLS stream"),s=(null==n||null===(a=n.sources)||void 0===a||null===(a=a.hls)||void 0===a?void 0:a.length)&&n.sources.hls[0],this._config.audioTrackLabel=(null==s?void 0:s.audioLabel)||this._config.audioTrackLabel,c=O(this.player,n,this.video,this._config,this._cors),v=2,u=function(t){if(Array.isArray(t))return t}(y=c)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(y,v)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(y,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=u[0],h=u[1],this._hls=l,t.next=24,h;case 24:return this.video.pause(),this._autoQuality=new i.A({label:"auto",shortLabel:"auto",index:-1,width:1,height:1,isAuto:!0}),this._currentQuality=this._autoQuality,t.next=29,this.getAudioTracks();case 29:p=t.sent,this._currentAudioTrack=p.find((function(t){return t.selected})),this.saveDisabledProperties(this.video),this._endedCallback=this._endedCallback||function(){"function"==typeof d._videoEndedCallback&&d._videoEndedCallback()},this.video.addEventListener("ended",this._endedCallback);case 34:case"end":return t.stop()}var y,v}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"duration",value:(p=C(x().mark((function t(){var e,n;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=8;break}return t.next=3,this.waitForLoaded();case 3:return(e=this.video.duration)===1/0&&(e=(null===(n=this._hls)||void 0===n?void 0:n.liveSyncPosition)||0),t.abrupt("return",e);case 8:return t.abrupt("return",this._disabledProperties.duration);case 9:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"waitForLoaded",value:(l=C(x().mark((function t(){var n=this;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S(this.forceNative)!==_.NATIVE){t.next=4;break}return t.abrupt("return",m(b(e.prototype),"waitForLoaded",this).call(this));case 4:return t.next=6,new Promise((function(t,e){!function e(){n._ready&&t(),/Firefox/.test(navigator.userAgent)&&2==n.video.readyState||n.video.readyState>2?(n._ready=!0,t()):setTimeout((function(){return e()}),200)}()}));case 6:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"getQualities",value:(u=C(x().mark((function t(){var e;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=[]).push(this._autoQuality),S(this.forceNative)===_.MEDIA_SOURCE_EXTENSIONS&&(this._hls.levels.forEach((function(t,n){e.push(new i.A({index:n,label:"".concat(t.width,"x").concat(t.height),shortLabel:"".concat(t.height,"p"),width:t.width,height:t.height}))})),e.sort((function(t,e){return t.res.h-e.res.h}))),t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setQuality",value:(c=C(x().mark((function t(e){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._videoEnabled){t.next=2;break}return t.abrupt("return");case 2:if(e instanceof i.A){t.next=4;break}throw Error("Invalid parameter setting video quality. VideoQualityItem object expected.");case 4:S(this.forceNative)===_.MEDIA_SOURCE_EXTENSIONS?(this._currentQuality=e,this._hls.currentLevel=e.index):this.player.log.warn("Could not set video quality of HLS stream, because the HLS support of this browser is native.");case 5:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"currentQuality",get:function(){return this._currentQuality}},{key:"supportsMultiaudio",value:(s=C(x().mark((function t(){var e,n;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:if((e=S(this.forceNative))!==_.MEDIA_SOURCE_EXTENSIONS){t.next=7;break}return t.abrupt("return",this._hls.audioTracks.length>1);case 7:if(e!==_.NATIVE){t.next=11;break}return t.abrupt("return",(null===(n=this.video.audioTracks)||void 0===n?void 0:n.length)>1);case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getAudioTracks",value:(o=C(x().mark((function t(){var e,n,r,o,i=this;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:if(e=this._config.audioTrackLabel||"name",(n=S(this.forceNative))!==_.MEDIA_SOURCE_EXTENSIONS){t.next=9;break}return r=this._hls.audioTracks.map((function(t){return new a.A({id:t.id,name:t[e],language:t.lang,selected:i._hls.audioTrack===t.id})})),t.abrupt("return",r);case 9:if(n!==_.NATIVE){t.next=14;break}return o=Array.from(this.video.audioTracks).map((function(t){return new a.A({id:t.id,name:t.label,language:t.language,selected:t.enabled})})),t.abrupt("return",o);case 14:return t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(r=C(x().mark((function t(e){var n,r,o;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForLoaded();case 2:return t.next=4,this.getAudioTracks();case 4:return n=t.sent,r=n.find((function(t){return t.id===e.id})),(o=S(this.forceNative))===_.MEDIA_SOURCE_EXTENSIONS&&r?this._hls.audioTrack=r.id:o===_.NATIVE&&r&&Array.from(this.video.audioTracks).forEach((function(t){t.id===r.id?t.enabled=!0:t.enabled=!1})),this._currentAudioTrack=r,t.abrupt("return",r);case 10:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return this._currentAudioTrack}},{key:"clearStreamData",value:(n=C(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.video.removeEventListener("canplay",this._hls._videoEventListener),this.video.src="",this._hls.destroy(),this._ready=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),e}(r.Mp4Video),P=function(t){function e(){return h(this,e),v(this,e,arguments)}var n;return w(e,t),d(e,[{key:"getPluginModuleInstance",value:function(){return c.default.Get()}},{key:"name",get:function(){return m(b(e.prototype),"name",this)||"es.upv.paella.hlsVideoFormat"}},{key:"streamType",get:function(){return"hls"}},{key:"isCompatible",value:function(t){return t.sources.hls&&S()}},{key:"getVideoInstance",value:(n=C(x().mark((function t(e,n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new T(this.player,e,this.config,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return["m3u8"]}},{key:"getManifestData",value:function(t){return{hls:t.map((function(t){return{src:t,mimetype:"video/mp4"}}))}}}]),e}(o.Ay)},1395:(t,e,n)=>{"use strict";n.r(e),n.d(e,{HtmlVideo:()=>A,default:()=>x});var r=n(8955),o=n(9506),i=n(1175),a=n(1897);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},c.apply(this,arguments)}function u(){u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:String(e)}function v(t,e,n){return e=m(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,n||[],m(t).constructor):e.apply(t,n))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(g=function(){return!!t})()}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}var A=function(t){function e(t,n,r){return h(this,e),v(this,e,[t,n,r])}var n;return b(e,t),d(e,[{key:"loadStreamData",value:(n=f(u().mark((function t(){var e,n=this,o=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:null,this._streamData=this._streamData||e,this.player.log.debug("es.upv.paella.htmlVideoFormat: loadStreamData"),this._sources=e.sources.html,this._currentQuality=0,this.isMainAudioPlayer||(this.video.muted=!0),this._sources.forEach((function(t){var e=t.src,o=t.mimetype;e=(0,r.resolveResourcePath)(n.player,e);var i=document.createElement("source");i.src=e,i.type=o,n.video.appendChild(i)})),this._endedCallback=this._endedCallback||function(){"function"==typeof n._videoEndedCallback&&n._videoEndedCallback()},this.video.addEventListener("ended",this._endedCallback),t.next=11,this.waitForLoaded();case 11:this.player.log.debug("es.upv.paella.htmlVideoFormat (".concat(this.streamData.content,"): video loaded and ready.")),this.saveDisabledProperties(this.video);case 13:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),e}(i.Mp4Video),x=function(t){function e(){return h(this,e),v(this,e,arguments)}var n;return b(e,t),d(e,[{key:"getPluginModuleInstance",value:function(){return a.default.Get()}},{key:"name",get:function(){return c(m(e.prototype),"name",this)||"es.upv.paella.htmlVideoFormat"}},{key:"streamType",get:function(){return"html"}},{key:"isCompatible",value:function(t){var e=t.sources.html;return e&&e.some((function(t){return(0,i.supportsVideoType)(t.mimetype)}))}},{key:"getVideoInstance",value:(n=f(u().mark((function t(e,n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new A(this.player,e,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return["m4v","mp4","ogg","webm","ogv"]}},{key:"getManifestData",value:function(t){var e=function(t){switch((0,r.getFileExtension)(t)){case"mp4":case"m4v":return"video/mp4";case"webm":return"video/webm";case"ogg":case"ogv":return"video/ogg";default:return null}};return{html:t.map((function(t){return{src:t,mimetype:e(t)}}))}}}]),e}(o.Ay)},4273:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ImageVideo:()=>E,default:()=>C});var r=n(9506),o=(n(8955),n(5803)),i=n(1897);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},s.apply(this,arguments)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,s,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,s)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,s,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,s,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function p(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:String(e)}function y(t,e,n){return e=g(e),function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function w(t){var e=this,n=this._currentSource.frames[0];this._currentSource.frames.some((function(t){if(!(t.time<=e._currentTime))return!0;n=t})),this.img.src=n.src}function A(){var t=this;this._startTimestamp=Date.now(),function e(){t._timer=setTimeout(e,250);var n=Date.now(),r=n-t._startTimestamp;t._currentTime+=r/1e3,t._startTimestamp=n,w.apply(t,[t._currentTime])}()}function x(){this._timer&&(clearTimeout(this._timer),this._timer=null)}var E=function(t){function e(t,n){var r;return f(this,e),(r=y(this,e,["img",t,n]))._currentTime=0,r._startTimesamp=0,r._playbackRate=1,r._timer=null,r.video=r.domElement,r}var n,r,i,a,s,u,h,d,v,g,b,E,C,k;return m(e,t),p(e,[{key:"play",value:(k=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:A.apply(this);case 1:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"pause",value:(C=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x.apply(this);case 1:case"end":return t.stop()}}),t,this)}))),function(){return C.apply(this,arguments)})},{key:"duration",value:(E=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._currentSource.duration);case 1:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return this._currentTime}},{key:"currentTime",value:(b=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._currentTime);case 1:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"setCurrentTime",value:(g=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._currentTime=e,w.apply(this,[e]);case 2:case"end":return t.stop()}}),t,this)}))),function(t){return g.apply(this,arguments)})},{key:"volume",value:(v=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",0);case 1:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)})},{key:"setVolume",value:(d=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)})},{key:"paused",value:(h=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===this._timer);case 1:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"playbackRate",value:(u=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._playbackRate);case 1:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setPlaybackRate",value:(s=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._playbackRate=e;case 1:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"getQualities",value:(a=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._qualities);case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"setQuality",value:(i=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"currentQuality",get:function(){return this._currentQuality}},{key:"getDimensions",value:(r=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._currentSource.res);case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"loadStreamData",value:(n=l(c().mark((function t(e){var n=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._sources=e.sources.image,this._qualities=this._sources.map((function(t){return new o.A({src:t.frames[0].src,label:"".concat(t.res.w,"x").concat(t.res.h),shortLabel:"".concat(t.res.h,"p"),width:t.res.w,height:t.res.h})})),this._currentQuality=this._qualities.length-1,this._qualities.forEach((function(t,e){n._qualities[n._currentQuality].compare(t)>0&&(n._currentQuality=e)})),this._currentSource=this._sources[this._currentQuality],this._sources.forEach((function(t){t.frames.sort((function(t,e){return t.time-e.time}))})),t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}]),e}(r.Ce),C=function(t){function e(){return f(this,e),y(this,e,arguments)}var n;return m(e,t),p(e,[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return s(g(e.prototype),"name",this)||"es.upv.paella.imageVideoFormat"}},{key:"streamType",get:function(){return"image"}},{key:"isCompatible",value:function(t){return null!=t.sources.image}},{key:"getVideoInstance",value:(n=l(c().mark((function t(e,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new E(this.player,e,this.config,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})}]),e}(r.Ay)},1175:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Mp4Video:()=>x,default:()=>E,supportsVideoType:()=>A});var r=n(9506),o=n(8955),i=n(1897);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},s.apply(this,arguments)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function A(){}var x={};f(x,s,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,s)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,s,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=f(A,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),f(k,l,"Generator"),f(k,s,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function p(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:String(e)}function y(t,e,n){return e=g(e),function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,n||[],g(t).constructor):e.apply(t,n))}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}var w=null;function A(t){if(!t)return!1;w||(w=document.createElement("video"));var e=w.canPlayType(t);return"maybe"===e||"probably"===e||(/video\/mp4/i.test(t)?"maybe"===(e=w.canPlayType("video/mp4"))||"probably"===e:void 0)}var x=function(t){function e(t,n,r,o){var i,a;f(this,e),(a=y(this,e,["video",t,n]))._config=o||{};var s=null!==(i=a._config.crossOrigin)&&void 0!==i?i:"";return a.element.setAttribute("playsinline",""),!1!==s&&a.element.setAttribute("crossorigin",s),a.isMainAudio=r,a.element.setAttribute("autoplay",""),a.element.autoplay=!0,r||(a.element.setAttribute("muted",""),a.element.muted=!0),a._videoEnabled=!0,a}var n,r,i,a,s,u,h,d,v,g,b,w,A,x,E,C,k;return m(e,t),p(e,[{key:"play",value:(k=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=11;break}return t.prev=1,t.next=4,this.waitForLoaded();case 4:return t.abrupt("return",this.video.play());case 7:t.prev=7,t.t0=t.catch(1);case 9:t.next=12;break;case 11:this._disabledProperties.paused=!1;case 12:case"end":return t.stop()}}),t,this,[[1,7]])}))),function(){return k.apply(this,arguments)})},{key:"pause",value:(C=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.pause());case 6:this._disabledProperties.paused=!0;case 7:case"end":return t.stop()}}),t,this)}))),function(){return C.apply(this,arguments)})},{key:"duration",value:(E=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.duration);case 6:return t.abrupt("return",this._disabledProperties.duration);case 7:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)})},{key:"currentTimeSync",get:function(){return this._videoEnabled?this.ready?this.video.currentTime:-1:this._disabledProperties.currentTime}},{key:"currentTime",value:(x=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.currentTimeSync);case 6:return t.abrupt("return",this._disabledProperties.currentTime);case 7:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"setCurrentTime",value:(A=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.currentTime=e);case 6:return this._disabledProperties.currentTime=e,t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return A.apply(this,arguments)})},{key:"volume",value:(w=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.volume);case 6:return t.abrupt("return",this._disabledProperties.volume);case 7:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"setVolume",value:(b=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=7;break}return t.next=3,this.waitForLoaded();case 3:return 0===e?this.video.setAttribute("muted",""):this.video.removeAttribute("muted"),t.abrupt("return",this.video.volume=e);case 7:return this._disabledProperties.volume=e,t.abrupt("return",e);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"paused",value:(g=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.paused);case 6:return t.abrupt("return",this._disabledProperties.paused);case 7:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"playbackRate",value:(v=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=8;break}return t.next=3,this.waitForLoaded();case 3:return t.next=5,this.video.playbackRate;case 5:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",this._disabledProperties.playbackRate);case 9:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"setPlaybackRate",value:(d=l(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",this.video.playbackRate=e);case 6:return this._disabledProperties.playbackRate=e,t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"getQualities",value:(h=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})},{key:"setQuality",value:(u=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"currentQuality",get:function(){return 0}},{key:"getDimensions",value:(s=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._videoEnabled){t.next=6;break}return t.next=3,this.waitForLoaded();case 3:return t.abrupt("return",{w:this.video.videoWidth,h:this.video.videoHeight});case 6:return t.abrupt("return",{w:this._disabledProperties.videoWidth,h:this._disabledProperties.videoHeight});case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"saveDisabledProperties",value:function(t){this._disabledProperties={duration:t.duration,volume:t.volume,videoWidth:t.videoWidth,videoHeight:t.videoHeight,playbackRate:t.playbackRate,paused:t.paused,currentTime:t.currentTime}}},{key:"loadStreamData",value:(a=l(c().mark((function t(){var e,n=this,r=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:null,this._streamData=this._streamData||e,this.player.log.debug("es.upv.paella.mp4VideoFormat: loadStreamData"),this._currentSource||(this._sources=null,this._currentQuality=0,this._sources=e.sources.mp4,this._sources.sort((function(t,e){return Number(t.res.w)-Number(e.res.w)})),this._currentQuality=this._sources.length-1,this._currentSource=this._sources[this._currentQuality]),this.isMainAudioPlayer||(this.video.muted=!0),this._initialVolume&&(this.video.volume=this._initialVolume,0===this._initialVolume&&(this.video.muted=!0)),this.video.src=(0,o.resolveResourcePath)(this.player,this._currentSource.src),this._endedCallback=this._endedCallback||function(){"function"==typeof n._videoEndedCallback&&n._videoEndedCallback()},this.video.addEventListener("ended",this._endedCallback),t.prev=9,t.next=12,this.video.play();case 12:t.next=16;break;case 14:t.prev=14,t.t0=t.catch(9);case 16:return t.next=18,this.waitForLoaded();case 18:return t.next=20,this.video.pause();case 20:this.player.log.debug("es.upv.paella.mp4VideoFormat (".concat(this.streamData.content,"): video loaded and ready.")),this.saveDisabledProperties(this.video);case 22:case"end":return t.stop()}}),t,this,[[9,14]])}))),function(){return a.apply(this,arguments)})},{key:"clearStreamData",value:(i=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.video.src="",this.video.removeEventListener("ended",this._endedCallback),this.video.removeEventListener("loadeddata",this._handleLoadedCallback),this._ready=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"isEnabled",get:function(){return this._videoEnabled}},{key:"enable",value:(r=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._videoEnabled=!0;case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"disable",value:(n=l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isMainAudio?this.player.log.debug("video.disable() - the video is not disabled because it is the main audio source."):this._videoEnabled=!1,t.abrupt("return",this._videoEnabled);case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"waitForLoaded",value:function(){var t=this;return new Promise((function(e,n){t.video.readyState>=2&&(t._ready=!0),t.ready?e():(t._handleLoadedCallback=function(n){t.video.readyState>=2&&(t.video.pause(),t._ready=!0,e())},t.video.addEventListener("loadeddata",t._handleLoadedCallback))}))}}]),e}(r.Ce),E=function(t){function e(){return f(this,e),y(this,e,arguments)}var n;return m(e,t),p(e,[{key:"getPluginModuleInstance",value:function(){return i.default.Get()}},{key:"name",get:function(){return s(g(e.prototype),"name",this)||"es.upv.paella.mp4VideoFormat"}},{key:"streamType",get:function(){return"mp4"}},{key:"isCompatible",value:function(t){var e,n=t.sources.mp4;return n&&A(null===(e=n[0])||void 0===e?void 0:e.mimetype)}},{key:"getVideoInstance",value:(n=l(c().mark((function t(e,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new x(this.player,e,n,this.config));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"getCompatibleFileExtensions",value:function(){return["m4v","mp4"]}},{key:"getManifestData",value:function(t){return{mp4:t.map((function(t){return{src:t,mimetype:"video/mp4"}}))}}}]),e}(r.Ay)},3606:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,".button-group {\n}\n\n.button-group-title {\n    font-family: sans-serif;\n    text-align: center;\n    padding: 5px;\n    border-bottom: 1px solid #938e8e;\n}\n\n.button-group .button-plugin-container {\n    display: inline;\n}\n\n.button-group .button-plugin-wrapper {\n    display: flex;\n    flex-direction: row;\n    align-content: center;\n    align-items: center;\n\tbox-sizing: border-box;\n}\n\n.button-group .button-plugin-container button {\n\twidth: 40px;\n\theight: 40px;\n\tdisplay: block;\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n}\n\n.button-group button:hover {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.button-group button:active {\n\tbackground-color: var(--main-bg-color);\n}\n\n.button-group button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n/* Fix default iPad button padding */\n.button-group .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.video-container .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.button-group span.button-title {\n    display: block;\n}\n\n.button-group span.button-title.button-title-small {\n\tmargin-top: -16px;\n    font-size: 8px;\n}\n\n.button-group span.button-title.button-title-medium {\n\tmargin-top: -17px;\n    font-size: 10px;\n}\n\n.button-group span.button-title.button-title-large {\n\tmargin-top: -19px;\n    font-size: 12px;\n}\n\n.button-group span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n.button-group button.dynamic-width span {\n    margin-top: 0px;\n    color: var(--main-fg-color);\n    padding-left: 3px;\n    padding-right: 3px;\n}\n\n.button-group button.dynamic-width span.button-title-small {\n    margin-top: 0px;\n}\n\n.button-group button.dynamic-width span.button-title-medium {\n    margin-top: 0px;\n}\n\n.button-group button.dynamic-width span.button-title-large {\n    margin-top: 0px;\n}\n\n\n.button-group button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.button-group .button-plugin-wrapper .button-description {\n    font-family: sans-serif;\n    margin-left: 4px;\n\tcursor: pointer;\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-right: 20px;\n\tbox-sizing: border-box;\n\tcolor: var(--main-fg-color);\n\tuser-select: none;\n}\n\n.button-group .button-plugin-wrapper .button-description:hover {\n    color: var(--main-fg-color);\n\ttext-shadow:0px 0px 2px var(--main-fg-color);\n}","",{version:3,sources:["webpack://./src/css/ButtonGroup.css"],names:[],mappings:"AAAA;AACA;;AAEA;IACI,uBAAuB;IACvB,kBAAkB;IAClB,YAAY;IACZ,gCAAgC;AACpC;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,qBAAqB;IACrB,mBAAmB;CACtB,sBAAsB;AACvB;;AAEA;CACC,WAAW;CACX,YAAY;CACZ,cAAc;CACd,gBAAgB;CAChB,YAAY;CACZ,WAAW;AACZ;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,sCAAsC;AACvC;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,YAAY;CACZ,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,gBAAgB;AACjB;;AAEA,oCAAoC;AACpC;CACC,wBAAwB;AACzB;;AAEA;CACC,wBAAwB;AACzB;;AAEA;IACI,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,wBAAwB;AACzB;;AAEA;IACI,eAAe;IACf,2BAA2B;IAC3B,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;;AAGA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;AAEA;IACI,uBAAuB;IACvB,gBAAgB;CACnB,eAAe;CACf,YAAY;CACZ,iBAAiB;CACjB,mBAAmB;CACnB,sBAAsB;CACtB,2BAA2B;CAC3B,iBAAiB;AAClB;;AAEA;IACI,2BAA2B;CAC9B,4CAA4C;AAC7C",sourcesContent:[".button-group {\n}\n\n.button-group-title {\n    font-family: sans-serif;\n    text-align: center;\n    padding: 5px;\n    border-bottom: 1px solid #938e8e;\n}\n\n.button-group .button-plugin-container {\n    display: inline;\n}\n\n.button-group .button-plugin-wrapper {\n    display: flex;\n    flex-direction: row;\n    align-content: center;\n    align-items: center;\n\tbox-sizing: border-box;\n}\n\n.button-group .button-plugin-container button {\n\twidth: 40px;\n\theight: 40px;\n\tdisplay: block;\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n}\n\n.button-group button:hover {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.button-group button:active {\n\tbackground-color: var(--main-bg-color);\n}\n\n.button-group button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n/* Fix default iPad button padding */\n.button-group .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.video-container .button-plugin-container button {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.button-group span.button-title {\n    display: block;\n}\n\n.button-group span.button-title.button-title-small {\n\tmargin-top: -16px;\n    font-size: 8px;\n}\n\n.button-group span.button-title.button-title-medium {\n\tmargin-top: -17px;\n    font-size: 10px;\n}\n\n.button-group span.button-title.button-title-large {\n\tmargin-top: -19px;\n    font-size: 12px;\n}\n\n.button-group span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n.button-group button.dynamic-width span {\n    margin-top: 0px;\n    color: var(--main-fg-color);\n    padding-left: 3px;\n    padding-right: 3px;\n}\n\n.button-group button.dynamic-width span.button-title-small {\n    margin-top: 0px;\n}\n\n.button-group button.dynamic-width span.button-title-medium {\n    margin-top: 0px;\n}\n\n.button-group button.dynamic-width span.button-title-large {\n    margin-top: 0px;\n}\n\n\n.button-group button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.button-group .button-plugin-wrapper .button-description {\n    font-family: sans-serif;\n    margin-left: 4px;\n\tcursor: pointer;\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-right: 20px;\n\tbox-sizing: border-box;\n\tcolor: var(--main-fg-color);\n\tuser-select: none;\n}\n\n.button-group .button-plugin-wrapper .button-description:hover {\n    color: var(--main-fg-color);\n\ttext-shadow:0px 0px 2px var(--main-fg-color);\n}"],sourceRoot:""}]);const s=a},4201:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,".captions-canvas {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    bottom: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 50;\n    pointer-events: none;\n}\n\n.captions-canvas .text-container {\n    width: 80%;\n    background-color: var(--main-bg-color);\n    border-radius: 5px;\n    color: var(--main-fg-color);\n    position: absolute;\n    bottom: 5px;\n    left: 10%;\n    right: 10%;\n    box-sizing: border-box;\n    padding: 10px;\n    font-size: 15px;\n    text-align: center;\n}\n\n.captions-canvas.visible-ui .text-container {\n    bottom: 55px;\n}\n\n.captions-canvas.size-s .text-container {\n    font-size: 18px;\n}\n\n.captions-canvas.size-m .text-container {\n    font-size: 20px;\n}\n\n.captions-canvas.size-l .text-container {\n    font-size: 24px;\n}\n\n.captions-canvas.size-xl .text-container {\n    font-size: 30px;\n}\n\n.captions-canvas.size-xxl .text-container {\n    font-size: 34px;\n}\n","",{version:3,sources:["webpack://./src/css/CaptionCanvas.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,WAAW;IACX,WAAW;IACX,YAAY;IACZ,WAAW;IACX,oBAAoB;AACxB;;AAEA;IACI,UAAU;IACV,sCAAsC;IACtC,kBAAkB;IAClB,2BAA2B;IAC3B,kBAAkB;IAClB,WAAW;IACX,SAAS;IACT,UAAU;IACV,sBAAsB;IACtB,aAAa;IACb,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB",sourcesContent:[".captions-canvas {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    bottom: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 50;\n    pointer-events: none;\n}\n\n.captions-canvas .text-container {\n    width: 80%;\n    background-color: var(--main-bg-color);\n    border-radius: 5px;\n    color: var(--main-fg-color);\n    position: absolute;\n    bottom: 5px;\n    left: 10%;\n    right: 10%;\n    box-sizing: border-box;\n    padding: 10px;\n    font-size: 15px;\n    text-align: center;\n}\n\n.captions-canvas.visible-ui .text-container {\n    bottom: 55px;\n}\n\n.captions-canvas.size-s .text-container {\n    font-size: 18px;\n}\n\n.captions-canvas.size-m .text-container {\n    font-size: 20px;\n}\n\n.captions-canvas.size-l .text-container {\n    font-size: 24px;\n}\n\n.captions-canvas.size-xl .text-container {\n    font-size: 30px;\n}\n\n.captions-canvas.size-xxl .text-container {\n    font-size: 34px;\n}\n"],sourceRoot:""}]);const s=a},8353:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,"\ndiv.error-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    top: 0px;\n    bottom: 0px;\n}\n\ndiv.error-container div {\n    text-align: center;\n}\n\ndiv.error-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n@media (max-width: 500px) {\n    div.error-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.error-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n","",{version:3,sources:["webpack://./src/css/Error.css"],names:[],mappings:";AACA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,aAAa;IACb,oBAAoB;IACpB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,QAAQ;IACR,WAAW;AACf;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,cAAc;IACd,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ",sourcesContent:["\ndiv.error-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    top: 0px;\n    bottom: 0px;\n}\n\ndiv.error-container div {\n    text-align: center;\n}\n\ndiv.error-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n@media (max-width: 500px) {\n    div.error-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.error-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n"],sourceRoot:""}]);const s=a},748:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,"\n@media (forced-colors: active) {\n    /* selected menu item */\n    ul.menu-button-content li.menu-button-item button.selected {\n\t\tborder: 2px solid white;\n\t}\n\n    /* Progress indicator */\n    .progress-indicator-content {\n        border: 5px solid white;\n        box-sizing: border-box;\n    }\n\n    .progress-indicator-remaining {\n        border: 3px solid gray;\n        box-sizing: border-box;\n    }\n\n    .progress-indicator-handler {\n        border: 5px solid white;\n        box-sizing: border-box;\n    }\n    \n\n}\n","",{version:3,sources:["webpack://./src/css/ForcedColors.css"],names:[],mappings:";AACA;IACI,uBAAuB;IACvB;EACF,uBAAuB;CACxB;;IAEG,uBAAuB;IACvB;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;;IAEA;QACI,sBAAsB;QACtB,sBAAsB;IAC1B;;IAEA;QACI,uBAAuB;QACvB,sBAAsB;IAC1B;;;AAGJ",sourcesContent:["\n@media (forced-colors: active) {\n    /* selected menu item */\n    ul.menu-button-content li.menu-button-item button.selected {\n\t\tborder: 2px solid white;\n\t}\n\n    /* Progress indicator */\n    .progress-indicator-content {\n        border: 5px solid white;\n        box-sizing: border-box;\n    }\n\n    .progress-indicator-remaining {\n        border: 3px solid gray;\n        box-sizing: border-box;\n    }\n\n    .progress-indicator-handler {\n        border: 5px solid white;\n        box-sizing: border-box;\n    }\n    \n\n}\n"],sourceRoot:""}]);const s=a},8066:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,"\ndiv.loader-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgba(255, 255, 255, 0.6);\n}\n\ndiv.loader-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@media (max-width: 500px) {\n    div.loader-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.loader-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n","",{version:3,sources:["webpack://./src/css/Loader.css"],names:[],mappings:";AACA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,aAAa;IACb,oBAAoB;IACpB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,0CAA0C;AAC9C;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,cAAc;IACd,kCAAkC;AACtC;;AAEA;IACI;QACI,yBAAyB;IAC7B;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ;;AAEA;IACI;QACI,YAAY;QACZ,aAAa;IACjB;AACJ",sourcesContent:["\ndiv.loader-container {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgba(255, 255, 255, 0.6);\n}\n\ndiv.loader-container i {\n    width: 350px;\n    height: 350px;\n    display: block;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@media (max-width: 500px) {\n    div.loader-container i {\n        width: 100px;\n        height: 100px;\n    }\n}\n\n@media (max-width: 800px) {\n    div.loader-container i {\n        width: 200px;\n        height: 200px;\n    }\n}\n\n"],sourceRoot:""}]);const s=a},1878:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,"\nul.menu-button-content {\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.menu-button-title {\n\tlist-style: none;\n    font-family: sans-serif;\n    text-align: center;\n    padding: 5px;\n    border-bottom: 1px solid #938e8e;\n}\n\nul.menu-button-content li.menu-button-item {\n\tmin-width:40px;\n}\n\nul.menu-button-content li.menu-button-item button {\n\tbackground: none;\n\tborder: none;\n\twidth: 100%;\n\tcolor: var(--main-fg-color);\n\tdisplay: flex;\n\tjustify-content: space-around;\n}\n\nul.menu-button-content li.menu-button-item button:hover {\n\tbackground-color: var(--secondary-bg-color);\n}\n\nul.menu-button-content li.menu-button-item button.selected {\n\tbackground-color: var(--highlight-bg-color);\n}\n\nul.menu-button-content li.menu-button-item button.selected:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon {\n\tpointer-events: none;\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n}\n\nul.menu-button-content li.menu-button-item button span.menu-title {\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n\tpointer-events: none;\n}","",{version:3,sources:["webpack://./src/css/MenuButton.css"],names:[],mappings:";AACA;CACC,qBAAqB;CACrB,SAAS;CACT,UAAU;AACX;;AAEA;CACC,gBAAgB;IACb,uBAAuB;IACvB,kBAAkB;IAClB,YAAY;IACZ,gCAAgC;AACpC;;AAEA;CACC,cAAc;AACf;;AAEA;CACC,gBAAgB;CAChB,YAAY;CACZ,WAAW;CACX,2BAA2B;CAC3B,aAAa;CACb,6BAA6B;AAC9B;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;CAC3B,YAAY;AACb;;AAEA;CACC,YAAY;CACZ,iBAAiB;CACjB,iBAAiB;CACjB,kBAAkB;CAClB,oBAAoB;AACrB",sourcesContent:["\nul.menu-button-content {\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.menu-button-title {\n\tlist-style: none;\n    font-family: sans-serif;\n    text-align: center;\n    padding: 5px;\n    border-bottom: 1px solid #938e8e;\n}\n\nul.menu-button-content li.menu-button-item {\n\tmin-width:40px;\n}\n\nul.menu-button-content li.menu-button-item button {\n\tbackground: none;\n\tborder: none;\n\twidth: 100%;\n\tcolor: var(--main-fg-color);\n\tdisplay: flex;\n\tjustify-content: space-around;\n}\n\nul.menu-button-content li.menu-button-item button:hover {\n\tbackground-color: var(--secondary-bg-color);\n}\n\nul.menu-button-content li.menu-button-item button.selected {\n\tbackground-color: var(--highlight-bg-color);\n}\n\nul.menu-button-content li.menu-button-item button.selected:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon {\n\tpointer-events: none;\n}\n\nul.menu-button-content li.menu-button-item button i.menu-icon svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n}\n\nul.menu-button-content li.menu-button-item button span.menu-title {\n\theight: 40px;\n\tline-height: 40px;\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n\tpointer-events: none;\n}"],sourceRoot:""}]);const s=a},2753:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,"\n.player-container {\n\tcontainer-type: inline-size;\n\tcontainer-name: player-container;\n}\n\n.playback-bar {\n\tposition: absolute;\n\tbottom: 0px;\n\twidth: var(--playback-bar-width);\n\tmin-height: var(--playback-bar-height);\n\tleft: calc((100% - var(--playback-bar-width)) / 2);\n\tright: calc((100% - var(--playback-bar-width)) / 2);\n\tbackground: var(--secondary-bg-color);\n\tbackground: var(--main-bg-gradient);\n\tz-index: 100;\n\tcontainer-type: inline-size;\n\tcontainer-name: playback-bar;\n}\n\n.playback-bar.inline-mode {\n\tdisplay: flex;\n\talign-items: center;\n  \tuser-select: none;\n}\n\n.playback-bar:hover {\n\tbackground: var(--secondary-bg-color-hover);\n}\n\n.progress-indicator {\n\twidth: 98%;\n\tmargin-left: 1%;\n\theight: var(--progress-indicator-height);\n}\n\n.progress-indicator.inline-mode {\n\tflex: 1;\n}\n\n.progress-indicator-timer {\n\tposition: absolute;\n\ttop:1px;\n\tcolor: var(--main-fg-color);\n\tfont-size: 10px;\n\tline-height: 11px;\n\tpadding-left: 11px;\n\tpointer-events: none;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1;\n}\n\n.progress-indicator-timer.left-side {\n\tleft: 0px;\n}\n\n.progress-indicator-timer.right-side {\n\tright: 0px;\n}\n\n.playback-bar .button-plugins {\n\theight: var(--button-fixed-height);\n}\n\n.playback-bar .button-plugins.left-side {\n\tfloat: left;\n}\n\n.playback-bar .button-plugins.right-side {\n\tfloat: right;\n}\n\n.playback-bar .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.playback-bar .button-plugins .button-plugin-container button {\n\theight: var(--button-fixed-height);\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n\talign-items: center;\n\talign-items: center;\n    justify-content: center;\n}\n\n.playback-bar .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.playback-bar .button-plugins .button-plugin-container button.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.playback-bar .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.playback-bar .button-plugins button:active {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.playback-bar .button-plugins button.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.playback-bar .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: var(--button-icon-size);\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n/* non-interactive buttons **/\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\theight: var(--button-fixed-height);\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n    align-items: center;\n    justify-content: center;\n\tpointer-events: none;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.playback-bar .button-plugins div.non-interactive i {\n\tbackground-size: 50% 50%;\n\twidth: var(--button-icon-size);\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n.playback-bar .button-plugins div.non-interactive span {\n\tdisplay: block;\n\ttext-align: center;\n\tmargin-top: -23px;\n}\n\n.playback-bar .button-plugins div.no-icon span {\n\tline-height: var(--button-fixed-height);\n    margin-top: 0px;\n\tcolor: var(--main-fg-color);\n}\n\n.playback-bar .button-plugins div.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\tpadding: 2px 6px 3px 6px;\n}\n.video-container .button-plugins .button-plugin-container div.non-interactive {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.playback-bar .button-plugins div.non-interactive i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n\n/* Fix default iPad button padding */\n.playback-bar .button-plugins .button-plugin-container button {\n\tpadding: 0px 6px 0px 6px;\n}\n.video-container .button-plugins .button-plugin-container button {\n\tpadding: 0px 6px 0px 6px;\n}\n\n.button-plugins span.button-title {\n    display: block;\n}\n\n.button-plugins span.button-title.button-title-small {\n\tmargin-top: -13px;\n    font-size: 8px;\n}\n\n.button-plugins span.button-title.button-title-medium {\n\tmargin-top: -14px;\n    font-size: 10px;\n}\n\n.button-plugins span.button-title.button-title-large {\n\tmargin-top: -16px;\n    font-size: 12px;\n}\n\n.button-plugins span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n\n.playback-bar .button-plugins button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.playback-bar .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}\n\n.playback-bar .timer-container {\n\theight: 40px;\n\tline-height: 40px;\n\tdisplay: none;\n}\n\n.playback-bar .timer-container.left-side {\n\tfloat: left;\n\tdisplay: block;\n}\n\n.playback-bar .timer-container.right-side {\n\tfloat: right;\n\tdisplay: block;\n}\n\n.progress-indicator {\n\tposition: relative;\n}\n\n.progress-indicator canvas {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\tpointer-events: none;\n\topacity: 0.5;\n}\n\n.playback-bar:hover .progress-indicator canvas {\n\topacity: 1;\n}\n\n.progress-indicator .progress-indicator-container {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.progress-indicator-container .progress-indicator-content {\n\theight: 10px;\n\tbackground-color: var(--highlight-bg-color-hover);\n\topacity: 0.8;\n\tpointer-events: none;\n}\n\n.playback-bar:hover .progress-indicator-container .progress-indicator-content {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.progress-indicator-remaining {\n\tdisplay: block;\n\twidth: 100%;\n\tbackground-color: rgb(139, 139, 139);\n\theight: 10px;\n\tposition: absolute;\n\tz-index: -1;\n\topacity: 0.4;\n}\n\n.progress-indicator-handler {\n\tdisplay: block;\n\twidth: var(--progress-indicator-handler-size);\n\theight: var(--progress-indicator-handler-size);\n\tmargin-left: -10px;\n\tbackground-color: var(--highlight-bg-color-hover);\n\tborder-radius: 10px;\n\tz-index: 1;\n}\n\n.frame-thumbnail {\n\tbackground-color: var(--secondary-bg-color-hover);\n\tmin-width: 100px;\n\tmin-height: 100px;\n\tbox-shadow: 0px 0px 5px 0px var(--main-bg-color);\n\tz-index: 10000;\n\tpointer-events: none;\n}\n\n.frame-thumbnail .thumbnail-image {\n\tpointer-events: none;\n}\n\n.timer-container .progress-indicator-timer {\n\tposition: static;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n\n@media (max-width: 500px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 130px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (max-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 230px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (min-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 330px;\n\t\tpointer-events: none;\n\t}\n}\n\n.frame-thumbnail .thumbnail-time {\n\tpointer-events: none;\n\tfont-size: 12px;\n\tline-height: 12px;\n\tdisplay: block;\n\theight: 12px;\n\tcolor: var(--main-fg-color);\n\ttext-align: center;\n\tmargin: 0;\n\tpadding: 1;\n}\n\n@container player-container (max-width: 700px) {\n\t.playback-bar {\n\t\tmin-height: var(--playback-bar-height-sm);\n\t}\n}\n\n@container playback-bar (max-width: 700px) {\n\n\t.playback-bar .button-plugins button i {\n\t\twidth: var(--button-icon-size-sm);\n\t}\n\n\t.playback-bar .button-plugins {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container button {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container button.fixed-width {\n\t\twidth: var(--button-fixed-width-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\t\twidth: var(--button-fixed-width-sm);\n\t}\n\n\t.playback-bar .button-plugins div.non-interactive i {\n\t\twidth: var(--button-icon-size-sm);\n\t}\n\n\t.playback-bar .button-plugins div.no-icon span {\n\t\tline-height: var(--button-fixed-height-sm);\n\t}\n}","",{version:3,sources:["webpack://./src/css/PlaybackBar.css"],names:[],mappings:";AACA;CACC,2BAA2B;CAC3B,gCAAgC;AACjC;;AAEA;CACC,kBAAkB;CAClB,WAAW;CACX,gCAAgC;CAChC,sCAAsC;CACtC,kDAAkD;CAClD,mDAAmD;CACnD,qCAAqC;CACrC,mCAAmC;CACnC,YAAY;CACZ,2BAA2B;CAC3B,4BAA4B;AAC7B;;AAEA;CACC,aAAa;CACb,mBAAmB;GACjB,iBAAiB;AACpB;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,UAAU;CACV,eAAe;CACf,wCAAwC;AACzC;;AAEA;CACC,OAAO;AACR;;AAEA;CACC,kBAAkB;CAClB,OAAO;CACP,2BAA2B;CAC3B,eAAe;CACf,iBAAiB;CACjB,kBAAkB;CAClB,oBAAoB;CACpB,YAAY;CACZ,aAAa;CACb,uBAAuB;CACvB,mBAAmB;CACnB,UAAU;AACX;;AAEA;CACC,SAAS;AACV;;AAEA;CACC,UAAU;AACX;;AAEA;CACC,kCAAkC;AACnC;;AAEA;CACC,WAAW;AACZ;;AAEA;CACC,YAAY;AACb;;AAEA;CACC,eAAe;AAChB;;AAEA;CACC,kCAAkC;CAClC,gBAAgB;CAChB,YAAY;CACZ,WAAW;CACX,mBAAmB;CACnB,mBAAmB;IAChB,uBAAuB;AAC3B;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,wBAAwB;CACxB,8BAA8B;CAC9B,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA,6BAA6B;AAC7B;CACC,kCAAkC;CAClC,gBAAgB;CAChB,YAAY;CACZ,WAAW;CACX,sBAAsB;CACtB,aAAa;IACV,mBAAmB;IACnB,uBAAuB;CAC1B,oBAAoB;AACrB;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,wBAAwB;CACxB,8BAA8B;CAC9B,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,cAAc;CACd,kBAAkB;CAClB,iBAAiB;AAClB;;AAEA;CACC,uCAAuC;IACpC,eAAe;CAClB,2BAA2B;AAC5B;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,wBAAwB;AACzB;AACA;CACC,wBAAwB;AACzB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;;AAGA,oCAAoC;AACpC;CACC,wBAAwB;AACzB;AACA;CACC,wBAAwB;AACzB;;AAEA;IACI,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,cAAc;AAClB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,iBAAiB;IACd,eAAe;AACnB;;AAEA;CACC,wBAAwB;AACzB;;;AAGA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,YAAY;CACZ,iBAAiB;AAClB;;AAEA;CACC,YAAY;CACZ,iBAAiB;CACjB,aAAa;AACd;;AAEA;CACC,WAAW;CACX,cAAc;AACf;;AAEA;CACC,YAAY;CACZ,cAAc;AACf;;AAEA;CACC,kBAAkB;AACnB;;AAEA;CACC,kBAAkB;CAClB,SAAS;CACT,QAAQ;CACR,oBAAoB;CACpB,YAAY;AACb;;AAEA;CACC,UAAU;AACX;;AAEA;CACC,kBAAkB;CAClB,SAAS;CACT,QAAQ;CACR,WAAW;CACX,YAAY;CACZ,aAAa;CACb,mBAAmB;AACpB;;AAEA;CACC,YAAY;CACZ,iDAAiD;CACjD,YAAY;CACZ,oBAAoB;AACrB;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,cAAc;CACd,WAAW;CACX,oCAAoC;CACpC,YAAY;CACZ,kBAAkB;CAClB,WAAW;CACX,YAAY;AACb;;AAEA;CACC,cAAc;CACd,6CAA6C;CAC7C,8CAA8C;CAC9C,kBAAkB;CAClB,iDAAiD;CACjD,mBAAmB;CACnB,UAAU;AACX;;AAEA;CACC,iDAAiD;CACjD,gBAAgB;CAChB,iBAAiB;CACjB,gDAAgD;CAChD,cAAc;CACd,oBAAoB;AACrB;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC,gBAAgB;CAChB,YAAY;CACZ,aAAa;CACb,uBAAuB;CACvB,mBAAmB;AACpB;;;AAGA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC;EACC,YAAY;EACZ,oBAAoB;CACrB;AACD;;AAEA;CACC,oBAAoB;CACpB,eAAe;CACf,iBAAiB;CACjB,cAAc;CACd,YAAY;CACZ,2BAA2B;CAC3B,kBAAkB;CAClB,SAAS;CACT,UAAU;AACX;;AAEA;CACC;EACC,yCAAyC;CAC1C;AACD;;AAEA;;CAEC;EACC,iCAAiC;CAClC;;CAEA;EACC,qCAAqC;CACtC;;CAEA;EACC,qCAAqC;CACtC;;CAEA;EACC,mCAAmC;CACpC;;CAEA;EACC,qCAAqC;CACtC;;CAEA;EACC,mCAAmC;CACpC;;CAEA;EACC,iCAAiC;CAClC;;CAEA;EACC,0CAA0C;CAC3C;AACD",sourcesContent:["\n.player-container {\n\tcontainer-type: inline-size;\n\tcontainer-name: player-container;\n}\n\n.playback-bar {\n\tposition: absolute;\n\tbottom: 0px;\n\twidth: var(--playback-bar-width);\n\tmin-height: var(--playback-bar-height);\n\tleft: calc((100% - var(--playback-bar-width)) / 2);\n\tright: calc((100% - var(--playback-bar-width)) / 2);\n\tbackground: var(--secondary-bg-color);\n\tbackground: var(--main-bg-gradient);\n\tz-index: 100;\n\tcontainer-type: inline-size;\n\tcontainer-name: playback-bar;\n}\n\n.playback-bar.inline-mode {\n\tdisplay: flex;\n\talign-items: center;\n  \tuser-select: none;\n}\n\n.playback-bar:hover {\n\tbackground: var(--secondary-bg-color-hover);\n}\n\n.progress-indicator {\n\twidth: 98%;\n\tmargin-left: 1%;\n\theight: var(--progress-indicator-height);\n}\n\n.progress-indicator.inline-mode {\n\tflex: 1;\n}\n\n.progress-indicator-timer {\n\tposition: absolute;\n\ttop:1px;\n\tcolor: var(--main-fg-color);\n\tfont-size: 10px;\n\tline-height: 11px;\n\tpadding-left: 11px;\n\tpointer-events: none;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 1;\n}\n\n.progress-indicator-timer.left-side {\n\tleft: 0px;\n}\n\n.progress-indicator-timer.right-side {\n\tright: 0px;\n}\n\n.playback-bar .button-plugins {\n\theight: var(--button-fixed-height);\n}\n\n.playback-bar .button-plugins.left-side {\n\tfloat: left;\n}\n\n.playback-bar .button-plugins.right-side {\n\tfloat: right;\n}\n\n.playback-bar .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.playback-bar .button-plugins .button-plugin-container button {\n\theight: var(--button-fixed-height);\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n\talign-items: center;\n\talign-items: center;\n    justify-content: center;\n}\n\n.playback-bar .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.playback-bar .button-plugins .button-plugin-container button.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.playback-bar .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.playback-bar .button-plugins button:active {\n\tbackground-color: var(--secondary-bg-color-hover);\n}\n\n.playback-bar .button-plugins button.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.playback-bar .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: var(--button-icon-size);\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n/* non-interactive buttons **/\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\theight: var(--button-fixed-height);\n\tbackground: none;\n\tborder: none;\n\tfloat: left;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n    align-items: center;\n    justify-content: center;\n\tpointer-events: none;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.playback-bar .button-plugins div.non-interactive i {\n\tbackground-size: 50% 50%;\n\twidth: var(--button-icon-size);\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n.playback-bar .button-plugins div.non-interactive span {\n\tdisplay: block;\n\ttext-align: center;\n\tmargin-top: -23px;\n}\n\n.playback-bar .button-plugins div.no-icon span {\n\tline-height: var(--button-fixed-height);\n    margin-top: 0px;\n\tcolor: var(--main-fg-color);\n}\n\n.playback-bar .button-plugins div.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\tpadding: 2px 6px 3px 6px;\n}\n.video-container .button-plugins .button-plugin-container div.non-interactive {\n\tpadding: 2px 6px 3px 6px;\n}\n\n.playback-bar .button-plugins div.non-interactive i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n\n/* Fix default iPad button padding */\n.playback-bar .button-plugins .button-plugin-container button {\n\tpadding: 0px 6px 0px 6px;\n}\n.video-container .button-plugins .button-plugin-container button {\n\tpadding: 0px 6px 0px 6px;\n}\n\n.button-plugins span.button-title {\n    display: block;\n}\n\n.button-plugins span.button-title.button-title-small {\n\tmargin-top: -13px;\n    font-size: 8px;\n}\n\n.button-plugins span.button-title.button-title-medium {\n\tmargin-top: -14px;\n    font-size: 10px;\n}\n\n.button-plugins span.button-title.button-title-large {\n\tmargin-top: -16px;\n    font-size: 12px;\n}\n\n.button-plugins span.button-title:empty {\n\tmargin-top: 0 !important;\n}\n\n\n.playback-bar .button-plugins button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.playback-bar .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}\n\n.playback-bar .timer-container {\n\theight: 40px;\n\tline-height: 40px;\n\tdisplay: none;\n}\n\n.playback-bar .timer-container.left-side {\n\tfloat: left;\n\tdisplay: block;\n}\n\n.playback-bar .timer-container.right-side {\n\tfloat: right;\n\tdisplay: block;\n}\n\n.progress-indicator {\n\tposition: relative;\n}\n\n.progress-indicator canvas {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\tpointer-events: none;\n\topacity: 0.5;\n}\n\n.playback-bar:hover .progress-indicator canvas {\n\topacity: 1;\n}\n\n.progress-indicator .progress-indicator-container {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.progress-indicator-container .progress-indicator-content {\n\theight: 10px;\n\tbackground-color: var(--highlight-bg-color-hover);\n\topacity: 0.8;\n\tpointer-events: none;\n}\n\n.playback-bar:hover .progress-indicator-container .progress-indicator-content {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.progress-indicator-remaining {\n\tdisplay: block;\n\twidth: 100%;\n\tbackground-color: rgb(139, 139, 139);\n\theight: 10px;\n\tposition: absolute;\n\tz-index: -1;\n\topacity: 0.4;\n}\n\n.progress-indicator-handler {\n\tdisplay: block;\n\twidth: var(--progress-indicator-handler-size);\n\theight: var(--progress-indicator-handler-size);\n\tmargin-left: -10px;\n\tbackground-color: var(--highlight-bg-color-hover);\n\tborder-radius: 10px;\n\tz-index: 1;\n}\n\n.frame-thumbnail {\n\tbackground-color: var(--secondary-bg-color-hover);\n\tmin-width: 100px;\n\tmin-height: 100px;\n\tbox-shadow: 0px 0px 5px 0px var(--main-bg-color);\n\tz-index: 10000;\n\tpointer-events: none;\n}\n\n.frame-thumbnail .thumbnail-image {\n\tpointer-events: none;\n}\n\n.timer-container .progress-indicator-timer {\n\tposition: static;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n\n@media (max-width: 500px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 130px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (max-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 230px;\n\t\tpointer-events: none;\n\t}\n}\n\n@media (min-width: 750px) {\n\t.frame-thumbnail .thumbnail-image {\n\t\twidth: 330px;\n\t\tpointer-events: none;\n\t}\n}\n\n.frame-thumbnail .thumbnail-time {\n\tpointer-events: none;\n\tfont-size: 12px;\n\tline-height: 12px;\n\tdisplay: block;\n\theight: 12px;\n\tcolor: var(--main-fg-color);\n\ttext-align: center;\n\tmargin: 0;\n\tpadding: 1;\n}\n\n@container player-container (max-width: 700px) {\n\t.playback-bar {\n\t\tmin-height: var(--playback-bar-height-sm);\n\t}\n}\n\n@container playback-bar (max-width: 700px) {\n\n\t.playback-bar .button-plugins button i {\n\t\twidth: var(--button-icon-size-sm);\n\t}\n\n\t.playback-bar .button-plugins {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container button {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container button.fixed-width {\n\t\twidth: var(--button-fixed-width-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container div.non-interactive {\n\t\theight: var(--button-fixed-height-sm);\n\t}\n\n\t.playback-bar .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\t\twidth: var(--button-fixed-width-sm);\n\t}\n\n\t.playback-bar .button-plugins div.non-interactive i {\n\t\twidth: var(--button-icon-size-sm);\n\t}\n\n\t.playback-bar .button-plugins div.no-icon span {\n\t\tline-height: var(--button-fixed-height-sm);\n\t}\n}"],sourceRoot:""}]);const s=a},9485:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,":root {\n\t--popup-resizeable-border: 10px;\n\t--popup-title-bar-size: 20px;\n\t--popup-title-bar-color: var(--highlight-bg-color);\n\t--popup-dock-button-size: 15px;\n}\n\n.popup-container {\n\tz-index: 1000;\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 100vh;\n\twidth: 100vw;\n}\n\n.popup-container.no-modal {\n\tpointer-events: none;\n}\n\n.popup-content {\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color);\n\tcolor: var(--main-fg-color);\n\tbox-shadow: 0px 0px 4px 0px var(--main-bg-color);\n\tborder-radius: 3px;\n\tpadding: 5px 5px 5px 5px;\n\tforced-color-adjust: none;\n\toverflow: auto;\n\tdisplay: table;\n}\n\n.popup-content.static-position {\n\tbox-sizing: border-box;\n\tuser-select: none;\n\tposition: absolute;\n\toverflow: hidden;\n\tdisplay: block;\n}\n\n.popup-content.moveable {\n\tpadding: 0px;\n\tcursor: col-resize;\n\tmin-width: 180px;\n\tmin-height: 100px;\n}\n\n.popup-container.no-modal .popup-content {\n\tpointer-events: all;\n}\n\n.popup-content.resizeable .border-top-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: nw-resize;\n\tfloat: left;\n}\n\n.popup-content.resizeable .border-top-center {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\theight: var(--popup-resizeable-border);\n\tcursor: row-resize;\n\tfloat: left;\n}\n\n.popup-content.resizeable .border-top-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: ne-resize;\n\tfloat: left;\n}\n\n.popup-content .title-bar {\n\tfont-family: arial, sans-serif;\n\ttext-align: center;\n\tuser-select: none;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n}\n\n.popup-content.moveable .title-bar {\n\tmin-height: max(var(--popup-title-bar-size), calc(var(--popup-dock-button-size) + 11px));\n\tbackground-color: var(--popup-title-bar-color);\n\tcursor: move;\n\tposition: relative;\n\tdisplay: flex;\n    flex-wrap: wrap;\n    align-content: center;\n    justify-content: center;\n}\n\n.popup-content.fixed .title-bar.not-empty {\n\tpadding: 5px;\n\tborder-bottom: 1px solid var(--main-fg-color);\n}\n\n.popup-content.moveable .title-bar .title-bar-content {\n\tpadding-left: calc(var(--popup-dock-button-size) * 2);\n\tpadding-right: calc(var(--popup-dock-button-size) * 2);\n}\n\n.popup-content.moveable.resizeable .title-bar {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\tmargin-left: var(--popup-resizeable-border);\n\tmargin-right: var(--popup-resizeable-border);\n}\n\n.popup-content .popup-action-buttons {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 3px;\n\tdisplay: flex;\n}\n\n.popup-content button.popup-action-button {\n\tdisplay: none;\n\tbackground-color: transparent;\n    border: 1px solid var(--main-fg-color);\n\tborder-radius: 7px;\n\tcursor: pointer;\n\tmargin-right: 2px;\n}\n\n.popup-content button.popup-action-button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.popup-content button.popup-action-button i {\n\twidth: var(--popup-dock-button-size);\n\theight: var(--popup-dock-button-size);\n\tdisplay: block;\n\tcolor: var(--main-fg-color);\n\tfill: var(--main-fg-color);\n}\n\n.popup-content .center-container {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\tmargin-left: var(--popup-resizeable-border);\n\tmargin-right: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .center-container {\n\theight: calc(100% - var(--popup-resizeable-border) * 2 - var(--popup-title-bar-size));\n\toverflow: auto;\n}\n\n/* Begin properties for static position pop up: */\n.popup-content.static-position button.popup-action-button {\n\tdisplay: inline-block;\n}\n\n.popup-content.static-position .separator-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .separator-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: sw-resize;\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-center {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\theight: var(--popup-resizeable-border);\n\tcursor: row-resize;\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: se-resize;\n\tfloat: left;\n}\n","",{version:3,sources:["webpack://./src/css/PopUp.css"],names:[],mappings:"AAAA;CACC,+BAA+B;CAC/B,4BAA4B;CAC5B,kDAAkD;CAClD,8BAA8B;AAC/B;;AAEA;CACC,aAAa;CACb,kBAAkB;CAClB,QAAQ;CACR,SAAS;CACT,aAAa;CACb,YAAY;AACb;;AAEA;CACC,oBAAoB;AACrB;;AAEA;CACC,kBAAkB;CAClB,sCAAsC;CACtC,2BAA2B;CAC3B,gDAAgD;CAChD,kBAAkB;CAClB,wBAAwB;CACxB,yBAAyB;CACzB,cAAc;CACd,cAAc;AACf;;AAEA;CACC,sBAAsB;CACtB,iBAAiB;CACjB,kBAAkB;CAClB,gBAAgB;CAChB,cAAc;AACf;;AAEA;CACC,YAAY;CACZ,kBAAkB;CAClB,gBAAgB;CAChB,iBAAiB;AAClB;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,iBAAiB;CACjB,WAAW;AACZ;;AAEA;CACC,sDAAsD;CACtD,sCAAsC;CACtC,kBAAkB;CAClB,WAAW;AACZ;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,iBAAiB;CACjB,WAAW;AACZ;;AAEA;CACC,8BAA8B;CAC9B,kBAAkB;CAClB,iBAAiB;CACjB,sBAAsB;CACtB,gBAAgB;AACjB;;AAEA;CACC,wFAAwF;CACxF,8CAA8C;CAC9C,YAAY;CACZ,kBAAkB;CAClB,aAAa;IACV,eAAe;IACf,qBAAqB;IACrB,uBAAuB;AAC3B;;AAEA;CACC,YAAY;CACZ,6CAA6C;AAC9C;;AAEA;CACC,qDAAqD;CACrD,sDAAsD;AACvD;;AAEA;CACC,sDAAsD;CACtD,2CAA2C;CAC3C,4CAA4C;AAC7C;;AAEA;CACC,kBAAkB;CAClB,QAAQ;CACR,UAAU;CACV,aAAa;AACd;;AAEA;CACC,aAAa;CACb,6BAA6B;IAC1B,sCAAsC;CACzC,kBAAkB;CAClB,eAAe;CACf,iBAAiB;AAClB;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,oCAAoC;CACpC,qCAAqC;CACrC,cAAc;CACd,2BAA2B;CAC3B,0BAA0B;AAC3B;;AAEA;CACC,sDAAsD;CACtD,2CAA2C;CAC3C,4CAA4C;CAC5C,WAAW;AACZ;;AAEA;CACC,qFAAqF;CACrF,cAAc;AACf;;AAEA,iDAAiD;AACjD;CACC,qBAAqB;AACtB;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,WAAW;AACZ;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,WAAW;AACZ;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,iBAAiB;CACjB,WAAW;AACZ;;AAEA;CACC,sDAAsD;CACtD,sCAAsC;CACtC,kBAAkB;CAClB,WAAW;AACZ;;AAEA;CACC,qCAAqC;CACrC,sCAAsC;CACtC,iBAAiB;CACjB,WAAW;AACZ",sourcesContent:[":root {\n\t--popup-resizeable-border: 10px;\n\t--popup-title-bar-size: 20px;\n\t--popup-title-bar-color: var(--highlight-bg-color);\n\t--popup-dock-button-size: 15px;\n}\n\n.popup-container {\n\tz-index: 1000;\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\theight: 100vh;\n\twidth: 100vw;\n}\n\n.popup-container.no-modal {\n\tpointer-events: none;\n}\n\n.popup-content {\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color);\n\tcolor: var(--main-fg-color);\n\tbox-shadow: 0px 0px 4px 0px var(--main-bg-color);\n\tborder-radius: 3px;\n\tpadding: 5px 5px 5px 5px;\n\tforced-color-adjust: none;\n\toverflow: auto;\n\tdisplay: table;\n}\n\n.popup-content.static-position {\n\tbox-sizing: border-box;\n\tuser-select: none;\n\tposition: absolute;\n\toverflow: hidden;\n\tdisplay: block;\n}\n\n.popup-content.moveable {\n\tpadding: 0px;\n\tcursor: col-resize;\n\tmin-width: 180px;\n\tmin-height: 100px;\n}\n\n.popup-container.no-modal .popup-content {\n\tpointer-events: all;\n}\n\n.popup-content.resizeable .border-top-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: nw-resize;\n\tfloat: left;\n}\n\n.popup-content.resizeable .border-top-center {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\theight: var(--popup-resizeable-border);\n\tcursor: row-resize;\n\tfloat: left;\n}\n\n.popup-content.resizeable .border-top-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: ne-resize;\n\tfloat: left;\n}\n\n.popup-content .title-bar {\n\tfont-family: arial, sans-serif;\n\ttext-align: center;\n\tuser-select: none;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n}\n\n.popup-content.moveable .title-bar {\n\tmin-height: max(var(--popup-title-bar-size), calc(var(--popup-dock-button-size) + 11px));\n\tbackground-color: var(--popup-title-bar-color);\n\tcursor: move;\n\tposition: relative;\n\tdisplay: flex;\n    flex-wrap: wrap;\n    align-content: center;\n    justify-content: center;\n}\n\n.popup-content.fixed .title-bar.not-empty {\n\tpadding: 5px;\n\tborder-bottom: 1px solid var(--main-fg-color);\n}\n\n.popup-content.moveable .title-bar .title-bar-content {\n\tpadding-left: calc(var(--popup-dock-button-size) * 2);\n\tpadding-right: calc(var(--popup-dock-button-size) * 2);\n}\n\n.popup-content.moveable.resizeable .title-bar {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\tmargin-left: var(--popup-resizeable-border);\n\tmargin-right: var(--popup-resizeable-border);\n}\n\n.popup-content .popup-action-buttons {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 3px;\n\tdisplay: flex;\n}\n\n.popup-content button.popup-action-button {\n\tdisplay: none;\n\tbackground-color: transparent;\n    border: 1px solid var(--main-fg-color);\n\tborder-radius: 7px;\n\tcursor: pointer;\n\tmargin-right: 2px;\n}\n\n.popup-content button.popup-action-button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.popup-content button.popup-action-button i {\n\twidth: var(--popup-dock-button-size);\n\theight: var(--popup-dock-button-size);\n\tdisplay: block;\n\tcolor: var(--main-fg-color);\n\tfill: var(--main-fg-color);\n}\n\n.popup-content .center-container {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\tmargin-left: var(--popup-resizeable-border);\n\tmargin-right: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .center-container {\n\theight: calc(100% - var(--popup-resizeable-border) * 2 - var(--popup-title-bar-size));\n\toverflow: auto;\n}\n\n/* Begin properties for static position pop up: */\n.popup-content.static-position button.popup-action-button {\n\tdisplay: inline-block;\n}\n\n.popup-content.static-position .separator-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .separator-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-left {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: sw-resize;\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-center {\n\twidth: calc(100% - var(--popup-resizeable-border) * 2);\n\theight: var(--popup-resizeable-border);\n\tcursor: row-resize;\n\tfloat: left;\n}\n\n.popup-content.static-position .border-bottom-right {\n\twidth: var(--popup-resizeable-border);\n\theight: var(--popup-resizeable-border);\n\tcursor: se-resize;\n\tfloat: left;\n}\n"],sourceRoot:""}]);const s=a},3274:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,".preview-container {\n    background-color: var(--preview-container-background-color);\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n}\n","",{version:3,sources:["webpack://./src/css/PreviewContainer.css"],names:[],mappings:"AAAA;IACI,2DAA2D;IAC3D,WAAW;IACX,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,eAAe;IACf,kBAAkB;IAClB,QAAQ;IACR,2BAA2B;AAC/B",sourcesContent:[".preview-container {\n    background-color: var(--preview-container-background-color);\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n}\n"],sourceRoot:""}]);const s=a},6570:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,".timeline-popup-content {\n    display: block;\n    background-color: var(--main-bg-color);\n    padding-top: 10px;\n    padding-bottom: 10px;\n    position: absolute;\n    border-radius: 4px;\n    left: 2px;\n    right: 2px;\n    bottom: 52px;\n    color: var(--main-fg-color);\n    border-top: 1px solid var(--main-border-color);\n    z-index: 100;\n}\n","",{version:3,sources:["webpack://./src/css/TimeLinePopUp.css"],names:[],mappings:"AAAA;IACI,cAAc;IACd,sCAAsC;IACtC,iBAAiB;IACjB,oBAAoB;IACpB,kBAAkB;IAClB,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,YAAY;IACZ,2BAA2B;IAC3B,8CAA8C;IAC9C,YAAY;AAChB",sourcesContent:[".timeline-popup-content {\n    display: block;\n    background-color: var(--main-bg-color);\n    padding-top: 10px;\n    padding-bottom: 10px;\n    position: absolute;\n    border-radius: 4px;\n    left: 2px;\n    right: 2px;\n    bottom: 52px;\n    color: var(--main-fg-color);\n    border-top: 1px solid var(--main-border-color);\n    z-index: 100;\n}\n"],sourceRoot:""}]);const s=a},8958:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,"\n.video-canvas .button-area {\n    position: absolute;\n    top: 5px;\n    left: 0px;\n    right: 0px;\n    pointer-events: none;\n    text-align: center;\n    z-index: 1;\n    container-type: size;\n    container-name: button-area;\n}\n\n\n.video-canvas .button-area button {\n    pointer-events: all;\n    margin: 2px;\n    width: 40px;\n    opacity: 0.8;\n    background-color: var(--main-bg-color);\n    border: none;\n    border-radius: 5px;\n    opacity: 0.3;\n}\n\n.video-canvas:hover .button-area button {\n    opacity: 1;\n}\n\n.video-canvas .button-area button:hover {\n    background-color: var(--highlight-bg-color-hover);\n}\n\n.video-canvas .button-area button i svg {\n    width: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n    color: var(--main-fg-color);\n}\n\n.video-canvas .button-area button:hover {\n    opacity: 1;\n}\n\n.video-canvas .button-area button.align-left {\n    float: left;\n}\n\n.video-canvas .button-area button.align-right {\n    float: right;\n}\n\n.video-canvas .button-area {\n    padding: 5px;\n}\n\n.video-canvas.image-canvas .image-container {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    align-content: center;\n    justify-content: center;\n}\n.video-canvas.image-canvas img.landscape {\n    height: 100%;\n}\n\n.video-canvas.image-canvas img.portrait {\n    width: 100%;\n}\n\n\n@container button-area (max-width: 200px) {\n    .video-canvas .button-area button {\n        width: 25cqi;\n    }\n}\n\n@container button-area (min-width: 200px) and (max-width: 350px) {\n    .video-canvas .button-area button {\n        width: 45px;\n    }\n}\n\n@container button-area (min-width: 350px) {\n    .video-canvas .button-area button {\n        width: 55px;\n    }\n}\n\n\n\n  ","",{version:3,sources:["webpack://./src/css/VideoCanvas.css"],names:[],mappings:";AACA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,oBAAoB;IACpB,kBAAkB;IAClB,UAAU;IACV,oBAAoB;IACpB,2BAA2B;AAC/B;;;AAGA;IACI,mBAAmB;IACnB,WAAW;IACX,WAAW;IACX,YAAY;IACZ,sCAAsC;IACtC,YAAY;IACZ,kBAAkB;IAClB,YAAY;AAChB;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,iDAAiD;AACrD;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,0BAA0B;IAC1B,2BAA2B;AAC/B;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,qBAAqB;IACrB,uBAAuB;AAC3B;AACA;IACI,YAAY;AAChB;;AAEA;IACI,WAAW;AACf;;;AAGA;IACI;QACI,YAAY;IAChB;AACJ;;AAEA;IACI;QACI,WAAW;IACf;AACJ;;AAEA;IACI;QACI,WAAW;IACf;AACJ",sourcesContent:["\n.video-canvas .button-area {\n    position: absolute;\n    top: 5px;\n    left: 0px;\n    right: 0px;\n    pointer-events: none;\n    text-align: center;\n    z-index: 1;\n    container-type: size;\n    container-name: button-area;\n}\n\n\n.video-canvas .button-area button {\n    pointer-events: all;\n    margin: 2px;\n    width: 40px;\n    opacity: 0.8;\n    background-color: var(--main-bg-color);\n    border: none;\n    border-radius: 5px;\n    opacity: 0.3;\n}\n\n.video-canvas:hover .button-area button {\n    opacity: 1;\n}\n\n.video-canvas .button-area button:hover {\n    background-color: var(--highlight-bg-color-hover);\n}\n\n.video-canvas .button-area button i svg {\n    width: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n    color: var(--main-fg-color);\n}\n\n.video-canvas .button-area button:hover {\n    opacity: 1;\n}\n\n.video-canvas .button-area button.align-left {\n    float: left;\n}\n\n.video-canvas .button-area button.align-right {\n    float: right;\n}\n\n.video-canvas .button-area {\n    padding: 5px;\n}\n\n.video-canvas.image-canvas .image-container {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    align-content: center;\n    justify-content: center;\n}\n.video-canvas.image-canvas img.landscape {\n    height: 100%;\n}\n\n.video-canvas.image-canvas img.portrait {\n    width: 100%;\n}\n\n\n@container button-area (max-width: 200px) {\n    .video-canvas .button-area button {\n        width: 25cqi;\n    }\n}\n\n@container button-area (min-width: 200px) and (max-width: 350px) {\n    .video-canvas .button-area button {\n        width: 45px;\n    }\n}\n\n@container button-area (min-width: 350px) {\n    .video-canvas .button-area button {\n        width: 55px;\n    }\n}\n\n\n\n  "],sourceRoot:""}]);const s=a},5609:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,"\n:root {\n\t--video-container-padding: 0px;\n\t--video-container-gap: 10px;\n}\n\n.video-container {\n    background-color: var(--video-container-background-color);\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n\n\n.video-container.over-playback-bar {\n\theight: calc(100% - var(--playback-bar-height) - 30px);\n\ttop: 0px;\n\ttransform: none;\n}\n\n.base-video-rect {\n    background-color: var(--base-video-rect-background-color);\n    position: relative;\n}\n\n.base-video-rect.dynamic {\n\tdisplay: flex;\n\tbackground-color: transparent;\n\tgap: var(--video-container-gap);\n\tpadding: var(--video-container-padding);\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.base-video-rect.dynamic.portrait {\n\tflex-wrap: wrap;\n\talign-items: center;\n    justify-content: center;\n}\n\n.base-video-rect.dynamic.landscape {\n\tjustify-content: space-around;\n}\n\n.base-video-rect.dynamic {\n\talign-items: center;\n}\n\n.base-video-rect.dynamic.portrait.align-left {\n\tjustify-content: start;\n}\n\n.base-video-rect.dynamic.portrait.align-right {\n\tjustify-content: right;\n}\n\n.base-video-rect.dynamic .landscape-container {\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: space-around;\n}\n\n.base-video-rect.dynamic.align-bottom .landscape-container {\n\talign-items: flex-end;\n}\n\n.base-video-rect.dynamic.align-top .landscape-container {\n\talign-items: flex-start;\n}\n\n.base-video-rect.dynamic.align-center .landscape-container {\n\talign-items: center;\n}\n\n.video-container .button-plugins {\n    position: absolute;\n    top: 10px;\n    height: 40px;\n\tz-index: 100;\n}\n\n.video-container .button-plugins.left-side {\n    left: 10px;\n}\n\n.video-container .button-plugins.right-side {\n    right: 10px;\n}\n\n.video-container .user-area {\n\tposition: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    pointer-events: none;\n}\n\n.video-container .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.video-container .button-plugins .button-plugin-container button {\n\theight: var(--button-fixed-height);\n\tdisplay: block;\n\tbackground-color: var(--main-bg-color);\n    border-radius: 6px;\n\tborder: none;\n\tfloat: left;\n\tmargin-left: 2px;\n    margin-right: 2px;\n}\n\n.video-container .button-plugins .button-plugin-container button.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.video-container .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins button.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.video-container .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-container .button-plugins button:active {\n\tbackground-color: var(--main-bg-color-hover);\n}\n\n.video-container .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n.video-container .button-plugins button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n\n\n/* non-interactive buttons */\n.video-container .button-plugins .button-plugin-container div.non-interactive {\n\theight: var(--button-fixed-height);\n\tbackground-color: transparent;\n    border-radius: 6px;\n\tborder: none;\n\tfloat: left;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n    align-items: center;\n    justify-content: center;\n\tpointer-events: none;\n}\n\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.video-container .button-plugins div i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n.video-container .button-plugins div i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins div.non-interactive span {\n\tdisplay: block;\n\ttext-align: center;\n}\n\n.video-container .button-plugins div.no-icon span {\n\tline-height: var(--button-fixed-height);\n    margin-top: 0px;\n\tcolor: var(--main-fg-color);\n}\n\n.video-container .button-plugins div.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.video-container .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}\n\n.video-container .landscape-container {\n\tgap: 7px;\n}","",{version:3,sources:["webpack://./src/css/VideoContainer.css"],names:[],mappings:";AACA;CACC,8BAA8B;CAC9B,2BAA2B;AAC5B;;AAEA;IACI,yDAAyD;IACzD,WAAW;IACX,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,uBAAuB;CAC1B,kBAAkB;CAClB,QAAQ;CACR,2BAA2B;AAC5B;;;AAGA;CACC,sDAAsD;CACtD,QAAQ;CACR,eAAe;AAChB;;AAEA;IACI,yDAAyD;IACzD,kBAAkB;AACtB;;AAEA;CACC,aAAa;CACb,6BAA6B;CAC7B,+BAA+B;CAC/B,uCAAuC;CACvC,sBAAsB;CACtB,WAAW;CACX,YAAY;AACb;;AAEA;CACC,eAAe;CACf,mBAAmB;IAChB,uBAAuB;AAC3B;;AAEA;CACC,6BAA6B;AAC9B;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,sBAAsB;AACvB;;AAEA;CACC,sBAAsB;AACvB;;AAEA;CACC,aAAa;CACb,WAAW;CACX,6BAA6B;AAC9B;;AAEA;CACC,qBAAqB;AACtB;;AAEA;CACC,uBAAuB;AACxB;;AAEA;CACC,mBAAmB;AACpB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,YAAY;CACf,YAAY;AACb;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,WAAW;AACf;;AAEA;CACC,kBAAkB;IACf,WAAW;IACX,YAAY;IACZ,QAAQ;IACR,SAAS;IACT,oBAAoB;AACxB;;AAEA;CACC,eAAe;AAChB;;AAEA;CACC,kCAAkC;CAClC,cAAc;CACd,sCAAsC;IACnC,kBAAkB;CACrB,YAAY;CACZ,WAAW;CACX,gBAAgB;IACb,iBAAiB;AACrB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,4CAA4C;AAC7C;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,gBAAgB;AACjB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;;;AAIA,4BAA4B;AAC5B;CACC,kCAAkC;CAClC,6BAA6B;IAC1B,kBAAkB;CACrB,YAAY;CACZ,WAAW;CACX,sBAAsB;CACtB,aAAa;IACV,mBAAmB;IACnB,uBAAuB;CAC1B,oBAAoB;AACrB;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,gCAAgC;AACjC;;AAEA;CACC,wBAAwB;CACxB,WAAW;CACX,cAAc;CACd,4BAA4B;CAC5B,4BAA4B;CAC5B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,WAAW;IACR,YAAY;IACZ,0BAA0B;CAC7B,2BAA2B;AAC5B;;AAEA;CACC,aAAa;IACV,2BAA2B;IAC3B,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;CACC,cAAc;CACd,kBAAkB;AACnB;;AAEA;CACC,uCAAuC;IACpC,eAAe;CAClB,2BAA2B;AAC5B;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,iBAAiB;CACjB,kBAAkB;AACnB;;AAEA;CACC,eAAe;CACf,2BAA2B;CAC3B,YAAY;CACZ,iBAAiB;AAClB;;AAEA;CACC,QAAQ;AACT",sourcesContent:["\n:root {\n\t--video-container-padding: 0px;\n\t--video-container-gap: 10px;\n}\n\n.video-container {\n    background-color: var(--video-container-background-color);\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n\n\n.video-container.over-playback-bar {\n\theight: calc(100% - var(--playback-bar-height) - 30px);\n\ttop: 0px;\n\ttransform: none;\n}\n\n.base-video-rect {\n    background-color: var(--base-video-rect-background-color);\n    position: relative;\n}\n\n.base-video-rect.dynamic {\n\tdisplay: flex;\n\tbackground-color: transparent;\n\tgap: var(--video-container-gap);\n\tpadding: var(--video-container-padding);\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.base-video-rect.dynamic.portrait {\n\tflex-wrap: wrap;\n\talign-items: center;\n    justify-content: center;\n}\n\n.base-video-rect.dynamic.landscape {\n\tjustify-content: space-around;\n}\n\n.base-video-rect.dynamic {\n\talign-items: center;\n}\n\n.base-video-rect.dynamic.portrait.align-left {\n\tjustify-content: start;\n}\n\n.base-video-rect.dynamic.portrait.align-right {\n\tjustify-content: right;\n}\n\n.base-video-rect.dynamic .landscape-container {\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: space-around;\n}\n\n.base-video-rect.dynamic.align-bottom .landscape-container {\n\talign-items: flex-end;\n}\n\n.base-video-rect.dynamic.align-top .landscape-container {\n\talign-items: flex-start;\n}\n\n.base-video-rect.dynamic.align-center .landscape-container {\n\talign-items: center;\n}\n\n.video-container .button-plugins {\n    position: absolute;\n    top: 10px;\n    height: 40px;\n\tz-index: 100;\n}\n\n.video-container .button-plugins.left-side {\n    left: 10px;\n}\n\n.video-container .button-plugins.right-side {\n    right: 10px;\n}\n\n.video-container .user-area {\n\tposition: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    pointer-events: none;\n}\n\n.video-container .button-plugins .button-plugin-container {\n\tdisplay: inline;\n}\n\n.video-container .button-plugins .button-plugin-container button {\n\theight: var(--button-fixed-height);\n\tdisplay: block;\n\tbackground-color: var(--main-bg-color);\n    border-radius: 6px;\n\tborder: none;\n\tfloat: left;\n\tmargin-left: 2px;\n    margin-right: 2px;\n}\n\n.video-container .button-plugins .button-plugin-container button.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.video-container .button-plugins .button-plugin-container button.dynamic-width div.interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins button.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.video-container .button-plugins button:hover {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-container .button-plugins button:active {\n\tbackground-color: var(--main-bg-color-hover);\n}\n\n.video-container .button-plugins button i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: 5px;\n}\n\n.video-container .button-plugins button i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n\n\n/* non-interactive buttons */\n.video-container .button-plugins .button-plugin-container div.non-interactive {\n\theight: var(--button-fixed-height);\n\tbackground-color: transparent;\n    border-radius: 6px;\n\tborder: none;\n\tfloat: left;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n    align-items: center;\n    justify-content: center;\n\tpointer-events: none;\n}\n\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins .button-plugin-container div.non-interactive.fixed-width {\n\twidth: var(--button-fixed-width);\n}\n\n.video-container .button-plugins div i {\n\tbackground-size: 50% 50%;\n\twidth: 20px;\n\tdisplay: block;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 3px 7px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n.video-container .button-plugins div i svg {\n\twidth: 100%;\n    height: 100%;\n    fill: var(--main-fg-color);\n\tcolor: var(--main-fg-color);\n}\n\n.video-container .button-plugins .button-plugin-container div.dynamic-width div.non-interactive-button-content {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n}\n\n.video-container .button-plugins div.non-interactive span {\n\tdisplay: block;\n\ttext-align: center;\n}\n\n.video-container .button-plugins div.no-icon span {\n\tline-height: var(--button-fixed-height);\n    margin-top: 0px;\n\tcolor: var(--main-fg-color);\n}\n\n.video-container .button-plugins div.dynamic-width span {\n\tmargin-top: 0px;\n\tcolor: var(--main-fg-color);\n\tpadding-left: 3px;\n\tpadding-right: 3px;\n}\n\n.video-container .button-plugin-side-area {\n\tdisplay: inline;\n\tcolor: var(--main-fg-color);\n\theight: 40px;\n\tline-height: 40px;\n}\n\n.video-container .landscape-container {\n\tgap: 7px;\n}"],sourceRoot:""}]);const s=a},2672:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,":root {\n    --video-container-message-bkg: rgba(0, 0, 0, 0.4);\n    --video-container-message-color: white;\n}\n.video-container-message {\n    display: flex;\n    justify-content: space-around;\n    flex-wrap: wrap;\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    bottom: 0px;\n    right: 0px;\n    padding-top: 1%;\n    pointer-events: none;\n    container-type: size;\n    container-name: video-container-message;\n}\n\n.video-container-message .container {\n    width: 31%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    height: 30%;\n}\n\n.video-container-message .container .message-content {\n    background-color: var(--video-container-message-bkg);\n    border-radius: 5px;\n    padding-left: 10%;\n    padding-right: 10%;\n    text-align: center;\n    width: 40%;\n}\n\n.video-container-message .container .message-content .text {\n    text-shadow: 0px 0px 3px var(--video-container-message-bkg);\n    color: var(--video-container-message-color);\n    width: 100%;\n}\n\n.video-container-message .container .message-content i {\n    display: inline-block;\n    width: 90%;\n    padding-top: 10%;\n}\n\n.video-container-message .container .message-content i svg {\n    width: 100%;\n    height: 100%;\n    fill: var(--video-container-message-color);\n    color: var(--video-container-message-color);\n}\n\n@container video-container-message (max-width: 700px) {\n    .video-container-message .container .message-content .text {\n        font-size: 1.2em;\n    }\n}\n\n@container video-container-message (min-width: 700px) and (max-width: 1300px) {\n    .video-container-message .container .message-content .text {\n        font-size: 2.0em;\n    }\n}\n\n@container video-container-message (min-width: 1300px) {\n    .video-container-message .container .message-content .text {\n        font-size: 2.3em;\n    }\n}","",{version:3,sources:["webpack://./src/css/VideoContainerMessage.css"],names:[],mappings:"AAAA;IACI,iDAAiD;IACjD,sCAAsC;AAC1C;AACA;IACI,aAAa;IACb,6BAA6B;IAC7B,eAAe;IACf,kBAAkB;IAClB,SAAS;IACT,QAAQ;IACR,WAAW;IACX,UAAU;IACV,eAAe;IACf,oBAAoB;IACpB,oBAAoB;IACpB,uCAAuC;AAC3C;;AAEA;IACI,UAAU;IACV,aAAa;IACb,eAAe;IACf,uBAAuB;IACvB,mBAAmB;IACnB,WAAW;AACf;;AAEA;IACI,oDAAoD;IACpD,kBAAkB;IAClB,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;IAClB,UAAU;AACd;;AAEA;IACI,2DAA2D;IAC3D,2CAA2C;IAC3C,WAAW;AACf;;AAEA;IACI,qBAAqB;IACrB,UAAU;IACV,gBAAgB;AACpB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,0CAA0C;IAC1C,2CAA2C;AAC/C;;AAEA;IACI;QACI,gBAAgB;IACpB;AACJ;;AAEA;IACI;QACI,gBAAgB;IACpB;AACJ;;AAEA;IACI;QACI,gBAAgB;IACpB;AACJ",sourcesContent:[":root {\n    --video-container-message-bkg: rgba(0, 0, 0, 0.4);\n    --video-container-message-color: white;\n}\n.video-container-message {\n    display: flex;\n    justify-content: space-around;\n    flex-wrap: wrap;\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    bottom: 0px;\n    right: 0px;\n    padding-top: 1%;\n    pointer-events: none;\n    container-type: size;\n    container-name: video-container-message;\n}\n\n.video-container-message .container {\n    width: 31%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    height: 30%;\n}\n\n.video-container-message .container .message-content {\n    background-color: var(--video-container-message-bkg);\n    border-radius: 5px;\n    padding-left: 10%;\n    padding-right: 10%;\n    text-align: center;\n    width: 40%;\n}\n\n.video-container-message .container .message-content .text {\n    text-shadow: 0px 0px 3px var(--video-container-message-bkg);\n    color: var(--video-container-message-color);\n    width: 100%;\n}\n\n.video-container-message .container .message-content i {\n    display: inline-block;\n    width: 90%;\n    padding-top: 10%;\n}\n\n.video-container-message .container .message-content i svg {\n    width: 100%;\n    height: 100%;\n    fill: var(--video-container-message-color);\n    color: var(--video-container-message-color);\n}\n\n@container video-container-message (max-width: 700px) {\n    .video-container-message .container .message-content .text {\n        font-size: 1.2em;\n    }\n}\n\n@container video-container-message (min-width: 700px) and (max-width: 1300px) {\n    .video-container-message .container .message-content .text {\n        font-size: 2.0em;\n    }\n}\n\n@container video-container-message (min-width: 1300px) {\n    .video-container-message .container .message-content .text {\n        font-size: 2.3em;\n    }\n}"],sourceRoot:""}]);const s=a},3956:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,".video-layout-button {\n\tborder: none;\n\tborder-radius: 10%;\n\tbox-shadow: 1px 1px 5px 0px var(rgba(0,0,0,0.8));\n\tbackground-size: 100% 100%;\n\tdisplay: block;\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color-hover);\n\tborder: none;\n\tborder-radius: 5px;\n\tpadding: 0.5%;\n}\n\n.video-layout-button:hover {\n\tbackground-color: var(--highlight-bg-color);\n}\n\n.video-layout-button:active {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-player {\n\tbox-shadow: 2px 2px 4px 0px rgba(90,90,90,0.8);\n}\n\n","",{version:3,sources:["webpack://./src/css/VideoLayout.css"],names:[],mappings:"AAAA;CACC,YAAY;CACZ,kBAAkB;CAClB,gDAAgD;CAChD,0BAA0B;CAC1B,cAAc;CACd,kBAAkB;CAClB,4CAA4C;CAC5C,YAAY;CACZ,kBAAkB;CAClB,aAAa;AACd;;AAEA;CACC,2CAA2C;AAC5C;;AAEA;CACC,iDAAiD;AAClD;;AAEA;CACC,8CAA8C;AAC/C",sourcesContent:[".video-layout-button {\n\tborder: none;\n\tborder-radius: 10%;\n\tbox-shadow: 1px 1px 5px 0px var(rgba(0,0,0,0.8));\n\tbackground-size: 100% 100%;\n\tdisplay: block;\n\tposition: absolute;\n\tbackground-color: var(--main-bg-color-hover);\n\tborder: none;\n\tborder-radius: 5px;\n\tpadding: 0.5%;\n}\n\n.video-layout-button:hover {\n\tbackground-color: var(--highlight-bg-color);\n}\n\n.video-layout-button:active {\n\tbackground-color: var(--highlight-bg-color-hover);\n}\n\n.video-player {\n\tbox-shadow: 2px 2px 4px 0px rgba(90,90,90,0.8);\n}\n\n"],sourceRoot:""}]);const s=a},4608:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,".player-container {\n    position: relative;\n    overflow: hidden;\n}\n\nsvg {\n    pointer-events: none;\n}\n\nbutton:focus {\n    /*border: 3px solid var(--highlight-bg-color-hover) !important;\n    box-shadow: 0px 0px 7px 0px var(--highlight-bg-color-hover) !important;\n    */\n}\n\n.player-container button,\n.video-container .video-canvas .button-area button,\n.button-group .button-plugin-container button {\n    outline-style: none;\n}\n\n.player-container button:focus-visible,\n.video-container .video-canvas .button-area button:focus-visible,\n.button-group .button-plugin-container button:focus-visible {\n    outline-style: solid;\n    outline-color: var(--main-outline-color);\n    outline-width: 2px;\n}","",{version:3,sources:["webpack://./src/css/base.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI;;KAEC;AACL;;AAEA;;;IAGI,mBAAmB;AACvB;;AAEA;;;IAGI,oBAAoB;IACpB,wCAAwC;IACxC,kBAAkB;AACtB",sourcesContent:[".player-container {\n    position: relative;\n    overflow: hidden;\n}\n\nsvg {\n    pointer-events: none;\n}\n\nbutton:focus {\n    /*border: 3px solid var(--highlight-bg-color-hover) !important;\n    box-shadow: 0px 0px 7px 0px var(--highlight-bg-color-hover) !important;\n    */\n}\n\n.player-container button,\n.video-container .video-canvas .button-area button,\n.button-group .button-plugin-container button {\n    outline-style: none;\n}\n\n.player-container button:focus-visible,\n.video-container .video-canvas .button-area button:focus-visible,\n.button-group .button-plugin-container button:focus-visible {\n    outline-style: solid;\n    outline-color: var(--main-outline-color);\n    outline-width: 2px;\n}"],sourceRoot:""}]);const s=a},7347:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,"\n:root {\n    --main-fg-color: white;\n    --main-bg-color: rgba(0,0,0,0.8);\n    --main-bg-color-hover: rgb(0,0,0);\n    --secondary-bg-color: rgb(32,32,32);\n    --secondary-bg-color-hover: rgba(32,32,32,0.8);\n    --highlight-bg-color: #A00;\n    --highlight-bg-color-hover: red;\n    --main-bg-gradient: linear-gradient(0deg, rgba(32,32,32,1) 0%, rgba(32,32,32,0.49531687675070024) 72%, rgba(32,32,32,0.08355217086834732) 100%);\n    --main-border-color: rgba(125,125,125,0.4);\n    --video-container-background-color: #e4e4e4;\n    --preview-container-background-color: #e4e4e4;\n    --base-video-rect-background-color: #8a8a8a;\n    --main-outline-color: var(--highlight-bg-color-hover);\n}\n","",{version:3,sources:["webpack://./src/css/colors.css"],names:[],mappings:";AACA;IACI,sBAAsB;IACtB,gCAAgC;IAChC,iCAAiC;IACjC,mCAAmC;IACnC,8CAA8C;IAC9C,0BAA0B;IAC1B,+BAA+B;IAC/B,+IAA+I;IAC/I,0CAA0C;IAC1C,2CAA2C;IAC3C,6CAA6C;IAC7C,2CAA2C;IAC3C,qDAAqD;AACzD",sourcesContent:["\n:root {\n    --main-fg-color: white;\n    --main-bg-color: rgba(0,0,0,0.8);\n    --main-bg-color-hover: rgb(0,0,0);\n    --secondary-bg-color: rgb(32,32,32);\n    --secondary-bg-color-hover: rgba(32,32,32,0.8);\n    --highlight-bg-color: #A00;\n    --highlight-bg-color-hover: red;\n    --main-bg-gradient: linear-gradient(0deg, rgba(32,32,32,1) 0%, rgba(32,32,32,0.49531687675070024) 72%, rgba(32,32,32,0.08355217086834732) 100%);\n    --main-border-color: rgba(125,125,125,0.4);\n    --video-container-background-color: #e4e4e4;\n    --preview-container-background-color: #e4e4e4;\n    --base-video-rect-background-color: #8a8a8a;\n    --main-outline-color: var(--highlight-bg-color-hover);\n}\n"],sourceRoot:""}]);const s=a},7289:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([t.id,"/* Button plugins */\n:root {\n\t--button-fixed-width: 40px;\n\t--button-fixed-height: 40px;\n    --button-fixed-width-sm: 40px;\n    --button-fixed-height-sm: 40px;\n    --progress-indicator-height: 10px;\n    --playback-bar-height: calc(var(--button-fixed-height) + var(--progress-indicator-height));\n    --playback-bar-height-sm: calc(var(--button-fixed-height-sm) + var(--progress-indicator-height));\n    --button-icon-size: calc(var(--button-fixed-width) / 2);\n    --button-icon-size-sm: calc(var(--button-fixed-width-sm) / 2);\n\t--progress-indicator-handler-size: 20px;\n    --playback-bar-width: 100%;\n}","",{version:3,sources:["webpack://./src/css/sizes.css"],names:[],mappings:"AAAA,mBAAmB;AACnB;CACC,0BAA0B;CAC1B,2BAA2B;IACxB,6BAA6B;IAC7B,8BAA8B;IAC9B,iCAAiC;IACjC,0FAA0F;IAC1F,gGAAgG;IAChG,uDAAuD;IACvD,6DAA6D;CAChE,uCAAuC;IACpC,0BAA0B;AAC9B",sourcesContent:["/* Button plugins */\n:root {\n\t--button-fixed-width: 40px;\n\t--button-fixed-height: 40px;\n    --button-fixed-width-sm: 40px;\n    --button-fixed-height-sm: 40px;\n    --progress-indicator-height: 10px;\n    --playback-bar-height: calc(var(--button-fixed-height) + var(--progress-indicator-height));\n    --playback-bar-height-sm: calc(var(--button-fixed-height-sm) + var(--progress-indicator-height));\n    --button-icon-size: calc(var(--button-fixed-width) / 2);\n    --button-icon-size-sm: calc(var(--button-fixed-width-sm) / 2);\n\t--progress-indicator-handler-size: 20px;\n    --playback-bar-width: 100%;\n}"],sourceRoot:""}]);const s=a},6314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},1354:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},7452:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(null!=t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},5072:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],u=r.base?c[0]+r.base:c[0],l=i[u]||0,f="".concat(u," ").concat(l);i[u]=l+1;var h=n(f),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var d=o(p,r);r.byIndex=s,e.splice(s,0,{identifier:f,updater:d,references:1})}a.push(f)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var c=r(t,o),u=0;u<i.length;u++){var l=n(i[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=c}}},7659:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},5056:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},1113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},7783:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(0.707107,0.707107,-0.707107,0.707107,20,-8.28427)"><path d="M23,17L23,4.998C23,4.203 22.684,3.44 22.122,2.878C21.56,2.316 20.797,2 20.002,2C20.001,2 19.999,2 19.998,2C19.203,2 18.44,2.316 17.878,2.878C17.316,3.44 17,4.203 17,4.998C17,9.375 17,17 17,17L4.998,17C4.203,17 3.44,17.316 2.878,17.878C2.316,18.44 2,19.203 2,19.998C2,19.999 2,20.001 2,20.002C2,20.797 2.316,21.56 2.878,22.122C3.44,22.684 4.203,23 4.998,23C9.375,23 17,23 17,23L17,35.002C17,35.797 17.316,36.56 17.878,37.122C18.44,37.684 19.203,38 19.998,38C19.999,38 20.001,38 20.002,38C20.797,38 21.56,37.684 22.122,37.122C22.684,36.56 23,35.797 23,35.002C23,30.625 23,23 23,23L35.002,23C35.797,23 36.56,22.684 37.122,22.122C37.684,21.56 38,20.797 38,20.002C38,20.001 38,19.999 38,19.998C38,19.203 37.684,18.44 37.122,17.878C36.56,17.316 35.797,17 35.002,17C30.625,17 23,17 23,17Z"></path></g></svg>'},101:t=>{t.exports='<svg viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="Cancel" transform="matrix(5.54545,6.8353e-32,6.8353e-32,5.54545,-2567.37,-10735.5)"><path d="M486.05,1937C498.192,1937 508.05,1946.86 508.05,1959C508.05,1971.14 498.192,1981 486.05,1981C473.908,1981 464.05,1971.14 464.05,1959C464.05,1946.86 473.908,1937 486.05,1937ZM478.979,1950.52L477.565,1951.93L484.636,1959L477.565,1966.07L478.979,1967.49L486.05,1960.41L493.121,1967.49L494.535,1966.07L487.464,1959L494.535,1951.93L493.121,1950.52L486.05,1957.59L478.979,1950.52Z" style="fill:rgb(210,0,0);"></path></g></svg>'},2472:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.61211,0,0,1.19142,40.6376,-0.550686)"><path d="M38.001,14.89L16.256,14.89C15.767,14.89 15.297,15.084 14.951,15.43C14.605,15.776 14.41,16.246 14.41,16.735C14.41,21.528 14.41,33.999 14.41,33.999L5.673,33.999C3.644,33.999 2,32.355 2,30.327L2,7.673C2,5.644 3.644,4 5.673,4L34.329,4C36.358,4 38.001,5.644 38.001,7.673L38.001,14.89Z"></path></g><g transform="matrix(-1.62701,0,0,1.19712,41.1319,-0.602464)"><path d="M39.174,17.858C39.174,17.501 39.032,17.158 38.781,16.906C38.529,16.653 38.188,16.511 37.833,16.511C33.587,16.511 20.516,16.511 17.043,16.511C16.816,16.511 16.598,16.602 16.438,16.763C16.278,16.924 16.188,17.142 16.188,17.37C16.188,20.366 16.188,30.369 16.188,34.019C16.188,34.376 16.329,34.719 16.581,34.971C16.832,35.224 17.173,35.366 17.529,35.366C21.597,35.366 33.765,35.366 37.833,35.366C38.188,35.366 38.529,35.224 38.781,34.971C39.032,34.719 39.174,34.376 39.174,34.019C39.174,30.548 39.174,21.329 39.174,17.858Z"></path></g></g></svg>'},6344:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.50139,0,0,1.10483,39.8625,1.72153)"><path d="M22.034,28.802C22.58,28.752 23.089,28.64 23.626,28.496C28.793,27.112 31.864,21.792 30.48,16.625C30.189,15.54 29.715,14.525 29.088,13.619L31.915,8.722C33.663,10.535 34.942,12.776 35.606,15.251C37.748,23.248 32.996,31.48 24.999,33.622C24.011,33.887 23.04,34.063 22.034,34.123L22.034,40.015L13,31.5L22.034,23.015L22.034,28.802Z"></path></g><g transform="matrix(1.50139,1.35303e-16,1.83867e-16,-1.10483,-24.8768,44.5033)"><path d="M22.161,28.786C22.706,28.736 23.089,28.64 23.626,28.496C28.793,27.112 31.864,21.792 30.48,16.625C30.189,15.54 29.715,14.525 29.088,13.619L31.915,8.722C33.663,10.535 34.942,12.776 35.606,15.251C37.748,23.248 32.996,31.48 24.999,33.622C24.011,33.887 23.167,34.048 22.161,34.107L22.161,40L13,31.5L22.161,23L22.161,28.786Z"></path></g></g></svg>'},7950:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M18,13.029L18,26.971C18,27.509 17.786,28.025 17.406,28.406C17.025,28.786 16.509,29 15.971,29L3.029,29C2.491,29 1.975,28.786 1.594,28.406C1.214,28.025 1,27.509 1,26.971L1,13.029C1,12.491 1.214,11.975 1.594,11.594C1.975,11.214 2.491,11 3.029,11L15.971,11C16.509,11 17.025,11.214 17.406,11.594C17.786,11.975 18,12.491 18,13.029ZM39,13.029L39,26.971C39,27.509 38.786,28.025 38.406,28.406C38.025,28.786 37.509,29 36.971,29L24.029,29C23.491,29 22.975,28.786 22.594,28.406C22.214,28.025 22,27.509 22,26.971L22,13.029C22,12.491 22.214,11.975 22.594,11.594C22.975,11.214 23.491,11 24.029,11L36.971,11C37.509,11 38.025,11.214 38.406,11.594C38.786,11.975 39,12.491 39,13.029ZM21,7L21,33L19,33L19,7L21,7Z"></path></g></svg>'},6037:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(0.920758,0,0,0.920758,2.50561,1.21236)"><path d="M11.937,17.699L11.937,21.044C11.937,21.656 11.573,22.209 11.012,22.451C10.45,22.693 9.798,22.578 9.354,22.158L1.874,15.1C1.568,14.811 1.394,14.408 1.394,13.986C1.394,13.564 1.568,13.161 1.874,12.872L9.354,5.814C9.798,5.394 10.45,5.279 11.012,5.521C11.573,5.763 11.937,6.316 11.937,6.928L11.937,10.272L22.937,10.272C23.783,10.272 24.469,10.958 24.469,11.804L24.469,16.168C24.469,17.014 23.783,17.699 22.937,17.699L11.937,17.699ZM26.063,23.11L26.063,19.765C26.063,19.153 26.427,18.6 26.988,18.358C27.55,18.116 28.201,18.231 28.646,18.651L36.126,25.709C36.432,25.999 36.606,26.402 36.606,26.823C36.606,27.245 36.432,27.648 36.126,27.937L28.646,34.996C28.201,35.415 27.55,35.53 26.988,35.288C26.427,35.046 26.063,34.493 26.063,33.882L26.063,30.537L15.063,30.537C14.217,30.537 13.531,29.851 13.531,29.005L13.531,24.641C13.531,23.795 14.217,23.11 15.063,23.11L26.063,23.11Z"></path></g></svg>'},335:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><path d="M-20.625,8.591C-20.625,6.174 -17.975,4.215 -14.704,4.215L31.492,4.215C34.763,4.215 37.413,6.174 37.413,8.591L37.413,35.582C37.413,37.998 34.763,39.957 31.492,39.957L-14.704,39.957C-17.975,39.957 -20.625,37.998 -20.625,35.582L-20.625,8.591ZM1.285,12.825L8.1,7.789L-15.786,7.789L-15.786,25.442L-8.972,20.406L6.737,32.016L16.994,24.435L1.285,12.825Z"></path></g></svg>'},3877:t=>{t.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-0.620305,0,0,0.839332,25.2077,0.462208)"><g transform="matrix(-1.61211,0,0,1.25099,40.6376,0.938594)"><path d="M26,18.498C26,16.566 24.356,15 22.327,15C17.811,15 10.189,15 5.673,15C3.644,15 2,16.566 2,18.498C2,22.151 2,27.849 2,31.502C2,33.434 3.644,35 5.673,35C10.189,35 17.811,35 22.327,35C24.356,35 26,33.434 26,31.502C26,27.849 26,22.151 26,18.498Z"></path></g><path d="M-2.889,42.341L-16.002,42.341C-17.664,42.341 -19.01,41.345 -19.01,40.117L-19.01,11.346L-15.787,13.728L-15.787,36.879C-15.787,37.695 -15.348,38.478 -14.567,39.056C-13.785,39.633 -12.726,39.958 -11.621,39.958L-2.889,39.958L-2.889,42.341ZM30.962,18.512L30.962,8.485C30.962,7.669 30.523,6.886 29.741,6.308C28.96,5.731 27.9,5.406 26.795,5.406L-4.721,5.406L-7.945,3.024L31.181,3.024C32.842,3.024 34.189,4.019 34.189,5.247L34.189,18.512L30.962,18.512Z"></path><g transform="matrix(-0.595969,-0.440448,-1.13993,0.842464,17.4661,11.4472)"><path d="M18.389,14.006L18.389,18L5,11L18.389,4L18.389,7.994L36,7.994L36,14.006L18.389,14.006Z"></path></g></g></svg>'},9477:t=>{t.exports='<svg viewBox="0 0 24 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="pause" transform="matrix(1,0,0,0.956522,-48,-7.65217)"><path d="M64,8L72,8L72,31L64,31L64,8ZM48,8L56,8L56,31L48,31L48,8Z"></path></g></svg>'},7439:t=>{t.exports='<svg viewBox="0 0 23 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="play" transform="matrix(1.36051e-16,0.480277,-0.550439,1.55927e-16,74.9184,-144.269)"><path d="M325.373,94.327L350.358,136.107L300.387,136.107L325.373,94.327Z"></path></g></svg>'},4943:t=>{t.exports='<svg viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><rect id="Play" x="0" y="0" width="300" height="300" style="fill:none;"></rect><g id="Play1" serif:id="Play"><g transform="matrix(1.21457,0,0,1.21457,-55.8704,-35.2227)"><circle cx="169.5" cy="152.5" r="123.5" style="fill:rgb(128,128,128);"></circle><path d="M169.5,29C237.662,29 293,84.338 293,152.5C293,220.662 237.662,276 169.5,276C101.338,276 46,220.662 46,152.5C46,84.338 101.338,29 169.5,29ZM169.5,37.233C233.117,37.233 284.767,88.883 284.767,152.5C284.767,216.117 233.117,267.767 169.5,267.767C105.883,267.767 54.233,216.117 54.233,152.5C54.233,88.883 105.883,37.233 169.5,37.233Z" style="fill:rgb(235,235,235);"></path></g><g transform="matrix(6.12323e-17,1,-1,6.12323e-17,347,-59)"><path d="M209,82L317,253L101,253L209,82Z" style="fill:rgb(235,235,235);"></path></g></g></svg>'},3338:t=>{t.exports='<svg viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1,0,0,1,3,-3.88857)"><path d="M128,35.819C65.633,35.819 14.999,86.453 14.999,148.82C14.999,163.127 17.663,176.817 22.549,189.403L22.475,189.447C11.612,170.791 5.889,149.588 5.889,128C5.889,60.56 60.56,5.889 128,5.889L128,35.819Z" style="fill:url(#_Linear1);"></path></g><g transform="matrix(-1,1.22465e-16,-1.22465e-16,-1,258,251.914)"><path d="M128,35.819C65.633,35.819 14.999,86.453 14.999,148.82C14.999,163.127 17.663,176.817 22.549,189.403L22.475,189.447C11.612,170.791 5.889,149.588 5.889,128C5.889,60.56 60.56,5.889 128,5.889L128,35.819Z" style="fill:url(#_Linear2);"></path></g><defs><linearGradient id="_Linear1" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-89.3028,140.734,-140.734,-89.3028,144.417,48.7125)"><stop offset="0" style="stop-color:rgb(13,13,13);stop-opacity:1"></stop><stop offset="1" style="stop-color:rgb(175,175,175);stop-opacity:0.5"></stop></linearGradient><linearGradient id="_Linear2" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-89.3028,140.734,-140.734,-89.3028,144.417,48.7125)"><stop offset="0" style="stop-color:rgb(13,13,13);stop-opacity:1"></stop><stop offset="1" style="stop-color:rgb(175,175,175);stop-opacity:0.5"></stop></linearGradient></defs></svg>'},8048:t=>{t.exports='<svg viewBox="0 0 40 42" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(1.94013e-16,0.689169,-0.784942,2.23746e-16,110.436,-203.562)"><g id="play"><path d="M304.588,115.214C304.588,105.205 313.901,97.079 325.373,97.079C336.844,97.079 346.157,105.205 346.157,115.214C346.157,125.223 336.844,133.349 325.373,133.349L325.373,128.287C333.642,128.287 340.356,122.43 340.356,115.214C340.356,107.999 333.642,102.141 325.373,102.141C317.103,102.141 310.39,107.999 310.39,115.214L304.588,115.214Z"></path><g transform="matrix(-2.33361,-6.00363e-16,1.21708e-15,-2.59724,320.246,134.358)"><path d="M5.454,3.35L9.398,7.505L1.511,7.505L5.454,3.35Z"></path></g></g></g></svg>'},697:t=>{t.exports='<svg viewBox="0 0 39 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1.43396,0,0,1.57895,-350.104,-74)"><path d="M271,50.995C271,49.065 269.277,47.5 267.152,47.5C267.152,47.5 260.884,46.867 257.75,46.867C254.616,46.867 248.348,47.5 248.348,47.5C246.223,47.5 244.5,49.065 244.5,50.995C244.5,50.995 244.151,55.036 244.151,56.842C244.151,58.843 244.5,63.005 244.5,63.005C244.5,64.935 246.223,66.5 248.348,66.5C248.348,66.5 254.965,67.133 258.099,67.133C261.124,67.133 267.152,66.5 267.152,66.5C269.277,66.5 271,64.935 271,63.005C271,63.005 271.349,59.002 271.349,57C271.349,54.998 271,50.995 271,50.995Z"></path></g></svg>'},5320:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g transform="matrix(1,0,0,1,-164.25,-6)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-310.137,-22.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(2.44245,0,0,2.44245,-427.303,-35.9308)"><path d="M184.199,14.815C184.625,14.866 186.828,16.03 187.775,17.801C189.443,20.92 187.935,25.329 184.388,26.637C184.388,26.637 183.459,26.646 183.677,26.009C183.808,25.624 184.344,25.578 184.77,25.344C187.184,24.016 188.202,20.604 186.8,18.153C186.181,17.07 185.166,16.228 183.988,15.807C183.988,15.807 183.242,14.787 184.199,14.815Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,-125,-5)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></svg>'},4306:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-low" serif:id="volume low" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>'},4738:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mid" serif:id="volume mid" transform="matrix(1,0,0,1,-165,-5)"><g><g transform="matrix(1,0,0,1,0.75,-1)"><path d="M184.233,14.077C188.981,14.489 191.571,24.435 184.954,27.208C183.497,27.819 181.723,25.826 183.988,24.902C187.22,23.511 187.697,17.939 183.734,16.5C183.734,16.5 181.944,14.012 184.233,14.077Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1.79727,0,0,1.79727,-145.137,-17.5434)"><path d="M184.236,14.634C184.819,14.72 184.834,14.837 185.078,14.956C188.213,16.489 189.629,20.834 187.848,23.947C187.088,25.275 185.842,26.312 184.395,26.83C184.395,26.83 184.071,26.925 183.815,26.778C183.217,26.436 183.496,25.849 184.723,25.159C187.985,23.325 187.943,17.417 183.927,15.98C183.927,15.98 182.939,14.544 184.236,14.634Z" style="fill-rule:nonzero;"></path></g><g transform="matrix(1,0,0,1,40,0)"><path d="M131.499,14L139.68,5C140.961,5 142,6.039 142,7.32L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L131.499,14Z"></path></g></g></g></svg>'},999:t=>{t.exports='<svg viewBox="0 0 34 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g id="volume-mute" serif:id="volume mute" transform="matrix(1,0,0,1,-123,-4.71142)"><path d="M142,28.522L142,31.68C142,32.961 140.961,34 139.68,34L131.499,25L127.375,25C126.063,25 125,23.937 125,22.625L125,16.375C125,15.063 126.063,14 127.375,14L127.478,14L142,28.522ZM151.228,34.983L123,6.756L125.044,4.711L132.848,12.516L139.68,5C140.961,5 142,6.039 142,7.32L142,21.667L153.272,32.939L151.228,34.983Z"></path></g></svg>'},4824:(t,e,n)=>{var r={"./de-DE.json":5135,"./en-US.json":7964,"./es-ES.json":7105};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=4824},8933:(t,e,n)=>{var r={"./es.upv.paella.audioCanvas.js":6247,"./es.upv.paella.testVideoCanvas.js":1478,"./es.upv.paella.videoCanvas.js":9550};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=8933},9633:(t,e,n)=>{var r={"./PaellaCoreDataPlugins.js":9619,"./es.upv.paella.cookieDataPlugin.js":8484,"./es.upv.paella.localStorageDataPlugin.js":6146};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=9633},5546:(t,e,n)=>{var r={"./PaellaCoreLayouts.js":1581,"./es.upv.paella.dualVideo.js":7837,"./es.upv.paella.dualVideoDynamic.js":7812,"./es.upv.paella.dualVideoPiP.js":6868,"./es.upv.paella.nStreams.js":6689,"./es.upv.paella.singleVideo.js":135,"./es.upv.paella.singleVideoDynamic.js":5202,"./es.upv.paella.tripleVideo.js":1467};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=5546},3099:(t,e,n)=>{var r={"./PaellaCorePlugins.js":3537,"./es.upv.paella.canvasButtonPluginTest.js":3244,"./es.upv.paella.collisionTestShortucts.js":1268,"./es.upv.paella.defaultShortcuts.js":4807,"./es.upv.paella.dfxpManifestCaptionsPlugin.js":2740,"./es.upv.paella.dynamicWidthButton.js":9680,"./es.upv.paella.nonInteractiveButtonTest.js":3242,"./es.upv.paella.playPauseButton.js":5943,"./es.upv.paella.testButtonGroupPlugin.js":9063,"./es.upv.paella.testCaptionsPlugin.js":635,"./es.upv.paella.testEventLogPlugin.js":2522,"./es.upv.paella.testFoldableButton.js":8588,"./es.upv.paella.testMenuTitleElement.js":3774,"./es.upv.paella.testPopUp2Button.js":1343,"./es.upv.paella.testPopUpButton.js":4689,"./es.upv.paella.testProgressIndicatorPlugin.js":1732,"./es.upv.paella.testVideoContainerButton.js":6413,"./es.upv.paella.vttManifestCaptionsPlugin.js":6664};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=3099},6590:(t,e,n)=>{var r={"./PaellaCoreVideoFormats.js":1897,"./es.upv.paella.audioVideoFormat.js":4504,"./es.upv.paella.hlsLiveVideoFormat.js":951,"./es.upv.paella.hlsVideoFormat.js":9805,"./es.upv.paella.htmlVideoFormat.js":1395,"./es.upv.paella.imageVideoFormat.js":4273,"./es.upv.paella.mp4VideoFormat.js":1175};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=6590},4945:(t,e,n)=>{"use strict";function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}n.d(e,{Ay:()=>sa});var o={exports:{}};!function(t,e){var n,r,o,i,a;n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");return o.path=a.normalizePath(o.path),a.buildURLFromParts(o)}var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=a.normalizePath(i.path),a.buildURLFromParts(i)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var c=r.exec(s.path);s.netLoc=c[1],s.path=c[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(u.netLoc=s.netLoc,"/"!==i.path[0]))if(i.path){var l=s.path,f=l.substring(0,l.lastIndexOf("/")+1)+i.path;u.path=a.normalizePath(f)}else u.path=s.path,i.params||(u.params=s.params,i.query||(u.query=s.query));return null===u.path&&(u.path=n.alwaysNormalize?a.normalizePath(i.path):i.path),a.buildURLFromParts(u)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(o,"");t.length!==(t=t.replace(i,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=a}(o);var i=o.exports;function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){var r,o,i;r=t,o=e,i=n[e],(o=c(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}const l=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},f=Number.isSafeInteger||function(t){return"number"==typeof t&&Math.abs(t)<=h},h=Number.MAX_SAFE_INTEGER||9007199254740991;let p=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),d=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),y=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const v=function(){},g={trace:v,debug:v,log:v,warn:v,info:v,error:v};let m=g;const b=m,w=/^(\d+)x(\d+)$/,A=/(.+?)=(".*?"|.*?)(?:,|$)/g;class x{constructor(t){"string"==typeof t&&(t=x.parseAttrList(t)),u(this,t)}get clientAttrs(){return Object.keys(this).filter((t=>"X-"===t.substring(0,2)))}decimalInteger(t){const e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(t){if(this[t]){let e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;const n=new Uint8Array(e.length/2);for(let t=0;t<e.length/2;t++)n[t]=parseInt(e.slice(2*t,2*t+2),16);return n}return null}hexadecimalIntegerAsNumber(t){const e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(t){return parseFloat(this[t])}optionalFloat(t,e){const n=this[t];return n?parseFloat(n):e}enumeratedString(t){return this[t]}bool(t){return"YES"===this[t]}decimalResolution(t){const e=w.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(t){let e;const n={};for(A.lastIndex=0;null!==(e=A.exec(t));){let t=e[2];0===t.indexOf('"')&&t.lastIndexOf('"')===t.length-1&&(t=t.slice(1,-1)),n[e[1].trim()]=t}return n}}function E(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t}class C{constructor(t,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const n=e.attr;for(const e in n)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==n[e]){b.warn(`DATERANGE tag attribute: "${e}" does not match for tags with ID: "${t.ID}"`),this._badValueForSameId=e;break}t=u(new x({}),n,t)}if(this.attr=t,this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){const t=new Date(this.attr["END-DATE"]);l(t.getTime())&&(this._endDate=t)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const t=this.duration;return null!==t?new Date(this._startDate.getTime()+1e3*t):null}get duration(){if("DURATION"in this.attr){const t=this.attr.decimalFloatingPoint("DURATION");if(l(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&l(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class k{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var L="audio",_="video",S="audiovideo";class O{constructor(t){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[L]:null,[_]:null,[S]:null},this.baseurl=t}setByteRange(t,e){const n=t.split("@",2);let r;r=1===n.length?(null==e?void 0:e.byteRangeEndOffset)||0:parseInt(n[1]),this._byteRange=[r,parseInt(n[0])+r]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=i.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(t){this._url=t}}class T extends O{constructor(t,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new k,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=t}get decryptdata(){const{levelkeys:t}=this;if(!t&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const t=Object.keys(this.levelkeys);if(1===t.length)return this._decryptdata=this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;if(!l(this.programDateTime))return null;const t=l(this.duration)?this.duration:0;return this.programDateTime+1e3*t}get encrypted(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),e=t.length;if(e>1||1===e&&this.levelkeys[t[0]].encrypted)return!0}return!1}setKeyFormat(t){if(this.levelkeys){const e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(t,e,n,r,o,i=!1){const{elementaryStreams:a}=this,s=a[t];s?(s.startPTS=Math.min(s.startPTS,e),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,o)):a[t]={startPTS:e,endPTS:n,startDTS:r,endDTS:o,partial:i}}clearElementaryStreamInfo(){const{elementaryStreams:t}=this;t[L]=null,t[_]=null,t[S]=null}}class P extends O{constructor(t,e,n,r,o){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new k,this.duration=t.decimalFloatingPoint("DURATION"),this.gap=t.bool("GAP"),this.independent=t.bool("INDEPENDENT"),this.relurl=t.enumeratedString("URI"),this.fragment=e,this.index=r;const i=t.enumeratedString("BYTERANGE");i&&this.setByteRange(i,o),o&&(this.fragOffset=o.fragOffset+o.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:t}=this;return!!(t.audio||t.video||t.audiovideo)}}class R{constructor(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}reloaded(t){if(!t)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-t.lastPartSn,n=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!n||!!e||!this.live,this.advanced=this.endSN>t.endSN||e>0||0===e&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&l(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const t=this.driftEndTime-this.driftStartTime;return t>0?1e3*(this.driftEnd-this.driftStart)/t:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function I(t){return Uint8Array.from(atob(t),(t=>t.charCodeAt(0)))}function j(t){return Uint8Array.from(unescape(encodeURIComponent(t)),(t=>t.charCodeAt(0)))}const B="undefined"!=typeof self?self:void 0;var D={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},N="org.w3.clearkey",M="com.apple.streamingkeydelivery",F="com.microsoft.playready",U="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function G(t){switch(t){case M:return D.FAIRPLAY;case F:return D.PLAYREADY;case U:return D.WIDEVINE;case N:return D.CLEARKEY}}var $="edef8ba979d64acea3c827dcd51d21ed";function V(t){switch(t){case D.FAIRPLAY:return M;case D.PLAYREADY:return F;case D.WIDEVINE:return U;case D.CLEARKEY:return N}}function H(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[D.FAIRPLAY,D.WIDEVINE,D.PLAYREADY,D.CLEARKEY].filter((t=>!!e[t])):[];return!r[D.WIDEVINE]&&n&&r.push(D.WIDEVINE),r}const K=null!=B&&null!=(Y=B.navigator)&&Y.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;var Y;function z(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const W=(t,e)=>e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,Z=(t,e)=>e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,q=(t,e)=>{const n=e;let r=0;for(;W(t,e);)r+=10,r+=X(t,e+6),Z(t,e+10)&&(r+=10),e+=r;if(r>0)return t.subarray(n,n+r)},X=(t,e)=>{let n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3],n},Q=(t,e)=>W(t,e)&&X(t,e+6)+10<=t.length-e,J=t=>{const e=nt(t);for(let t=0;t<e.length;t++){const n=e[t];if(tt(n))return st(n)}},tt=t=>t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info,et=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=X(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},nt=t=>{let e=0;const n=[];for(;W(t,e);){const r=X(t,e+6);e+=10;const o=e+r;for(;e+8<o;){const r=et(t.subarray(e)),o=rt(r);o&&n.push(o),e+=r.size+10}Z(t,e)&&(e+=10)}return n},rt=t=>"PRIV"===t.type?ot(t):"W"===t.type[0]?at(t):it(t),ot=t=>{if(t.size<2)return;const e=ct(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},it=t=>{if(t.size<2)return;if("TXXX"===t.type){let e=1;const n=ct(t.data.subarray(e),!0);e+=n.length+1;const r=ct(t.data.subarray(e));return{key:t.type,info:n,data:r}}const e=ct(t.data.subarray(1));return{key:t.type,data:e}},at=t=>{if("WXXX"===t.type){if(t.size<2)return;let e=1;const n=ct(t.data.subarray(e),!0);e+=n.length+1;const r=ct(t.data.subarray(e));return{key:t.type,info:n,data:r}}const e=ct(t.data);return{key:t.type,data:e}},st=t=>{if(8===t.data.byteLength){const e=new Uint8Array(t.data),n=1&e[3];let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},ct=(t,e=!1)=>{const n=lt();if(n){const r=n.decode(t);if(e){const t=r.indexOf("\0");return-1!==t?r.substring(0,t):r}return r.replace(/\0/g,"")}const r=t.length;let o,i,a,s="",c=0;for(;c<r;){if(o=t[c++],0===o&&e)return s;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(o);break;case 12:case 13:i=t[c++],s+=String.fromCharCode((31&o)<<6|63&i);break;case 14:i=t[c++],a=t[c++],s+=String.fromCharCode((15&o)<<12|(63&i)<<6|(63&a)<<0)}}return s};let ut;function lt(){if(!navigator.userAgent.includes("PlayStation 4"))return ut||void 0===self.TextDecoder||(ut=new self.TextDecoder("utf-8")),ut}const ft=function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e},ht=Math.pow(2,32)-1,pt=[].push,dt={video:1,audio:2,id3:3,text:4};function yt(t){return String.fromCharCode.apply(null,t)}function vt(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function gt(t,e){const n=bt(t,e);return n<0?4294967296+n:n}function mt(t,e){let n=gt(t,e);return n*=Math.pow(2,32),n+=gt(t,e+4),n}function bt(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function wt(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function At(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let o=0;o<r;){const i=gt(t,o),a=i>1?o+i:r;if(yt(t.subarray(o+4,o+8))===e[0])if(1===e.length)n.push(t.subarray(o+8,a));else{const r=At(t.subarray(o+8,a),e.slice(1));r.length&&pt.apply(n,r)}o=a}return n}function xt(t){const e=[],n=t[0];let r=8;const o=gt(t,r);r+=4;let i=0,a=0;0===n?(i=gt(t,r),a=gt(t,r+4),r+=8):(i=mt(t,r),a=mt(t,r+8),r+=16),r+=2;let s=t.length+a;const c=vt(t,r);r+=2;for(let n=0;n<c;n++){let n=r;const i=gt(t,n);n+=4;const a=2147483647&i;if(1==(2147483648&i)>>>31)return b.warn("SIDX has hierarchical references (not supported)"),null;const c=gt(t,n);n+=4,e.push({referenceSize:a,subsegmentDuration:c,info:{duration:c/o,start:s,end:s+a-1}}),s+=a,n+=4,r=n}return{earliestPresentationTime:i,timescale:o,version:n,referencesCount:c,references:e}}function Et(t){const e=[],n=At(t,["moov","trak"]);for(let t=0;t<n.length;t++){const r=n[t],o=At(r,["tkhd"])[0];if(o){let t=o[0];const n=gt(o,0===t?12:20),i=At(r,["mdia","mdhd"])[0];if(i){t=i[0];const o=gt(i,0===t?12:20),a=At(r,["mdia","hdlr"])[0];if(a){const t=yt(a.subarray(8,12)),i={soun:L,vide:_}[t];if(i){const t=Ct(At(r,["mdia","minf","stbl","stsd"])[0]);e[n]={timescale:o,type:i},e[i]=s({timescale:o,id:n},t)}}}}}return At(t,["moov","mvex","trex"]).forEach((t=>{const n=gt(t,4),r=e[n];r&&(r.default={duration:gt(t,12),flags:gt(t,20)})})),e}function Ct(t){const e=t.subarray(8),n=e.subarray(86),r=yt(e.subarray(4,8));let o=r;const i="enca"===r||"encv"===r;if(i){const t=At(e,[r])[0];At(t.subarray("enca"===r?28:78),["sinf"]).forEach((t=>{const e=At(t,["schm"])[0];if(e){const n=yt(e.subarray(4,8));if("cbcs"===n||"cenc"===n){const e=At(t,["frma"])[0];e&&(o=yt(e))}}}))}switch(o){case"avc1":case"avc2":case"avc3":case"avc4":{const t=At(n,["avcC"])[0];o+="."+Lt(t[1])+Lt(t[2])+Lt(t[3]);break}case"mp4a":{const t=At(e,[r])[0],n=At(t.subarray(28),["esds"])[0];if(n&&n.length>12){let t=4;if(3!==n[t++])break;t=kt(n,t),t+=2;const e=n[t++];if(128&e&&(t+=2),64&e&&(t+=n[t++]),4!==n[t++])break;t=kt(n,t);const r=n[t++];if(64!==r)break;if(o+="."+Lt(r),t+=12,5!==n[t++])break;t=kt(n,t);const i=n[t++];let a=(248&i)>>3;31===a&&(a+=1+((7&i)<<3)+((224&n[t])>>5)),o+="."+a}break}case"hvc1":case"hev1":{const t=At(n,["hvcC"])[0],e=t[1],r=["","A","B","C"][e>>6],i=31&e,a=gt(t,2),s=(32&e)>>5?"H":"L",c=t[12],u=t.subarray(6,12);o+="."+r+i,o+="."+a.toString(16).toUpperCase(),o+="."+s+c;let l="";for(let t=u.length;t--;){const e=u[t];(e||l)&&(l="."+e.toString(16).toUpperCase()+l)}o+=l;break}case"dvh1":case"dvhe":{const t=At(n,["dvcC"])[0],e=t[2]>>1&127,r=t[2]<<5&32|t[3]>>3&31;o+="."+_t(e)+"."+_t(r);break}case"vp09":{const t=At(n,["vpcC"])[0],e=t[4],r=t[5],i=t[6]>>4&15;o+="."+_t(e)+"."+_t(r)+"."+_t(i);break}case"av01":{const t=At(n,["av1C"])[0],e=t[1]>>>5,r=31&t[1],i=t[2]>>>7?"H":"M",a=(64&t[2])>>6,s=(32&t[2])>>5,c=2===e&&a?s?12:10:a?10:8,u=(16&t[2])>>4,l=(8&t[2])>>3,f=(4&t[2])>>2,h=3&t[2],p=1,d=1,y=1,v=0;o+="."+e+"."+_t(r)+i+"."+_t(c)+"."+u+"."+l+f+h+"."+_t(p)+"."+_t(d)+"."+_t(y)+"."+v;break}}return{codec:o,encrypted:i}}function kt(t,e){const n=e+5;for(;128&t[e++]&&e<n;);return e}function Lt(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function _t(t){return(t<10?"0":"")+t}function St(t){const e=At(t,["schm"])[0];if(e){const n=yt(e.subarray(4,8));if("cbcs"===n||"cenc"===n)return At(t,["schi","tenc"])[0]}return b.error("[eme] missing 'schm' box"),null}function Ot(t){const e=gt(t,0);let n=8;1&e&&(n+=4),4&e&&(n+=4);let r=0;const o=gt(t,4);for(let i=0;i<o;i++)256&e&&(r+=gt(t,n),n+=4),512&e&&(n+=4),1024&e&&(n+=4),2048&e&&(n+=4);return r}function Tt(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function Pt(t,e){const n=[],r=e.samples,o=e.timescale,i=e.id;let a=!1;return At(r,["moof"]).map((s=>{const c=s.byteOffset-8;At(s,["traf"]).map((s=>{const u=At(s,["tfdt"]).map((t=>{const e=t[0];let n=gt(t,4);return 1===e&&(n*=Math.pow(2,32),n+=gt(t,8)),n/o}))[0];return void 0!==u&&(t=u),At(s,["tfhd"]).map((u=>{const l=gt(u,4),f=16777215&gt(u,0);let h=0;const p=0!=(16&f);let d=0;const y=0!=(32&f);let v=8;l===i&&(0!=(1&f)&&(v+=8),0!=(2&f)&&(v+=4),0!=(8&f)&&(h=gt(u,v),v+=4),p&&(d=gt(u,v),v+=4),y&&(v+=4),"video"===e.type&&(a=function(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(e.codec)),At(s,["trun"]).map((i=>{const s=i[0],u=16777215&gt(i,0),l=0!=(1&u);let f=0;const p=0!=(4&u),y=0!=(256&u);let v=0;const g=0!=(512&u);let m=0;const b=0!=(1024&u),w=0!=(2048&u);let A=0;const x=gt(i,4);let E=8;l&&(f=gt(i,E),E+=4),p&&(E+=4);let C=f+c;for(let c=0;c<x;c++){if(y?(v=gt(i,E),E+=4):v=h,g?(m=gt(i,E),E+=4):m=d,b&&(E+=4),w&&(A=0===s?gt(i,E):bt(i,E),E+=4),e.type===_){let e=0;for(;e<m;){const i=gt(r,C);C+=4,Rt(a,r[C])&&It(r.subarray(C,C+i),a?2:1,t+A/o,n),C+=i,e+=i+4}}t+=v/o}})))}))}))})),n}function Rt(t,e){if(t){const t=e>>1&63;return 39===t||40===t}return 6==(31&e)}function It(t,e,n,r){const o=jt(t);let i=0;i+=e;let a=0,s=0,c=0;for(;i<o.length;){a=0;do{if(i>=o.length)break;c=o[i++],a+=c}while(255===c);s=0;do{if(i>=o.length)break;c=o[i++],s+=c}while(255===c);const t=o.length-i;let e=i;if(s<t)i+=s;else if(s>t){b.error(`Malformed SEI payload. ${s} is too small, only ${t} bytes left to parse.`);break}if(4===a){if(181===o[e++]){const t=vt(o,e);if(e+=2,49===t){const t=gt(o,e);if(e+=4,1195456820===t){const t=o[e++];if(3===t){const i=o[e++],s=64&i,c=s?2+3*(31&i):0,u=new Uint8Array(c);if(s){u[0]=i;for(let t=1;t<c;t++)u[t]=o[e++]}r.push({type:t,payloadType:a,pts:n,bytes:u})}}}}}else if(5===a&&s>16){const t=[];for(let n=0;n<16;n++){const r=o[e++].toString(16);t.push(1==r.length?"0"+r:r),3!==n&&5!==n&&7!==n&&9!==n||t.push("-")}const i=s-16,c=new Uint8Array(i);for(let t=0;t<i;t++)c[t]=o[e++];r.push({payloadType:a,pts:n,uuid:t.join(""),userData:ct(c),userDataBytes:c})}}}function jt(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return t;const o=e-n.length,i=new Uint8Array(o);let a=0;for(r=0;r<o;a++,r++)a===n[0]&&(a++,n.shift()),i[r]=t[a];return i}let Bt={};class Dt{static clearKeyUriToKeyIdMap(){Bt={}}constructor(t,e,n,r=[1],o=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=e,this.keyFormat=n,this.keyFormatVersions=r,this.iv=o,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&"AES-128"!==t}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case M:case U:case F:case N:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof t&&("AES-128"!==this.method||this.iv||b.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),t=0);const e=function(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}(t);return new Dt(this.method,this.uri,"identity",this.keyFormatVersions,e)}const e=function(t){const e=t.split(":");let n=null;if("data"===e[0]&&2===e.length){const t=e[1].split(";"),r=t[t.length-1].split(",");if(2===r.length){const e="base64"===r[0],o=r[1];e?(t.splice(-1,1),n=I(o)):n=function(t){const e=j(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}(o)}}return n}(this.uri);if(e)switch(this.keyFormat){case U:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case F:{const t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function(t,e,n){if(16!==t.byteLength)throw new RangeError("Invalid system id");let r,o,i;if(e){r=1,o=new Uint8Array(16*e.length);for(let t=0;t<e.length;t++){const n=e[t];if(16!==n.byteLength)throw new RangeError("Invalid key");o.set(n,16*t)}}else r=0,o=new Uint8Array;r>0?(i=new Uint8Array(4),e.length>0&&new DataView(i.buffer).setUint32(0,e.length,!1)):i=new Uint8Array;const a=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(a.buffer).setUint32(0,n.byteLength,!1),function(t,...e){const n=e.length;let r=8,o=n;for(;o--;)r+=e[o].byteLength;const i=new Uint8Array(r);for(i[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=255&r,i.set(t,4),o=0,r=8;o<n;o++)i.set(e[o],r),r+=e[o].byteLength;return i}([112,115,115,104],new Uint8Array([r,0,0,0]),t,i,o,a,n||new Uint8Array)}(t,null,e);const n=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),r=String.fromCharCode.apply(null,Array.from(n)),o=r.substring(r.indexOf("<"),r.length),i=(new DOMParser).parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(i){const t=i.childNodes[0]?i.childNodes[0].nodeValue:i.getAttribute("VALUE");if(t){const e=I(t).subarray(0,16);!function(t){const e=function(t,e,n){const r=t[e];t[e]=t[n],t[n]=r};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}(e),this.keyId=e}}break}default:{let t=e.subarray(0,16);if(16!==t.length){const e=new Uint8Array(16);e.set(t,16-t.length),t=e}this.keyId=t;break}}if(!this.keyId||16!==this.keyId.byteLength){let t=Bt[this.uri];if(!t){const e=Object.keys(Bt).length%Number.MAX_SAFE_INTEGER;t=new Uint8Array(16),new DataView(t.buffer,12,4).setUint32(0,e),Bt[this.uri]=t}this.keyId=t}return this}}const Nt=/\{\$([a-zA-Z0-9-_]+)\}/g;function Mt(t){return Nt.test(t)}function Ft(t,e,n){if(null!==t.variableList||t.hasVariableRefs)for(let r=n.length;r--;){const o=n[r],i=e[o];i&&(e[o]=Ut(t,i))}}function Ut(t,e){if(null!==t.variableList||t.hasVariableRefs){const n=t.variableList;return e.replace(Nt,(e=>{const r=e.substring(2,e.length-1),o=null==n?void 0:n[r];return void 0===o?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${r}"`)),e):o}))}return e}function Gt(t,e,n){let r,o,i=t.variableList;if(i||(t.variableList=i={}),"QUERYPARAM"in e){r=e.QUERYPARAM;try{const t=new self.URL(n).searchParams;if(!t.has(r))throw new Error(`"${r}" does not match any query parameter in URI: "${n}"`);o=t.get(r)}catch(e){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${e.message}`))}}else r=e.NAME,o=e.VALUE;r in i?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${r}"`)):i[r]=o||""}function $t(t,e,n){const r=e.IMPORT;if(n&&r in n){let e=t.variableList;e||(t.variableList=e={}),e[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function Vt(t=!0){if("undefined"!=typeof self)return(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}const Ht={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Kt(t,e,n=!0){return!t.split(",").some((t=>!Yt(t,e,n)))}function Yt(t,e,n=!0){var r;const o=Vt(n);return null!=(r=null==o?void 0:o.isTypeSupported(zt(t,e)))&&r}function zt(t,e){return`${e}/mp4;codecs="${t}"`}function Wt(t){if(t){const e=t.substring(0,4);return Ht.video[e]}return 2}function Zt(t){return t.split(",").reduce(((t,e)=>{const n=Ht.video[e];return n?(2*n+t)/(t?3:2):(Ht.audio[e]+t)/(t?2:1)}),0)}const qt={},Xt=/flac|opus/i;function Qt(t,e=!0){return t.replace(Xt,(t=>function(t,e=!0){if(qt[t])return qt[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let r=0;r<n.length;r++)if(Yt(n[r],"audio",e))return qt[t]=n[r],n[r];return t}(t.toLowerCase(),e)))}function Jt(t,e){return t&&"mp4a"!==t?t:e}const te=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,ee=/#EXT-X-MEDIA:(.*)/g,ne=/^#EXT(?:INF|-X-TARGETDURATION):/m,re=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),oe=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class ie{static findGroup(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.id===e)return r}}static resolve(t,e){return i.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}static isMediaPlaylist(t){return ne.test(t)}static parseMasterPlaylist(t,e){const n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Mt(t)},r=[];let o;for(te.lastIndex=0;null!=(o=te.exec(t));)if(o[1]){var i;const t=new x(o[1]);Ft(n,t,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const a=Ut(n,o[2]),s={attrs:t,bitrate:t.decimalInteger("BANDWIDTH")||t.decimalInteger("AVERAGE-BANDWIDTH"),name:t.NAME,url:ie.resolve(a,e)},c=t.decimalResolution("RESOLUTION");c&&(s.width=c.width,s.height=c.height),ce(t.CODECS,s),null!=(i=s.unknownCodecs)&&i.length||r.push(s),n.levels.push(s)}else if(o[3]){const t=o[3],r=o[4];switch(t){case"SESSION-DATA":{const t=new x(r);Ft(n,t,["DATA-ID","LANGUAGE","VALUE","URI"]);const e=t["DATA-ID"];e&&(null===n.sessionData&&(n.sessionData={}),n.sessionData[e]=t);break}case"SESSION-KEY":{const t=ae(r,e,n);t.encrypted&&t.isSupported()?(null===n.sessionKeys&&(n.sessionKeys=[]),n.sessionKeys.push(t)):b.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${r}"`);break}case"DEFINE":{const t=new x(r);Ft(n,t,["NAME","VALUE","QUERYPARAM"]),Gt(n,t,e)}break;case"CONTENT-STEERING":{const t=new x(r);Ft(n,t,["SERVER-URI","PATHWAY-ID"]),n.contentSteering={uri:ie.resolve(t["SERVER-URI"],e),pathwayId:t["PATHWAY-ID"]||"."};break}case"START":n.startTimeOffset=se(r)}}const a=r.length>0&&r.length<n.levels.length;return n.levels=a?r:n.levels,0===n.levels.length&&(n.playlistParsingError=new Error("no levels found in manifest")),n}static parseMasterPlaylistMedia(t,e,n){let r;const o={},i=n.levels,a={AUDIO:i.map((t=>({id:t.attrs.AUDIO,audioCodec:t.audioCodec}))),SUBTITLES:i.map((t=>({id:t.attrs.SUBTITLES,textCodec:t.textCodec}))),"CLOSED-CAPTIONS":[]};let s=0;for(ee.lastIndex=0;null!==(r=ee.exec(t));){const t=new x(r[1]),i=t.TYPE;if(i){const r=a[i],c=o[i]||[];o[i]=c,Ft(n,t,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const u=t.LANGUAGE,l=t["ASSOC-LANGUAGE"],f=t.CHANNELS,h=t.CHARACTERISTICS,p=t["INSTREAM-ID"],d={attrs:t,bitrate:0,id:s++,groupId:t["GROUP-ID"]||"",name:t.NAME||u||"",type:i,default:t.bool("DEFAULT"),autoselect:t.bool("AUTOSELECT"),forced:t.bool("FORCED"),lang:u,url:t.URI?ie.resolve(t.URI,e):""};if(l&&(d.assocLang=l),f&&(d.channels=f),h&&(d.characteristics=h),p&&(d.instreamId=p),null!=r&&r.length){const t=ie.findGroup(r,d.groupId)||r[0];ue(d,t,"audioCodec"),ue(d,t,"textCodec")}c.push(d)}}return o}static parseLevelPlaylist(t,e,n,r,o,i){const a=new R(e),s=a.fragments;let c,f,h,p=null,d=0,y=0,v=0,g=0,m=null,w=new T(r,e),A=-1,E=!1,k=null;for(re.lastIndex=0,a.m3u8=t,a.hasVariableRefs=Mt(t);null!==(c=re.exec(t));){E&&(E=!1,w=new T(r,e),w.start=v,w.sn=d,w.cc=g,w.level=n,p&&(w.initSegment=p,w.rawProgramDateTime=p.rawProgramDateTime,p.rawProgramDateTime=null,k&&(w.setByteRange(k),k=null)));const t=c[1];if(t){w.duration=parseFloat(t);const e=(" "+c[2]).slice(1);w.title=e||null,w.tagList.push(e?["INF",t,e]:["INF",t])}else if(c[3]){if(l(w.duration)){w.start=v,h&&he(w,h,a),w.sn=d,w.level=n,w.cc=g,s.push(w);const t=(" "+c[3]).slice(1);w.relurl=Ut(a,t),le(w,m),m=w,v+=w.duration,d++,y=0,E=!0}}else if(c[4]){const t=(" "+c[4]).slice(1);m?w.setByteRange(t,m):w.setByteRange(t)}else if(c[5])w.rawProgramDateTime=(" "+c[5]).slice(1),w.tagList.push(["PROGRAM-DATE-TIME",w.rawProgramDateTime]),-1===A&&(A=s.length);else{if(c=c[0].match(oe),!c){b.warn("No matches on slow regex match for level playlist!");continue}for(f=1;f<c.length&&void 0===c[f];f++);const t=(" "+c[f]).slice(1),o=(" "+c[f+1]).slice(1),v=c[f+2]?(" "+c[f+2]).slice(1):"";switch(t){case"PLAYLIST-TYPE":a.type=o.toUpperCase();break;case"MEDIA-SEQUENCE":d=a.startSN=parseInt(o);break;case"SKIP":{const t=new x(o);Ft(a,t,["RECENTLY-REMOVED-DATERANGES"]);const e=t.decimalInteger("SKIPPED-SEGMENTS");if(l(e)){a.skippedSegments=e;for(let t=e;t--;)s.unshift(null);d+=e}const n=t.enumeratedString("RECENTLY-REMOVED-DATERANGES");n&&(a.recentlyRemovedDateranges=n.split("\t"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt(o),1);break;case"VERSION":a.version=parseInt(o);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":(o||v)&&w.tagList.push(v?[o,v]:[o]);break;case"DISCONTINUITY":g++,w.tagList.push(["DIS"]);break;case"GAP":w.gap=!0,w.tagList.push([t]);break;case"BITRATE":w.tagList.push([t,o]);break;case"DATERANGE":{const t=new x(o);Ft(a,t,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Ft(a,t,t.clientAttrs);const e=new C(t,a.dateRanges[t.ID]);e.isValid||a.skippedSegments?a.dateRanges[e.id]=e:b.warn(`Ignoring invalid DATERANGE tag: "${o}"`),w.tagList.push(["EXT-X-DATERANGE",o]);break}case"DEFINE":{const t=new x(o);Ft(a,t,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in t?$t(a,t,i):Gt(a,t,e)}break;case"DISCONTINUITY-SEQUENCE":g=parseInt(o);break;case"KEY":{const t=ae(o,e,a);if(t.isSupported()){if("NONE"===t.method){h=void 0;break}h||(h={}),h[t.keyFormat]&&(h=u({},h)),h[t.keyFormat]=t}else b.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${o}"`);break}case"START":a.startTimeOffset=se(o);break;case"MAP":{const t=new x(o);if(Ft(a,t,["BYTERANGE","URI"]),w.duration){const o=new T(r,e);fe(o,t,n,h),p=o,w.initSegment=p,p.rawProgramDateTime&&!w.rawProgramDateTime&&(w.rawProgramDateTime=p.rawProgramDateTime)}else{const e=w.byteRangeEndOffset;if(e){const t=w.byteRangeStartOffset;k=`${e-t}@${t}`}else k=null;fe(w,t,n,h),p=w,E=!0}break}case"SERVER-CONTROL":{const t=new x(o);a.canBlockReload=t.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=t.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&t.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=t.optionalFloat("PART-HOLD-BACK",0),a.holdBack=t.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const t=new x(o);a.partTarget=t.decimalFloatingPoint("PART-TARGET");break}case"PART":{let t=a.partList;t||(t=a.partList=[]);const n=y>0?t[t.length-1]:void 0,r=y++,i=new x(o);Ft(a,i,["BYTERANGE","URI"]);const s=new P(i,w,e,r,n);t.push(s),w.duration+=s.duration;break}case"PRELOAD-HINT":{const t=new x(o);Ft(a,t,["URI"]),a.preloadHint=t;break}case"RENDITION-REPORT":{const t=new x(o);Ft(a,t,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(t);break}default:b.warn(`line parsed but not handled: ${c}`)}}}m&&!m.relurl?(s.pop(),v-=m.duration,a.partList&&(a.fragmentHint=m)):a.partList&&(le(w,m),w.cc=g,a.fragmentHint=w,h&&he(w,h,a));const L=s.length,_=s[0],S=s[L-1];if(v+=a.skippedSegments*a.targetduration,v>0&&L&&S){a.averagetargetduration=v/L;const t=S.sn;a.endSN="initSegment"!==t?t:0,a.live||(S.endList=!0),_&&(a.startCC=_.cc)}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(v+=a.fragmentHint.duration),a.totalduration=v,a.endCC=g,A>0&&function(t,e){let n=t[e];for(let r=e;r--;){const e=t[r];if(!e)return;e.programDateTime=n.programDateTime-1e3*e.duration,n=e}}(s,A),a}}function ae(t,e,n){var r,o;const i=new x(t);Ft(n,i,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const a=null!=(r=i.METHOD)?r:"",s=i.URI,c=i.hexadecimalInteger("IV"),u=i.KEYFORMATVERSIONS,l=null!=(o=i.KEYFORMAT)?o:"identity";s&&i.IV&&!c&&b.error(`Invalid IV: ${i.IV}`);const f=s?ie.resolve(s,e):"",h=(u||"1").split("/").map(Number).filter(Number.isFinite);return new Dt(a,f,l,h,c)}function se(t){const e=new x(t).decimalFloatingPoint("TIME-OFFSET");return l(e)?e:null}function ce(t,e){let n=(t||"").split(/[ ,]+/).filter((t=>t));["video","audio","text"].forEach((t=>{const r=n.filter((e=>function(t,e){const n=Ht[e];return!!n&&!!n[t.slice(0,4)]}(e,t)));r.length&&(e[`${t}Codec`]=r.join(","),n=n.filter((t=>-1===r.indexOf(t))))})),e.unknownCodecs=n}function ue(t,e,n){const r=e[n];r&&(t[n]=r)}function le(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),l(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function fe(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function he(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;r.length&&r[r.length-1].levelkeys===e||!Object.keys(e).some((t=>e[t].isCommonEncryption))||r.push(t)}var pe="manifest",de="level",ye="audioTrack",ve="subtitleTrack",ge="main",me="audio",be="subtitle";function we(t){const{type:e}=t;switch(e){case ye:return me;case ve:return be;default:return ge}}function Ae(t,e){let n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n}class xe{constructor(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=t,this.registerListeners()}startLoad(t){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:t}=this;t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.LEVEL_LOADING,this.onLevelLoading,this),t.on(p.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(p.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:t}=this;t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.LEVEL_LOADING,this.onLevelLoading,this),t.off(p.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(p.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(t){const e=this.hls.config,n=e.pLoader,r=e.loader,o=new(n||r)(e);return this.loaders[t.type]=o,o}getInternalLoader(t){return this.loaders[t.type]}resetInternalLoader(t){this.loaders[t]&&delete this.loaders[t]}destroyInternalLoaders(){for(const t in this.loaders){const e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(t,e){const{url:n}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:pe,url:n,deliveryDirectives:null})}onLevelLoading(t,e){const{id:n,level:r,pathwayId:o,url:i,deliveryDirectives:a}=e;this.load({id:n,level:r,pathwayId:o,responseType:"text",type:de,url:i,deliveryDirectives:a})}onAudioTrackLoading(t,e){const{id:n,groupId:r,url:o,deliveryDirectives:i}=e;this.load({id:n,groupId:r,level:null,responseType:"text",type:ye,url:o,deliveryDirectives:i})}onSubtitleTrackLoading(t,e){const{id:n,groupId:r,url:o,deliveryDirectives:i}=e;this.load({id:n,groupId:r,level:null,responseType:"text",type:ve,url:o,deliveryDirectives:i})}load(t){var e;const n=this.hls.config;let r,o=this.getInternalLoader(t);if(o){const e=o.context;if(e&&e.url===t.url&&e.level===t.level)return void b.trace("[playlist-loader]: playlist request ongoing");b.log(`[playlist-loader]: aborting previous loader for type: ${t.type}`),o.abort()}if(r=t.type===pe?n.manifestLoadPolicy.default:u({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(t),l(null==(e=t.deliveryDirectives)?void 0:e.part)){let e;if(t.type===de&&null!==t.level?e=this.hls.levels[t.level].details:t.type===ye&&null!==t.id?e=this.hls.audioTracks[t.id].details:t.type===ve&&null!==t.id&&(e=this.hls.subtitleTracks[t.id].details),e){const t=e.partTarget,n=e.targetduration;if(t&&n){const e=1e3*Math.max(3*t,.8*n);r=u({},r,{maxTimeToFirstByteMs:Math.min(e,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(e,r.maxTimeToFirstByteMs)})}}}const i=r.errorRetry||r.timeoutRetry||{},a={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:i.maxNumRetry||0,retryDelay:i.retryDelayMs||0,maxRetryDelay:i.maxRetryDelayMs||0},s={onSuccess:(t,e,n,r)=>{const o=this.getInternalLoader(n);this.resetInternalLoader(n.type);const i=t.data;0===i.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),ie.isMediaPlaylist(i)?this.handleTrackOrLevelPlaylist(t,e,n,r||null,o):this.handleMasterPlaylist(t,e,n,r)):this.handleManifestParsingError(t,n,new Error("no EXTM3U delimiter"),r||null,e)},onError:(t,e,n,r)=>{this.handleNetworkError(e,n,!1,t,r)},onTimeout:(t,e,n)=>{this.handleNetworkError(e,n,!0,void 0,t)}};o.load(t,a,s)}handleMasterPlaylist(t,e,n,r){const o=this.hls,i=t.data,a=Ae(t,n),s=ie.parseMasterPlaylist(i,a);if(s.playlistParsingError)return void this.handleManifestParsingError(t,n,s.playlistParsingError,r,e);const{contentSteering:c,levels:u,sessionData:l,sessionKeys:f,startTimeOffset:h,variableList:d}=s;this.variableList=d;const{AUDIO:y=[],SUBTITLES:v,"CLOSED-CAPTIONS":g}=ie.parseMasterPlaylistMedia(i,a,s);y.length&&(y.some((t=>!t.url))||!u[0].audioCodec||u[0].attrs.AUDIO||(b.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new x({}),bitrate:0,url:""}))),o.trigger(p.MANIFEST_LOADED,{levels:u,audioTracks:y,subtitles:v,captions:g,contentSteering:c,url:a,stats:e,networkDetails:r,sessionData:l,sessionKeys:f,startTimeOffset:h,variableList:d})}handleTrackOrLevelPlaylist(t,e,n,r,o){const i=this.hls,{id:a,level:s,type:c}=n,u=Ae(t,n),f=l(s)?s:l(a)?a:0,h=we(n),d=ie.parseLevelPlaylist(t.data,u,f,h,0,this.variableList);if(c===pe){const t={attrs:new x({}),bitrate:0,details:d,name:"",url:u};i.trigger(p.MANIFEST_LOADED,{levels:[t],audioTracks:[],url:u,stats:e,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),n.levelDetails=d,this.handlePlaylistLoaded(d,t,e,n,r,o)}handleManifestParsingError(t,e,n,r,o){this.hls.trigger(p.ERROR,{type:d.NETWORK_ERROR,details:y.MANIFEST_PARSING_ERROR,fatal:e.type===pe,url:t.url,err:n,error:n,reason:n.message,response:t,context:e,networkDetails:r,stats:o})}handleNetworkError(t,e,n=!1,r,o){let i=`A network ${n?"timeout":"error"+(r?" (status "+r.code+")":"")} occurred while loading ${t.type}`;t.type===de?i+=`: ${t.level} id: ${t.id}`:t.type!==ye&&t.type!==ve||(i+=` id: ${t.id} group-id: "${t.groupId}"`);const a=new Error(i);b.warn(`[playlist-loader]: ${i}`);let c=y.UNKNOWN,u=!1;const l=this.getInternalLoader(t);switch(t.type){case pe:c=n?y.MANIFEST_LOAD_TIMEOUT:y.MANIFEST_LOAD_ERROR,u=!0;break;case de:c=n?y.LEVEL_LOAD_TIMEOUT:y.LEVEL_LOAD_ERROR,u=!1;break;case ye:c=n?y.AUDIO_TRACK_LOAD_TIMEOUT:y.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case ve:c=n?y.SUBTITLE_TRACK_LOAD_TIMEOUT:y.SUBTITLE_LOAD_ERROR,u=!1}l&&this.resetInternalLoader(t.type);const f={type:d.NETWORK_ERROR,details:c,fatal:u,url:t.url,loader:l,context:t,error:a,networkDetails:e,stats:o};if(r){const n=(null==e?void 0:e.url)||t.url;f.response=s({url:n,data:void 0},r)}this.hls.trigger(p.ERROR,f)}handlePlaylistLoaded(t,e,n,r,o,i){const a=this.hls,{type:s,level:c,id:u,groupId:l,deliveryDirectives:f}=r,h=Ae(e,r),v=we(r),g="number"==typeof r.level&&v===ge?c:void 0;if(!t.fragments.length){const t=new Error("No Segments found in Playlist");return void a.trigger(p.ERROR,{type:d.NETWORK_ERROR,details:y.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:t,reason:t.message,response:e,context:r,level:g,parent:v,networkDetails:o,stats:n})}t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));const m=t.playlistParsingError;if(m)a.trigger(p.ERROR,{type:d.NETWORK_ERROR,details:y.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:m,reason:m.message,response:e,context:r,level:g,parent:v,networkDetails:o,stats:n});else switch(t.live&&i&&(i.getCacheAge&&(t.ageHeader=i.getCacheAge()||0),i.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),s){case pe:case de:a.trigger(p.LEVEL_LOADED,{details:t,level:g||0,id:u||0,stats:n,networkDetails:o,deliveryDirectives:f});break;case ye:a.trigger(p.AUDIO_TRACK_LOADED,{details:t,id:u||0,groupId:l||"",stats:n,networkDetails:o,deliveryDirectives:f});break;case ve:a.trigger(p.SUBTITLE_TRACK_LOADED,{details:t,id:u||0,groupId:l||"",stats:n,networkDetails:o,deliveryDirectives:f})}}}function Ee(t,e){let n;try{n=new Event("addtrack")}catch(t){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function Ce(t,e){const n=t.mode;if("disabled"===n&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){b.debug(`[texttrack-utils]: ${n}`);try{const n=new self.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,t.addCue(n)}catch(t){b.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${t}`)}}"disabled"===n&&(t.mode=n)}function ke(t){const e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(let e=t.cues.length;e--;)t.removeCue(t.cues[e]);"disabled"===e&&(t.mode=e)}function Le(t,e,n,r){const o=t.mode;if("disabled"===o&&(t.mode="hidden"),t.cues&&t.cues.length>0){const o=function(t,e,n){const r=[],o=function(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,o=n;for(;r<=o;){const i=Math.floor((o+r)/2);if(e<t[i].startTime)o=i-1;else{if(!(e>t[i].startTime&&r<n))return i;r=i+1}}return t[r].startTime-e<e-t[o].startTime?r:o}(t,e);if(o>-1)for(let i=o,a=t.length;i<a;i++){const o=t[i];if(o.startTime>=e&&o.endTime<=n)r.push(o);else if(o.startTime>n)return r}return r}(t.cues,e,n);for(let e=0;e<o.length;e++)r&&!r(o[e])||t.removeCue(o[e])}"disabled"===o&&(t.mode=o)}function _e(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||e.push(t[n])}return e}var Se="org.id3",Oe="https://aomedia.org/emsg/ID3";function Te(){if("undefined"!=typeof self)return self.VTTCue||self.TextTrackCue}function Pe(t,e,n,r,o){let i=new t(e,n,"");try{i.value=r,o&&(i.type=o)}catch(a){i=new t(e,n,JSON.stringify(o?s({type:o},r):r))}return i}const Re=(()=>{const t=Te();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Ie(t,e){return t.getTime()/1e3-e}class je{constructor(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:t}=this;t.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(p.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(p.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:t}=this;t.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(p.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(p.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(t,e){this.media=e.media}onMediaDetaching(){this.id3Track&&(ke(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(t){const e=this.getID3Track(t.textTracks);return e.mode="hidden",e}getID3Track(t){if(this.media){for(let e=0;e<t.length;e++){const n=t[e];if("metadata"===n.kind&&"id3"===n.label)return Ee(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(t,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:r}}}=this;if(!n&&!r)return;const{samples:o}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const i=Te();if(i)for(let t=0;t<o.length;t++){const e=o[t].type;if(e===Oe&&!n||!r)continue;const a=nt(o[t].data);if(a){const n=o[t].pts;let r=n+o[t].duration;r>Re&&(r=Re),r-n<=0&&(r=n+.25);for(let t=0;t<a.length;t++){const o=a[t];if(!tt(o)){this.updateId3CueEnds(n,e);const t=Pe(i,n,r,o,e);t&&this.id3Track.addCue(t)}}}}}updateId3CueEnds(t,e){var n;const r=null==(n=this.id3Track)?void 0:n.cues;if(r)for(let n=r.length;n--;){const o=r[n];o.type===e&&o.startTime<t&&o.endTime===Re&&(o.endTime=t)}}onBufferFlushing(t,{startOffset:e,endOffset:n,type:r}){const{id3Track:o,hls:i}=this;if(!i)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:s}}=i;if(o&&(a||s)){let t;t="audio"===r?t=>t.type===Se&&s:"video"===r?t=>t.type===Oe&&a:t=>t.type===Se&&s||t.type===Oe&&a,Le(o,e,n,t)}}onLevelUpdated(t,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:n,id3Track:r}=this,{dateRanges:o}=e,i=Object.keys(o);if(r){const t=Object.keys(n).filter((t=>!i.includes(t)));for(let e=t.length;e--;){const o=t[e];Object.keys(n[o].cues).forEach((t=>{r.removeCue(n[o].cues[t])})),delete n[o]}}const a=e.fragments[e.fragments.length-1];if(0===i.length||!l(null==a?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=a.programDateTime/1e3-a.start,c=Te();for(let t=0;t<i.length;t++){const e=i[t],r=o[e],a=Ie(r.startDate,s),l=n[e],h=(null==l?void 0:l.cues)||{};let p=(null==l?void 0:l.durationKnown)||!1,d=Re;const y=r.endDate;if(y)d=Ie(y,s),p=!0;else if(r.endOnNext&&!p){const t=i.reduce(((t,e)=>{if(e!==r.id){const n=o[e];if(n.class===r.class&&n.startDate>r.startDate&&(!t||r.startDate<t.startDate))return n}return t}),null);t&&(d=Ie(t.startDate,s),p=!0)}const v=Object.keys(r.attr);for(let t=0;t<v.length;t++){const n=v[t];if("ID"===(f=n)||"CLASS"===f||"START-DATE"===f||"DURATION"===f||"END-DATE"===f||"END-ON-NEXT"===f)continue;const o=h[n];if(o)p&&!l.durationKnown&&(o.endTime=d);else if(c){let t=r.attr[n];E(n)&&(u=t,t=Uint8Array.from(u.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);const o=Pe(c,a,d,{key:n,data:t},"com.apple.quicktime.HLS");o&&(o.id=e,this.id3Track.addCue(o),h[n]=o)}}n[e]={cues:h,dateRange:r,durationKnown:p}}var u,f}}class Be{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=t,this.config=t.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:t,levelDetails:e}=this;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:t}=this;if(null===t)return null;const{holdBack:e,partHoldBack:n,targetduration:r}=t,{liveSyncDuration:o,liveSyncDurationCount:i,lowLatencyMode:a}=this.config,s=this.hls.userConfig;let c=a&&n||e;(s.liveSyncDuration||s.liveSyncDurationCount||0===c)&&(c=void 0!==o?o:i*r);const u=r;return c+Math.min(1*this.stallCount,u)}get liveSyncPosition(){const t=this.estimateLiveEdge(),e=this.targetLatency,n=this.levelDetails;if(null===t||null===e||null===n)return null;const r=n.edge,o=t-e-this.edgeStalled,i=r-n.totalduration,a=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(i,o),a)}get drift(){const{levelDetails:t}=this;return null===t?1:t.drift}get edgeStalled(){const{levelDetails:t}=this;if(null===t)return 0;const e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}get forwardBufferLength(){const{media:t,levelDetails:e}=this;if(!t||!e)return 0;const n=t.buffered.length;return(n?t.buffered.end(n-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(p.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(p.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(p.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(p.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(p.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(p.ERROR,this.onError,this)}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(t,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(t,e){var n;e.details===y.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&b.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:t,levelDetails:e}=this;if(!t||!e)return;this.currentTime=t.currentTime;const n=this.computeLatency();if(null===n)return;this._latency=n;const{lowLatencyMode:r,maxLiveSyncPlaybackRate:o}=this.config;if(!r||1===o||!e.live)return;const i=this.targetLatency;if(null===i)return;const a=n-i;if(a<Math.min(this.maxLatency,i+e.targetduration)&&a>.05&&this.forwardBufferLength>1){const e=Math.min(2,Math.max(1,o)),n=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;t.playbackRate=Math.min(e,Math.max(1,n))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}estimateLiveEdge(){const{levelDetails:t}=this;return null===t?null:t.edge+t.age}computeLatency(){const t=this.estimateLiveEdge();return null===t?null:t-this.currentTime}}const De=["NONE","TYPE-0","TYPE-1",null],Ne=["SDR","PQ","HLG"];class Me{constructor(t,e,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=n}addDirectives(t){const e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class Fe{constructor(t){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.frameRate=t.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=t.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.codecSet=[t.videoCodec,t.audioCodec].filter((t=>!!t)).map((t=>t.substring(0,4))).join(","),this.addGroupId("audio",t.attrs.AUDIO),this.addGroupId("text",t.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(t){return Ue(this._audioGroups,t)}hasSubtitleGroup(t){return Ue(this._subtitleGroups,t)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(t,e){if(e)if("audio"===t){let t=this._audioGroups;t||(t=this._audioGroups=[]),-1===t.indexOf(e)&&t.push(e)}else if("text"===t){let t=this._subtitleGroups;t||(t=this._subtitleGroups=[]),-1===t.indexOf(e)&&t.push(e)}}get urlId(){return 0}set urlId(t){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var t;return null==(t=this.audioGroups)?void 0:t[0]}get textGroupId(){var t;return null==(t=this.subtitleGroups)?void 0:t[0]}addFallback(){}}function Ue(t,e){return!(!e||!t)&&-1!==t.indexOf(e)}function Ge(t,e){const n=e.startPTS;if(l(n)){let r,o=0;e.sn>t.sn?(o=n-t.start,r=t):(o=t.start-n,r=e),r.duration!==o&&(r.duration=o)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function $e(t,e,n,r,o,i){r-n<=0&&(b.warn("Fragment should have a positive duration",e),r=n+e.duration,i=o+e.duration);let a=n,s=r;const c=e.startPTS,u=e.endPTS;if(l(c)){const t=Math.abs(c-n);l(e.deltaPTS)?e.deltaPTS=Math.max(t,e.deltaPTS):e.deltaPTS=t,a=Math.max(n,c),n=Math.min(n,c),o=Math.min(o,e.startDTS),s=Math.min(r,u),r=Math.max(r,u),i=Math.max(i,e.endDTS)}const f=n-e.start;0!==e.start&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=a,e.startDTS=o,e.endPTS=r,e.minEndPTS=s,e.endDTS=i;const h=e.sn;if(!t||h<t.startSN||h>t.endSN)return 0;let p;const d=h-t.startSN,y=t.fragments;for(y[d]=e,p=d;p>0;p--)Ge(y[p],y[p-1]);for(p=d;p<y.length-1;p++)Ge(y[p],y[p+1]);return t.fragmentHint&&Ge(y[y.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function Ve(t,e){const n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||He(e,r[n].start)}function He(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function Ke(t,e,n){var r;return null!=t&&t.details?Ye(null==(r=t.details)?void 0:r.partList,e,n):null}function Ye(t,e,n){if(t)for(let r=t.length;r--;){const o=t[r];if(o.index===n&&o.fragment.sn===e)return o}return null}function ze(t){t.forEach(((t,e)=>{const{details:n}=t;null!=n&&n.fragments&&n.fragments.forEach((t=>{t.level=e}))}))}function We(t){switch(t.details){case y.FRAG_LOAD_TIMEOUT:case y.KEY_LOAD_TIMEOUT:case y.LEVEL_LOAD_TIMEOUT:case y.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Ze(t,e){const n=We(e);return t.default[(n?"timeout":"error")+"Retry"]}function qe(t,e){const n="linear"===t.backoff?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function Xe(t){return s(s({},t),{errorRetry:null,timeoutRetry:null})}function Qe(t,e,n,r){if(!t)return!1;const o=null==r?void 0:r.code,i=e<t.maxNumRetry&&(function(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}(o)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,i):i}const Je=function(t,e){let n=0,r=t.length-1,o=null,i=null;for(;n<=r;){o=(n+r)/2|0,i=t[o];const a=e(i);if(a>0)n=o+1;else{if(!(a<0))return i;r=o-1}}return null};function tn(t,e,n=0,r=0){let o=null;if(t){o=e[t.sn-e[0].sn+1]||null;const r=t.endDTS-n;r>0&&r<15e-7&&(n+=15e-7)}else 0===n&&0===e[0].start&&(o=e[0]);if(o&&(!t||t.level===o.level)&&0===en(n,r,o))return o;const i=Je(e,en.bind(null,n,r));return!i||i===t&&o?o:i}function en(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function nn(t,e,n){const r=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>t}class rn{constructor(t,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=b.log.bind(b,`${e}:`),this.warn=b.warn.bind(b,`${e}:`),this.hls=t}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(t,e){const n=null==e?void 0:e.renditionReports;if(n){let r=-1;for(let o=0;o<n.length;o++){const i=n[o];let a;try{a=new self.URL(i.URI,e.url).href}catch(t){b.warn(`Could not construct new URL for Rendition Report: ${t}`),a=i.URI||""}if(a===t){r=o;break}a===t.substring(0,a.length)&&(r=o)}if(-1!==r){const t=n[r],o=parseInt(t["LAST-MSN"])||(null==e?void 0:e.lastPartSn);let i=parseInt(t["LAST-PART"])||(null==e?void 0:e.lastPartIndex);if(this.hls.config.lowLatencyMode){const t=Math.min(e.age-e.partTarget,e.targetduration);i>=0&&t>e.partTarget&&(i+=1)}return new Me(o,i>=0?i:void 0,"")}}}loadPlaylist(t){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}shouldReloadPlaylist(t){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(t)}playlistLoaded(t,e,n){const{details:r,stats:o}=e,i=self.performance.now(),a=o.loading.first?Math.max(0,i-o.loading.first):0;if(r.advancedDateTime=Date.now()-a,r.live||null!=n&&n.live){if(r.reloaded(n),n&&this.log(`live playlist ${t} ${r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:r.updated?"UPDATED":"MISSED"}`),n&&r.fragments.length>0&&function(t,e){let n=null;const r=t.fragments;for(let t=r.length-1;t>=0;t--){const e=r[t].initSegment;if(e){n=e;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let o,i=0;if(function(t,e,n){const r=e.skippedSegments,o=Math.max(t.startSN,e.startSN)-e.startSN,i=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,s=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let t=o;t<=i;t++){const o=c[a+t];let i=s[t];r&&!i&&t<r&&(i=e.fragments[t]=o),o&&i&&n(o,i)}}(t,e,((t,r)=>{t.relurl&&(i=t.cc-r.cc),l(t.startPTS)&&l(t.endPTS)&&(r.start=r.startPTS=t.startPTS,r.startDTS=t.startDTS,r.maxStartPTS=t.maxStartPTS,r.endPTS=t.endPTS,r.endDTS=t.endDTS,r.minEndPTS=t.minEndPTS,r.duration=t.endPTS-t.startPTS,r.duration&&(o=r),e.PTSKnown=e.alignedSliding=!0),r.elementaryStreams=t.elementaryStreams,r.loader=t.loader,r.stats=t.stats,t.initSegment&&(r.initSegment=t.initSegment,n=t.initSegment)})),n&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach((t=>{var e;!t||t.initSegment&&t.initSegment.relurl!==(null==(e=n)?void 0:e.relurl)||(t.initSegment=n)})),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some((t=>!t)),e.deltaUpdateFailed){b.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let t=e.skippedSegments;t--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=function(t,e,n){const r=u({},t);return n&&n.forEach((t=>{delete r[t]})),Object.keys(e).forEach((t=>{const n=new C(e[t].attr,r[t]);n.isValid?r[t]=n:b.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[t].attr)}"`)})),r}(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const a=e.fragments;if(i){b.warn("discontinuity sliding from playlist, take drift into account");for(let t=0;t<a.length;t++)a[t].cc+=i}e.skippedSegments&&(e.startCC=e.fragments[0].cc),function(t,e,n){if(t&&e){let r=0;for(let o=0,i=t.length;o<=i;o++){const i=t[o],a=e[o+r];i&&a&&i.index===a.index&&i.fragment.sn===a.fragment.sn?n(i,a):r--}}}(t.partList,e.partList,((t,e)=>{e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),o?$e(e,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):Ve(t,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const s=e.advancedDateTime;if(e.advanced&&s){const t=e.edge;e.driftStart||(e.driftStartTime=s,e.driftStart=t),e.driftEndTime=s,e.driftEnd=t}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}(n,r),!this.canLoad||!r.live)return;let a,s,c;if(r.canBlockReload&&r.endSN&&r.advanced){const t=this.hls.config.lowLatencyMode,o=r.lastPartSn,i=r.endSN,u=r.lastPartIndex,l=o===i;-1!==u?(s=l?i+1:o,c=l?t?0:u:u+1):s=i+1;const f=r.age,h=f+r.ageHeader;let p=Math.min(h-r.partTarget,1.5*r.targetduration);if(p>0){if(n&&p>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${p} with playlist age: ${r.age}`),p=0;else{const t=Math.floor(p/r.targetduration);s+=t,void 0!==c&&(c+=Math.round(p%r.targetduration/r.partTarget)),this.log(`CDN Tune-in age: ${r.ageHeader}s last advanced ${f.toFixed(2)}s goal: ${p} skip sn ${t} to part ${c}`)}r.tuneInGoal=p}if(a=this.getDeliveryDirectives(r,e.deliveryDirectives,s,c),t||!l)return void this.loadPlaylist(a)}else(r.canBlockReload||r.canSkipUntil)&&(a=this.getDeliveryDirectives(r,e.deliveryDirectives,s,c));const f=this.hls.mainForwardBufferInfo,h=f?f.end-f.len:0,p=function(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments,o=4;if(r.length&&n*o>e){const t=1e3*r[r.length-1].duration;t<n&&(n=t)}}else n/=2;return Math.round(n)}(r,1e3*(r.edge-h));r.updated&&i>this.requestScheduled+p&&(this.requestScheduled=o.loading.start),void 0!==s&&r.canBlockReload?this.requestScheduled=o.loading.first+p-(1e3*r.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+p<i?this.requestScheduled=i:this.requestScheduled-i<=0&&(this.requestScheduled+=p);let d=this.requestScheduled-i;d=Math.max(0,d),this.log(`reload live playlist ${t} in ${Math.round(d)} ms`),this.timer=self.setTimeout((()=>this.loadPlaylist(a)),d)}else this.clearTimer()}getDeliveryDirectives(t,e,n,r){let o=function(t,e){const{canSkipUntil:n,canSkipDateRanges:r,endSN:o}=t;return n&&(void 0!==e?e-o:0)<n?r?"v2":"YES":""}(t,n);return null!=e&&e.skip&&t.deltaUpdateFailed&&(n=e.msn,r=e.part,o=""),new Me(n,r,o)}checkRetry(t){const e=t.details,n=We(t),r=t.errorAction,{action:o,retryCount:i=0,retryConfig:a}=r||{},s=!!r&&!!a&&(5===o||!r.resolved&&2===o);if(s){var c;if(this.requestScheduled=-1,i>=a.maxNumRetry)return!1;if(n&&null!=(c=t.context)&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${i+1}/${a.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const t=qe(a,i);this.timer=self.setTimeout((()=>this.loadPlaylist()),t),this.warn(`Retrying playlist loading ${i+1}/${a.maxNumRetry} after "${e}" in ${t}ms`)}t.levelRetry=!0,r.resolved=!0}return s}}class on{constructor(t,e=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=n}sample(t,e){const n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}class an{constructor(t,e,n,r=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new on(t),this.fast_=new on(e),this.defaultTTFB_=r,this.ttfb_=new on(t)}update(t,e){const{slow_:n,fast_:r,ttfb_:o}=this;n.halfLife!==t&&(this.slow_=new on(t,n.getEstimate(),n.getTotalWeight())),r.halfLife!==e&&(this.fast_=new on(e,r.getEstimate(),r.getTotalWeight())),o.halfLife!==t&&(this.ttfb_=new on(t,o.getEstimate(),o.getTotalWeight()))}sample(t,e){const n=(t=Math.max(t,this.minDelayMs_))/1e3,r=8*e/n;this.fast_.sample(n,r),this.slow_.sample(n,r)}sampleTTFB(t){const e=t/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(n,Math.max(t,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const sn={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},cn={};function un(t,e,n,r,o,i){const a=t.audioCodec?t.audioGroups:null,s=null==i?void 0:i.audioCodec,c=null==i?void 0:i.channels,u=c?parseInt(c):s?1/0:2;let f=null;if(null!=a&&a.length)try{f=1===a.length&&a[0]?e.groups[a[0]].channels:a.reduce(((t,n)=>{if(n){const r=e.groups[n];if(!r)throw new Error(`Audio track group ${n} not found`);Object.keys(r.channels).forEach((e=>{t[e]=(t[e]||0)+r.channels[e]}))}return t}),{2:0})}catch(t){return!0}return void 0!==t.videoCodec&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||"SDR"!==t.videoRange&&t.videoRange!==n||t.bitrate>Math.max(o,8e6))||!!f&&l(u)&&Object.keys(f).some((t=>parseInt(t)>u))}function ln(t,e,n){const r=t.videoCodec,o=t.audioCodec;if(!r||!o||!n)return Promise.resolve(sn);const i={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(.9*t.bitrate,t.averageBitrate)),framerate:t.frameRate||30},a=t.videoRange;"SDR"!==a&&(i.transferFunction=a.toLowerCase());const c=r.split(",").map((t=>({type:"media-source",video:s(s({},i),{},{contentType:zt(t,"video")})})));return o&&t.audioGroups&&t.audioGroups.forEach((t=>{var n;t&&(null==(n=e.groups[t])||n.tracks.forEach((e=>{if(e.groupId===t){const t=e.channels||"",n=parseFloat(t);l(n)&&n>2&&c.push.apply(c,o.split(",").map((t=>({type:"media-source",audio:{contentType:zt(t,"audio"),channels:""+n}}))))}})))})),Promise.all(c.map((t=>{const e=function(t){const{audio:e,video:n}=t,r=n||e;if(r){const t=r.contentType.split('"')[1];if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${t}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${t}`}return""}(t);return cn[e]||(cn[e]=n.decodingInfo(t))}))).then((t=>({supported:!t.some((t=>!t.supported)),configurations:c,decodingInfoResults:t}))).catch((t=>({supported:!1,configurations:c,decodingInfoResults:[],error:t})))}function fn(t,e){b.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function hn(t,e,n){if("attrs"in t){const n=e.indexOf(t);if(-1!==n)return n}for(let r=0;r<e.length;r++)if(pn(t,e[r],n))return r;return-1}function pn(t,e,n){const{groupId:r,name:o,lang:i,assocLang:a,characteristics:s,default:c}=t,u=t.forced;return(void 0===r||e.groupId===r)&&(void 0===o||e.name===o)&&(void 0===i||e.lang===i)&&(void 0===i||e.assocLang===a)&&(void 0===c||e.default===c)&&(void 0===u||e.forced===u)&&(void 0===s||function(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some((t=>-1===r.indexOf(t)))}(s,e.characteristics))&&(void 0===n||n(t,e))}function dn(t,e){const{audioCodec:n,channels:r}=t;return!(void 0!==n&&(e.audioCodec||"").substring(0,4)!==n.substring(0,4)||void 0!==r&&r!==(e.channels||"2"))}function yn(t,e,n){for(let r=e;r;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}class vn{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var gn="NOT_LOADED",mn="APPENDING",bn="PARTIAL",wn="OK";class An{constructor(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(p.BUFFER_APPENDED,this.onBufferAppended,this),t.on(p.FRAG_BUFFERED,this.onFragBuffered,this),t.on(p.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:t}=this;t.off(p.BUFFER_APPENDED,this.onBufferAppended,this),t.off(p.FRAG_BUFFERED,this.onFragBuffered,this),t.off(p.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(t,e){const n=this.activePartLists[e];if(n)for(let e=n.length;e--;){const r=n[e];if(!r)break;const o=r.end;if(r.start<=t&&null!==o&&t<=o)return r}return this.getBufferedFrag(t,e)}getBufferedFrag(t,e){const{fragments:n}=this,r=Object.keys(n);for(let o=r.length;o--;){const i=n[r[o]];if((null==i?void 0:i.body.type)===e&&i.buffered){const e=i.body;if(e.start<=t&&t<=e.end)return e}}return null}detectEvictedFragments(t,e,n,r){this.timeRanges&&(this.timeRanges[t]=e);const o=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach((r=>{const i=this.fragments[r];if(!i)return;if(o>=i.body.sn)return;if(!i.buffered&&!i.loaded)return void(i.body.type===n&&this.removeFragment(i.body));const a=i.range[t];a&&a.time.some((t=>{const n=!this.isTimeBuffered(t.startPTS,t.endPTS,e);return n&&this.removeFragment(i.body),n}))}))}detectPartialFragments(t){const e=this.timeRanges,{frag:n,part:r}=t;if(!e||"initSegment"===n.sn)return;const o=En(n),i=this.fragments[o];if(!i||i.buffered&&n.gap)return;const a=!n.relurl;Object.keys(e).forEach((t=>{const o=n.elementaryStreams[t];if(!o)return;const s=e[t],c=a||!0===o.partial;i.range[t]=this.getBufferedTimes(n,r,c,s)})),i.loaded=null,Object.keys(i.range).length?(i.buffered=!0,(i.body.endList=n.endList||i.body.endList)&&(this.endListFragments[i.body.type]=i),xn(i)||this.removeParts(n.sn-1,n.type)):this.removeFragment(i.body)}removeParts(t,e){const n=this.activePartLists[e];n&&(this.activePartLists[e]=n.filter((e=>e.fragment.sn>=t)))}fragBuffered(t,e){const n=En(t);let r=this.fragments[n];!r&&e&&(r=this.fragments[n]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}getBufferedTimes(t,e,n,r){const o={time:[],partial:n},i=t.start,a=t.end,s=t.minEndPTS||a,c=t.maxStartPTS||i;for(let t=0;t<r.length;t++){const e=r.start(t)-this.bufferPadding,n=r.end(t)+this.bufferPadding;if(c>=e&&s<=n){o.time.push({startPTS:Math.max(i,r.start(t)),endPTS:Math.min(a,r.end(t))});break}if(i<n&&a>e){const e=Math.max(i,r.start(t)),n=Math.min(a,r.end(t));n>e&&(o.partial=!0,o.time.push({startPTS:e,endPTS:n}))}else if(a<=e)break}return o}getPartialFragment(t){let e,n,r,o=null,i=0;const{bufferPadding:a,fragments:s}=this;return Object.keys(s).forEach((c=>{const u=s[c];u&&xn(u)&&(n=u.body.start-a,r=u.body.end+a,t>=n&&t<=r&&(e=Math.min(t-n,r-t),i<=e&&(o=u.body,i=e)))})),o}isEndListAppended(t){const e=this.endListFragments[t];return void 0!==e&&(e.buffered||xn(e))}getState(t){const e=En(t),n=this.fragments[e];return n?n.buffered?xn(n)?bn:wn:mn:gn}isTimeBuffered(t,e,n){let r,o;for(let i=0;i<n.length;i++){if(r=n.start(i)-this.bufferPadding,o=n.end(i)+this.bufferPadding,t>=r&&e<=o)return!0;if(e<=r)return!1}return!1}onFragLoaded(t,e){const{frag:n,part:r}=e;if("initSegment"===n.sn||n.bitrateTest)return;const o=r?null:e,i=En(n);this.fragments[i]={body:n,appendedPTS:null,loaded:o,buffered:!1,range:Object.create(null)}}onBufferAppended(t,e){const{frag:n,part:r,timeRanges:o}=e;if("initSegment"===n.sn)return;const i=n.type;if(r){let t=this.activePartLists[i];t||(this.activePartLists[i]=t=[]),t.push(r)}this.timeRanges=o,Object.keys(o).forEach((t=>{const e=o[t];this.detectEvictedFragments(t,e,i,r)}))}onFragBuffered(t,e){this.detectPartialFragments(e)}hasFragment(t){const e=En(t);return!!this.fragments[e]}hasParts(t){var e;return!(null==(e=this.activePartLists[t])||!e.length)}removeFragmentsInRange(t,e,n,r,o){r&&!this.hasGaps||Object.keys(this.fragments).forEach((i=>{const a=this.fragments[i];if(!a)return;const s=a.body;s.type!==n||r&&!s.gap||s.start<e&&s.end>t&&(a.buffered||o)&&this.removeFragment(s)}))}removeFragment(t){const e=En(t);t.stats.loaded=0,t.clearElementaryStreamInfo();const n=this.activePartLists[t.type];if(n){const e=t.sn;this.activePartLists[t.type]=n.filter((t=>t.fragment.sn!==e))}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function xn(t){var e,n,r;return t.buffered&&(t.body.gap||(null==(e=t.range.video)?void 0:e.partial)||(null==(n=t.range.audio)?void 0:n.partial)||(null==(r=t.range.audiovideo)?void 0:r.partial))}function En(t){return`${t.type}_${t.level}_${t.sn}`}const Cn={length:0,start:()=>0,end:()=>0};class kn{static isBuffered(t,e){try{if(t){const n=kn.getBuffered(t);for(let t=0;t<n.length;t++)if(e>=n.start(t)&&e<=n.end(t))return!0}}catch(t){}return!1}static bufferInfo(t,e,n){try{if(t){const r=kn.getBuffered(t),o=[];let i;for(i=0;i<r.length;i++)o.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(o,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(t,e,n){e=Math.max(0,e),t.sort((function(t,e){return t.start-e.start||e.end-t.end}));let r=[];if(n)for(let e=0;e<t.length;e++){const o=r.length;if(o){const i=r[o-1].end;t[e].start-i<n?t[e].end>i&&(r[o-1].end=t[e].end):r.push(t[e])}else r.push(t[e])}else r=t;let o,i=0,a=e,s=e;for(let t=0;t<r.length;t++){const c=r[t].start,u=r[t].end;if(e+n>=c&&e<u)a=c,s=u,i=s-e;else if(e+n<c){o=c;break}}return{len:i,start:a||0,end:s||0,nextStart:o}}static getBuffered(t){try{return t.buffered}catch(t){return b.log("failed to get media.buffered",t),Cn}}}class Ln{constructor(t,e,n,r=0,o=-1,i=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=n,this.size=r,this.part=o,this.partial=i}}function _n(t,e){for(let r=0,o=t.length;r<o;r++){var n;if((null==(n=t[r])?void 0:n.cc)===e)return t[r]}return null}function Sn(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function On(t,e){const n=e.fragments;for(let e=0,r=n.length;e<r;e++)Sn(n[e],t);e.fragmentHint&&Sn(e.fragmentHint,t),e.alignedSliding=!0}function Tn(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let o,i;const a=Math.min(e.endCC,t.endCC);e.startCC<a&&t.startCC<a&&(o=_n(r,a),i=_n(n,a)),o&&i||(o=r[Math.floor(r.length/2)],i=_n(n,o.cc)||n[Math.floor(n.length/2)]);const s=o.programDateTime,c=i.programDateTime;s&&c&&On((c-s)/1e3-(i.start-o.start),t)}const Pn=Math.pow(2,17);class Rn{constructor(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(t,e){const n=t.url;if(!n)return Promise.reject(new Bn({type:d.NETWORK_ERROR,details:y.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a "+(n?"part list":"url")),networkDetails:null}));this.abort();const r=this.config,o=r.fLoader,i=r.loader;return new Promise(((a,c)=>{if(this.loader&&this.loader.destroy(),t.gap){if(t.tagList.some((t=>"GAP"===t[0])))return void c(jn(t));t.gap=!1}const u=this.loader=t.loader=o?new o(r):new i(r),l=In(t),f=Xe(r.fragLoadPolicy.default),h={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:Pn};t.stats=u.stats,u.load(l,h,{onSuccess:(e,n,r,o)=>{this.resetLoader(t,u);let i=e.data;r.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(i.slice(0,16)),i=i.slice(16)),a({frag:t,part:null,payload:i,networkDetails:o})},onError:(e,r,o,i)=>{this.resetLoader(t,u),c(new Bn({type:d.NETWORK_ERROR,details:y.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:s({url:n,data:void 0},e),error:new Error(`HTTP Error ${e.code} ${e.text}`),networkDetails:o,stats:i}))},onAbort:(e,n,r)=>{this.resetLoader(t,u),c(new Bn({type:d.NETWORK_ERROR,details:y.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:r,stats:e}))},onTimeout:(e,n,r)=>{this.resetLoader(t,u),c(new Bn({type:d.NETWORK_ERROR,details:y.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:r,stats:e}))},onProgress:(n,r,o,i)=>{e&&e({frag:t,part:null,payload:o,networkDetails:i})}})}))}loadPart(t,e,n){this.abort();const r=this.config,o=r.fLoader,i=r.loader;return new Promise(((a,c)=>{if(this.loader&&this.loader.destroy(),t.gap||e.gap)return void c(jn(t,e));const u=this.loader=t.loader=o?new o(r):new i(r),l=In(t,e),f=Xe(r.fragLoadPolicy.default),h={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Pn};e.stats=u.stats,u.load(l,h,{onSuccess:(r,o,i,s)=>{this.resetLoader(t,u),this.updateStatsFromPart(t,e);const c={frag:t,part:e,payload:r.data,networkDetails:s};n(c),a(c)},onError:(n,r,o,i)=>{this.resetLoader(t,u),c(new Bn({type:d.NETWORK_ERROR,details:y.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:s({url:l.url,data:void 0},n),error:new Error(`HTTP Error ${n.code} ${n.text}`),networkDetails:o,stats:i}))},onAbort:(n,r,o)=>{t.stats.aborted=e.stats.aborted,this.resetLoader(t,u),c(new Bn({type:d.NETWORK_ERROR,details:y.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error("Aborted"),networkDetails:o,stats:n}))},onTimeout:(n,r,o)=>{this.resetLoader(t,u),c(new Bn({type:d.NETWORK_ERROR,details:y.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:o,stats:n}))}})}))}updateStatsFromPart(t,e){const n=t.stats,r=e.stats,o=r.total;if(n.loaded+=r.loaded,o){const r=Math.round(t.duration/e.duration),i=Math.min(Math.round(n.loaded/o),r),a=(r-i)*Math.round(n.loaded/i);n.total=n.loaded+a}else n.total=Math.max(n.loaded,n.total);const i=n.loading,a=r.loading;i.start?i.first+=a.first-a.start:(i.start=a.start,i.first=a.first),i.end=a.end}resetLoader(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function In(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},o=n.byteRangeStartOffset,i=n.byteRangeEndOffset;if(l(o)&&l(i)){var a;let e=o,n=i;if("initSegment"===t.sn&&"AES-128"===(null==(a=t.decryptdata)?void 0:a.method)){const t=i-o;t%16&&(n=i+(16-t%16)),0!==o&&(r.resetIV=!0,e=o-16)}r.rangeStart=e,r.rangeEnd=n}return r}function jn(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:d.MEDIA_ERROR,details:y.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new Bn(r)}class Bn extends Error{constructor(t){super(t.error.message),this.data=void 0,this.data=t}}class Dn{constructor(t,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=e}decrypt(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)}}class Nn{constructor(t,e){this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class Mn{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(t){const e=new DataView(t),n=new Uint32Array(4);for(let t=0;t<4;t++)n[t]=e.getUint32(4*t);return n}initTable(){const t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],o=n[1],i=n[2],a=n[3],s=this.invSubMix,c=s[0],u=s[1],l=s[2],f=s[3],h=new Uint32Array(256);let p=0,d=0,y=0;for(y=0;y<256;y++)h[y]=y<128?y<<1:y<<1^283;for(y=0;y<256;y++){let n=d^d<<1^d<<2^d<<3^d<<4;n=n>>>8^255&n^99,t[p]=n,e[n]=p;const s=h[p],y=h[s],v=h[y];let g=257*h[n]^16843008*n;r[p]=g<<24|g>>>8,o[p]=g<<16|g>>>16,i[p]=g<<8|g>>>24,a[p]=g,g=16843009*v^65537*y^257*s^16843008*p,c[n]=g<<24|g>>>8,u[n]=g<<16|g>>>16,l[n]=g<<8|g>>>24,f[n]=g,p?(p=s^h[h[h[v^s]]],d^=h[h[d]]):p=d=1}}expandKey(t){const e=this.uint8ArrayToUint32Array_(t);let n=!0,r=0;for(;r<e.length&&n;)n=e[r]===this.key[r],r++;if(n)return;this.key=e;const o=this.keySize=e.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);const i=this.ksRows=4*(o+6+1);let a,s;const c=this.keySchedule=new Uint32Array(i),u=this.invKeySchedule=new Uint32Array(i),l=this.sBox,f=this.rcon,h=this.invSubMix,p=h[0],d=h[1],y=h[2],v=h[3];let g,m;for(a=0;a<i;a++)a<o?g=c[a]=e[a]:(m=g,a%o==0?(m=m<<8|m>>>24,m=l[m>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[255&m],m^=f[a/o|0]<<24):o>6&&a%o==4&&(m=l[m>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[255&m]),c[a]=g=(c[a-o]^m)>>>0);for(s=0;s<i;s++)a=i-s,m=3&s?c[a]:c[a-4],u[s]=s<4||a<=4?m:p[l[m>>>24]]^d[l[m>>>16&255]]^y[l[m>>>8&255]]^v[l[255&m]],u[s]=u[s]>>>0}networkToHostOrderSwap(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}decrypt(t,e,n){const r=this.keySize+6,o=this.invKeySchedule,i=this.invSBox,a=this.invSubMix,s=a[0],c=a[1],u=a[2],l=a[3],f=this.uint8ArrayToUint32Array_(n);let h=f[0],p=f[1],d=f[2],y=f[3];const v=new Int32Array(t),g=new Int32Array(v.length);let m,b,w,A,x,E,C,k,L,_,S,O,T,P;const R=this.networkToHostOrderSwap;for(;e<v.length;){for(L=R(v[e]),_=R(v[e+1]),S=R(v[e+2]),O=R(v[e+3]),x=L^o[0],E=O^o[1],C=S^o[2],k=_^o[3],T=4,P=1;P<r;P++)m=s[x>>>24]^c[E>>16&255]^u[C>>8&255]^l[255&k]^o[T],b=s[E>>>24]^c[C>>16&255]^u[k>>8&255]^l[255&x]^o[T+1],w=s[C>>>24]^c[k>>16&255]^u[x>>8&255]^l[255&E]^o[T+2],A=s[k>>>24]^c[x>>16&255]^u[E>>8&255]^l[255&C]^o[T+3],x=m,E=b,C=w,k=A,T+=4;m=i[x>>>24]<<24^i[E>>16&255]<<16^i[C>>8&255]<<8^i[255&k]^o[T],b=i[E>>>24]<<24^i[C>>16&255]<<16^i[k>>8&255]<<8^i[255&x]^o[T+1],w=i[C>>>24]<<24^i[k>>16&255]<<16^i[x>>8&255]<<8^i[255&E]^o[T+2],A=i[k>>>24]<<24^i[x>>16&255]<<16^i[E>>8&255]<<8^i[255&C]^o[T+3],g[e]=R(m^h),g[e+1]=R(A^p),g[e+2]=R(w^d),g[e+3]=R(b^y),h=L,p=_,d=S,y=O,e+=4}return g.buffer}}class Fn{constructor(t,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=t.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const t=self.crypto;t&&(this.subtle=t.subtle||t.webkitSubtle)}catch(t){}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:t,remainderData:e}=this;if(!t||e)return this.reset(),null;const n=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?function(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?z(t,0,e-n):t}(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(t,e,n){return this.useSoftware?new Promise(((r,o)=>{this.softwareDecrypt(new Uint8Array(t),e,n);const i=this.flush();i?r(i.buffer):o(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(t),e,n)}softwareDecrypt(t,e,n){const{currentIV:r,currentResult:o,remainderData:i}=this;this.logOnce("JS AES decrypt"),i&&(t=Tt(i,t),this.remainderData=null);const a=this.getValidChunk(t);if(!a.length)return null;r&&(n=r);let s=this.softwareDecrypter;s||(s=this.softwareDecrypter=new Mn),s.expandKey(e);const c=o;return this.currentResult=s.decrypt(a.buffer,0,n),this.currentIV=z(a,-16).buffer,c||null}webCryptoDecrypt(t,e,n){const r=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new Nn(r,e)),this.fastAesKey.expandKey().then((e=>r?(this.logOnce("WebCrypto AES decrypt"),new Dn(r,new Uint8Array(n)).decrypt(t.buffer,e)):Promise.reject(new Error("web crypto not initialized")))).catch((r=>(b.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${r.name}: ${r.message}`),this.onWebCryptoError(t,e,n))))}onWebCryptoError(t,e,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,n);const r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(t){let e=t;const n=t.length-t.length%16;return n!==t.length&&(e=z(t,0,n),this.remainderData=z(t,n)),e}logOnce(t){this.logEnabled&&(b.log(`[decrypter]: ${t}`),this.logEnabled=!1)}}const Un="STOPPED",Gn="IDLE",$n="KEY_LOADING",Vn="FRAG_LOADING",Hn="FRAG_LOADING_WAITING_RETRY",Kn="WAITING_TRACK",Yn="PARSING",zn="PARSED",Wn="ENDED",Zn="ERROR",qn="WAITING_INIT_PTS",Xn="WAITING_LEVEL";class Qn extends vn{constructor(t,e,n,r,o){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Un,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=o,this.logPrefix=r,this.log=b.log.bind(b,`${r}:`),this.warn=b.warn.bind(b,`${r}:`),this.hls=t,this.fragmentLoader=new Rn(t.config),this.keyLoader=n,this.fragmentTracker=e,this.config=t.config,this.decrypter=new Fn(t.config),t.on(p.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(t){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Un}_streamEnded(t,e){if(e.live||t.nextStart||!t.end||!this.media)return!1;const n=e.partList;if(null!=n&&n.length){const t=n[n.length-1];return kn.isBuffered(this.media,t.start+t.duration/2)}const r=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(r)}getLevelDetails(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levelLastLoaded)?void 0:t.details}onMediaAttached(t,e){const n=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const r=this.config;this.levels&&r.autoStartLoad&&this.state===Un&&this.startLoad(r.startPosition)}onMediaDetaching(){const t=this.media;null!=t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&this.onvseeking&&this.onvended&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:t,fragCurrent:e,media:n,mediaBuffer:r,state:o}=this,i=n?n.currentTime:0,a=kn.bufferInfo(r||n,i,t.maxBufferHole);if(this.log(`media seeking to ${l(i)?i.toFixed(3):i}, state: ${o}`),this.state===Wn)this.resetLoadingState();else if(e){const n=t.maxFragLookUpTolerance,r=e.start-n,o=e.start+e.duration+n;if(!a.len||o<a.start||r>a.end){const t=i>o;(i<r||t)&&(t&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(i,1/0,this.playlistType,!0),this.lastCurrentTime=i),this.loadedmetadata||a.len||(this.nextLoadPosition=this.startPosition=i),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(t,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(p.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=Un,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(t,e,n){this._loadFragForPlayback(t,e,n)}_loadFragForPlayback(t,e,n){this._doFragLoad(t,e,n,(e=>{if(this.fragContextChanged(t))return this.warn(`Fragment ${t.sn}${e.part?" p: "+e.part.index:""} of level ${t.level} was dropped during download.`),void this.fragmentTracker.removeFragment(t);t.stats.chunkCount++,this._handleFragmentLoadProgress(e)})).then((e=>{if(!e)return;const n=this.state;this.fragContextChanged(t)?(n===Vn||!this.fragCurrent&&n===Yn)&&(this.fragmentTracker.removeFragment(t),this.state=Gn):("payload"in e&&(this.log(`Loaded fragment ${t.sn} of level ${t.level}`),this.hls.trigger(p.FRAG_LOADED,e)),this._handleFragmentLoadComplete(e))})).catch((e=>{this.state!==Un&&this.state!==Zn&&(this.warn(e),this.resetFragmentLoading(t))}))}clearTrackerIfNeeded(t){var e;const{fragmentTracker:n}=this;if(n.getState(t)===mn){const e=t.type,r=this.getFwdBufferInfo(this.mediaBuffer,e),o=Math.max(t.duration,r?r.len:this.config.maxBufferLength);this.reduceMaxBufferLength(o)&&n.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?n.removeAllFragments():n.hasParts(t.type)&&(n.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),n.getState(t)===bn&&n.removeFragment(t))}checkLiveUpdate(t){if(t.updated&&!t.live){const e=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)}flushMainBuffer(t,e,n=null){if(!(t-e))return;const r={startOffset:t,endOffset:e,type:n};this.hls.trigger(p.BUFFER_FLUSHING,r)}_loadInitSegment(t,e){this._doFragLoad(t,e).then((e=>{if(!e||this.fragContextChanged(t)||!this.levels)throw new Error("init load aborted");return e})).then((e=>{const{hls:n}=this,{payload:r}=e,o=t.decryptdata;if(r&&r.byteLength>0&&null!=o&&o.key&&o.iv&&"AES-128"===o.method){const i=self.performance.now();return this.decrypter.decrypt(new Uint8Array(r),o.key.buffer,o.iv.buffer).catch((e=>{throw n.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((r=>{const o=self.performance.now();return n.trigger(p.FRAG_DECRYPTED,{frag:t,payload:r,stats:{tstart:i,tdecrypt:o}}),e.payload=r,this.completeInitSegmentLoad(e)}))}return this.completeInitSegmentLoad(e)})).catch((e=>{this.state!==Un&&this.state!==Zn&&(this.warn(e),this.resetFragmentLoading(t))}))}completeInitSegmentLoad(t){const{levels:e}=this;if(!e)throw new Error("init load aborted, missing levels");const n=t.frag.stats;this.state=Gn,t.frag.data=new Uint8Array(t.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}fragContextChanged(t){const{fragCurrent:e}=this;return!t||!e||t.sn!==e.sn||t.level!==e.level}fragBufferedComplete(t,e){var n,r,o,i;const a=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${t.type} sn: ${t.sn}${e?" part: "+e.index:""} of ${this.playlistType===ge?"level":"track"} ${t.level} (frag:[${(null!=(n=t.startPTS)?n:NaN).toFixed(3)}-${(null!=(r=t.endPTS)?r:NaN).toFixed(3)}] > buffer:${a?function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}(kn.getBuffered(a)):"(detached)"})`),"initSegment"!==t.sn){var s;if(t.type!==be){const e=t.elementaryStreams;if(!Object.keys(e).some((t=>!!e[t])))return void(this.state=Gn)}const e=null==(s=this.levels)?void 0:s[t.level];null!=e&&e.fragmentError&&(this.log(`Resetting level fragment error count of ${e.fragmentError} on frag buffered`),e.fragmentError=0)}this.state=Gn,a&&(!this.loadedmetadata&&t.type==ge&&a.buffered.length&&(null==(o=this.fragCurrent)?void 0:o.sn)===(null==(i=this.fragPrevious)?void 0:i.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(t){const{transmuxer:e}=this;if(!e)return;const{frag:n,part:r,partsLoaded:o}=t,i=!o||0===o.length||o.some((t=>!t)),a=new Ln(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!i);e.flush(a)}_handleFragmentLoadProgress(t){}_doFragLoad(t,e,n=null,r){var o;const i=null==e?void 0:e.details;if(!this.levels||!i)throw new Error(`frag load aborted, missing level${i?"":" detail"}s`);let a=null;if(!t.encrypted||null!=(o=t.decryptdata)&&o.key?!t.encrypted&&i.encryptedFragments.length&&this.keyLoader.loadClear(t,i.encryptedFragments):(this.log(`Loading key for ${t.sn} of [${i.startSN}-${i.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${t.level}`),this.state=$n,this.fragCurrent=t,a=this.keyLoader.load(t).then((t=>{if(!this.fragContextChanged(t.frag))return this.hls.trigger(p.KEY_LOADED,t),this.state===$n&&(this.state=Gn),t})),this.hls.trigger(p.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),n=Math.max(t.start,n||0),this.config.lowLatencyMode&&"initSegment"!==t.sn){const o=i.partList;if(o&&r){n>t.end&&i.fragmentHint&&(t=i.fragmentHint);const s=this.getNextPart(o,t,n);if(s>-1){const c=o[s];let u;return this.log(`Loading part sn: ${t.sn} p: ${c.index} cc: ${t.cc} of playlist [${i.startSN}-${i.endSN}] parts [0-${s}-${o.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${t.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=c.start+c.duration,this.state=Vn,u=a?a.then((n=>!n||this.fragContextChanged(n.frag)?null:this.doFragPartsLoad(t,c,e,r))).catch((t=>this.handleFragLoadError(t))):this.doFragPartsLoad(t,c,e,r).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(p.FRAG_LOADING,{frag:t,part:c,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):u}if(!t.url||this.loadedEndOfParts(o,n))return Promise.resolve(null)}}this.log(`Loading fragment ${t.sn} cc: ${t.cc} ${i?"of ["+i.startSN+"-"+i.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${t.level}, target: ${parseFloat(n.toFixed(3))}`),l(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=Vn;const s=this.config.progressive;let c;return c=s&&a?a.then((e=>!e||this.fragContextChanged(null==e?void 0:e.frag)?null:this.fragmentLoader.load(t,r))).catch((t=>this.handleFragLoadError(t))):Promise.all([this.fragmentLoader.load(t,s?r:void 0),a]).then((([t])=>(!s&&t&&r&&r(t),t))).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(p.FRAG_LOADING,{frag:t,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(t,e,n,r){return new Promise(((o,i)=>{var a;const s=[],c=null==(a=n.details)?void 0:a.partList,u=e=>{this.fragmentLoader.loadPart(t,e,r).then((r=>{s[e.index]=r;const i=r.part;this.hls.trigger(p.FRAG_LOADED,r);const a=Ke(n,t.sn,e.index+1)||Ye(c,t.sn,e.index+1);if(!a)return o({frag:t,part:i,partsLoaded:s});u(a)})).catch(i)};u(e)}))}handleFragLoadError(t){if("data"in t){const e=t.data;t.data&&e.details===y.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(p.ERROR,e)}else this.hls.trigger(p.ERROR,{type:d.OTHER_ERROR,details:y.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}_handleTransmuxerFlush(t){const e=this.getCurrentContext(t);if(!e||this.state!==Yn)return void(this.fragCurrent||this.state===Un||this.state===Zn||(this.state=Gn));const{frag:n,part:r,level:o}=e,i=self.performance.now();n.stats.parsing.end=i,r&&(r.stats.parsing.end=i),this.updateLevelTiming(n,r,o,t.partial)}getCurrentContext(t){const{levels:e,fragCurrent:n}=this,{level:r,sn:o,part:i}=t;if(null==e||!e[r])return this.warn(`Levels object was unset while buffering fragment ${o} of level ${r}. The current chunk will not be buffered.`),null;const a=e[r],s=i>-1?Ke(a,o,i):null,c=s?s.fragment:function(t,e,n){if(null==t||!t.details)return null;const r=t.details;let o=r.fragments[e-r.startSN];return o||(o=r.fragmentHint,o&&o.sn===e?o:e<r.startSN&&n&&n.sn===e?n:null)}(a,o,n);return c?(n&&n!==c&&(c.stats=n.stats),{frag:c,part:s,level:a}):null}bufferFragmentData(t,e,n,r,o){var i;if(!t||this.state!==Yn)return;const{data1:a,data2:s}=t;let c=a;if(a&&s&&(c=Tt(a,s)),null==(i=c)||!i.length)return;const u={type:t.type,frag:e,part:n,chunkMeta:r,parent:e.type,data:c};if(this.hls.trigger(p.BUFFER_APPENDING,u),t.dropped&&t.independent&&!n){if(o)return;this.flushBufferGap(e)}}flushBufferGap(t){const e=this.media;if(!e)return;if(!kn.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,t.start);const n=e.currentTime,r=kn.bufferInfo(e,n,0),o=t.duration,i=Math.min(2*this.config.maxFragLookUpTolerance,.25*o),a=Math.max(Math.min(t.start-i,r.end-i),n+i);t.start-a>i&&this.flushMainBuffer(a,t.start)}getFwdBufferInfo(t,e){const n=this.getLoadPosition();return l(n)?this.getFwdBufferInfoAtPos(t,n,e):null}getFwdBufferInfoAtPos(t,e,n){const{config:{maxBufferHole:r}}=this,o=kn.bufferInfo(t,e,r);if(0===o.len&&void 0!==o.nextStart){const i=this.fragmentTracker.getBufferedFrag(e,n);if(i&&o.nextStart<i.end)return kn.bufferInfo(t,e,Math.max(o.nextStart,r))}return o}getMaxBufferLength(t){const{config:e}=this;let n;return n=t?Math.max(8*e.maxBufferSize/t,e.maxBufferLength):e.maxBufferLength,Math.min(n,e.maxMaxBufferLength)}reduceMaxBufferLength(t){const e=this.config,n=t||e.maxBufferLength;return e.maxMaxBufferLength>=n&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(t,e=ge){const n=this.fragmentTracker.getAppendedFrag(t,ge);return n&&"fragment"in n?n.fragment:n}getNextFragment(t,e){const n=e.fragments,r=n.length;if(!r)return null;const{config:o}=this,i=n[0].start;let a;if(e.live){const s=o.initialLiveManifestSize;if(r<s)return this.warn(`Not enough fragments to start playback (have: ${r}, need: ${s})`),null;(!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||t<i)&&(a=this.getInitialLiveFragment(e,n),this.startPosition=this.nextLoadPosition=a?this.hls.liveSyncPosition||a.start:t)}else t<=i&&(a=n[0]);if(!a){const n=o.lowLatencyMode?e.partEnd:e.fragmentEnd;a=this.getFragmentAtPosition(t,n,e)}return this.mapToInitFragWhenRequired(a)}isLoopLoading(t,e){const n=this.fragmentTracker.getState(t);return(n===wn||n===bn&&!!t.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(t,e,n,r,o){const i=t.gap,a=this.getNextFragment(this.nextLoadPosition,e);if(null===a)return a;if(t=a,i&&t&&!t.gap&&n.nextStart){const e=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r);if(null!==e&&n.len+e.len>=o)return this.log(`buffer full after gaps in "${r}" playlist starting at sn: ${t.sn}`),null}return t}mapToInitFragWhenRequired(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment}getNextPart(t,e,n){let r=-1,o=!1,i=!0;for(let a=0,s=t.length;a<s;a++){const s=t[a];if(i=i&&!s.independent,r>-1&&n<s.start)break;const c=s.loaded;c?r=-1:(o||s.independent||i)&&s.fragment===e&&(r=a),o=c}return r}loadedEndOfParts(t,e){const n=t[t.length-1];return n&&e>n.start&&n.loaded}getInitialLiveFragment(t,e){const n=this.fragPrevious;let r=null;if(n){if(t.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),r=function(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!l(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;n=n||0;for(let r=0;r<t.length;++r){const o=t[r];if(nn(e,n,o))return o}return null}(e,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){const o=n.sn+1;if(o>=t.startSN&&o<=t.endSN){const i=e[o-t.startSN];n.cc===i.cc&&(r=i,this.log(`Live playlist, switching playlist, load frag with next SN: ${r.sn}`))}r||(r=function(t,e){return Je(t,(t=>t.cc<e?1:t.cc>e?-1:0))}(e,n.cc),r&&this.log(`Live playlist, switching playlist, load frag with same CC: ${r.sn}`))}}else{const e=this.hls.liveSyncPosition;null!==e&&(r=this.getFragmentAtPosition(e,this.bitrateTest?t.fragmentEnd:t.edge,t))}return r}getFragmentAtPosition(t,e,n){const{config:r}=this;let{fragPrevious:o}=this,{fragments:i,endSN:a}=n;const{fragmentHint:s}=n,c=r.maxFragLookUpTolerance,u=n.partList,l=!!(r.lowLatencyMode&&null!=u&&u.length&&s);let f;if(l&&s&&!this.bitrateTest&&(i=i.concat(s),a=s.sn),f=t<e?tn(o,i,t,t>e-c?0:c):i[i.length-1],f){const t=f.sn-n.startSN,e=this.fragmentTracker.getState(f);if((e===wn||e===bn&&f.gap)&&(o=f),o&&f.sn===o.sn&&(!l||u[0].fragment.sn>f.sn)&&o&&f.level===o.level){const e=i[t+1];f=f.sn<a&&this.fragmentTracker.getState(e)!==wn?e:null}}return f}synchronizeToLiveEdge(t){const{config:e,media:n}=this;if(!n)return;const r=this.hls.liveSyncPosition,o=n.currentTime,i=t.fragments[0].start,a=t.edge,s=o>=i-e.maxFragLookUpTolerance&&o<=a;if(null!==r&&n.duration>r&&(o<r||!s)){const i=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!s&&n.readyState<4||o<a-i)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn(`Playback: ${o.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${r.toFixed(3)}`),n.currentTime=r))}}alignPlaylists(t,e,n){const r=t.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;const o=t.fragments[0].start,i=!e,a=t.alignedSliding&&l(o);if(i||!a&&!o){const{fragPrevious:o}=this;!function(t,e,n){e&&(function(t,e,n){if(function(t,e,n){return!(!e||!(n.endCC>n.startCC||t&&t.cc<n.startCC))}(t,n,e)){const t=function(t,e){const n=t.fragments,r=e.fragments;if(!r.length||!n.length)return void b.log("No fragments to align");const o=_n(n,r[0].cc);if(o&&(!o||o.startPTS))return o;b.log("No frag in previous level to align on")}(n,e);t&&l(t.start)&&(b.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),On(t.start,e))}}(t,n,e),!n.alignedSliding&&e&&Tn(n,e),n.alignedSliding||!e||n.skippedSegments||Ve(e,n))}(o,n,t);const i=t.fragments[0].start;return this.log(`Live playlist sliding: ${i.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${t.startSN} prev-sn: ${o?o.sn:"na"} fragments: ${r}`),i}return o}waitForCdnTuneIn(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)}setStartPosition(t,e){let n=this.startPosition;if(n<e&&(n=-1),-1===n||-1===this.lastCurrentTime){const r=null!==this.startTimeOffset,o=r?this.startTimeOffset:t.startTimeOffset;null!==o&&l(o)?(n=e+o,o<0&&(n+=t.totalduration),n=Math.min(Math.max(e,n),e+t.totalduration),this.log(`Start time offset ${o} found in ${r?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):t.live?n=this.hls.liveSyncPosition||e:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:t}=this;let e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn(`Fragment ${t.sn}${e?" part "+e.index:""} of level ${t.level} was aborted`),this.resetFragmentLoading(t))}resetFragmentLoading(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===Hn)||(this.state=Gn)}onFragmentOrKeyLoadError(t,e){if(e.chunkMeta&&!e.frag){const t=this.getCurrentContext(e.chunkMeta);t&&(e.frag=t.frag)}const n=e.frag;if(!n||n.type!==t||!this.levels)return;var r;if(this.fragContextChanged(n))return void this.warn(`Frag load error must match current frag to retry ${n.url} > ${null==(r=this.fragCurrent)?void 0:r.url}`);const o=e.details===y.FRAG_GAP;o&&this.fragmentTracker.fragBuffered(n,!0);const i=e.errorAction,{action:a,retryCount:s=0,retryConfig:c}=i||{};if(i&&5===a&&c){this.resetStartWhenNotLoaded(this.levelLastLoaded);const r=qe(c,s);this.warn(`Fragment ${n.sn} of ${t} ${n.level} errored with ${e.details}, retrying loading ${s+1}/${c.maxNumRetry} in ${r}ms`),i.resolved=!0,this.retryDate=self.performance.now()+r,this.state=Hn}else if(c&&i){if(this.resetFragmentErrors(t),!(s<c.maxNumRetry))return void b.warn(`${e.details} reached or exceeded max retry (${s})`);o||3===a||(i.resolved=!0)}else 2===(null==i?void 0:i.action)?this.state=Xn:this.state=Zn;this.tickImmediate()}reduceLengthAndFlushBuffer(t){if(this.state===Yn||this.state===zn){const e=t.parent,n=this.getFwdBufferInfo(this.mediaBuffer,e),r=n&&n.len>.5;r&&this.reduceMaxBufferLength(n.len);const o=!r;return o&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),t.frag&&(this.fragmentTracker.removeFragment(t.frag),this.nextLoadPosition=t.frag.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(t){t===me&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Un&&(this.state=Gn)}afterBufferFlushed(t,e,n){if(!t)return;const r=kn.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,r,n),this.state===Wn&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Gn}resetStartWhenNotLoaded(t){if(!this.loadedmetadata){this.startFragRequested=!1;const e=t?t.details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(t){this.warn(`The loading context changed while buffering fragment ${t.sn} of level ${t.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(t=0){this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)}updateLevelTiming(t,e,n,r){var o;const i=n.details;if(i){if(!Object.keys(t.elementaryStreams).reduce(((e,o)=>{const a=t.elementaryStreams[o];if(a){const s=a.endPTS-a.startPTS;if(s<=0)return this.warn(`Could not parse fragment ${t.sn} ${o} duration reliably (${s})`),e||!1;const c=r?0:$e(i,t,a.startPTS,a.endPTS,a.startDTS,a.endDTS);return this.hls.trigger(p.LEVEL_PTS_UPDATED,{details:i,level:n,drift:c,type:o,frag:t,start:a.startPTS,end:a.endPTS}),!0}return e}),!1)&&null===(null==(o=this.transmuxer)?void 0:o.error)){const e=new Error(`Found no media in fragment ${t.sn} of level ${t.level} resetting transmuxer to fallback to playlist timing`);if(0===n.fragmentError&&(n.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)),this.warn(e.message),this.hls.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.FRAG_PARSING_ERROR,fatal:!1,error:e,frag:t,reason:`Found no media in msn ${t.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=zn,this.hls.trigger(p.FRAG_PARSED,{frag:t,part:e})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(t){"demuxerWorker"===t.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(t){const e=this._state;e!==t&&(this._state=t,this.log(`${e}->${t}`))}get state(){return this._state}}class Jn{constructor(){this.chunks=[],this.dataLength=0}push(t){this.chunks.push(t),this.dataLength+=t.length}flush(){const{chunks:t,dataLength:e}=this;let n;return t.length?(n=1===t.length?t[0]:function(t,e){const n=new Uint8Array(e);let r=0;for(let e=0;e<t.length;e++){const o=t[e];n.set(o,r),r+=o.length}return n}(t,e),this.reset(),n):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function tr(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class er{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(t,e,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(t){this.initPTS=t,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(t,e){return!1}appendFrame(t,e,n){}demux(t,e){this.cachedData&&(t=Tt(this.cachedData,t),this.cachedData=null);let n,r=q(t,0),o=r?r.length:0;const i=this._audioTrack,a=this._id3Track,s=r?J(r):void 0,c=t.length;for((null===this.basePTS||0===this.frameIndex&&l(s))&&(this.basePTS=nr(s,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Se,duration:Number.POSITIVE_INFINITY});o<c;){if(this.canParse(t,o)){const e=this.appendFrame(i,t,o);e?(this.frameIndex++,this.lastPTS=e.sample.pts,o+=e.length,n=o):o=c}else Q(t,o)?(r=q(t,o),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Se,duration:Number.POSITIVE_INFINITY}),o+=r.length,n=o):o++;if(o===c&&n!==c){const e=z(t,n);this.cachedData?this.cachedData=Tt(this.cachedData,e):this.cachedData=e}}return{audioTrack:i,videoTrack:tr(),id3Track:a,textTrack:tr()}}demuxSampleAes(t,e,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(t){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:tr(),id3Track:this._id3Track,textTrack:tr()}}destroy(){}}const nr=(t,e,n)=>l(t)?90*t:9e4*e+(n?9e4*n.baseTime/n.timescale:0);function rr(t,e){return 255===t[e]&&240==(246&t[e+1])}function or(t,e){return 1&t[e+1]?7:9}function ir(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function ar(t,e){return e+1<t.length&&rr(t,e)}function sr(t,e){if(ar(t,e)){const n=or(t,e);if(e+n>=t.length)return!1;const r=ir(t,e);if(r<=n)return!1;const o=e+r;return o===t.length||ar(t,o)}return!1}function cr(t,e,n,r,o){if(!t.samplerate){const i=function(t,e,n,r){let o,i,a,s;const c=navigator.userAgent.toLowerCase(),u=r,l=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&e[n+2])>>>6);const f=(60&e[n+2])>>>2;if(!(f>l.length-1))return a=(1&e[n+2])<<2,a|=(192&e[n+3])>>>6,b.log(`manifest codec:${r}, ADTS type:${o}, samplingIndex:${f}`),/firefox/i.test(c)?f>=6?(o=5,s=new Array(4),i=f-3):(o=2,s=new Array(2),i=f):-1!==c.indexOf("android")?(o=2,s=new Array(2),i=f):(o=5,s=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&f>=6?i=f-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(f>=6&&1===a||/vivaldi/i.test(c))||!r&&1===a)&&(o=2,s=new Array(2)),i=f)),s[0]=o<<3,s[0]|=(14&f)>>1,s[1]|=(1&f)<<7,s[1]|=a<<3,5===o&&(s[1]|=(14&i)>>1,s[2]=(1&i)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:l[f],channelCount:a,codec:"mp4a.40."+o,manifestCodec:u};{const e=new Error(`invalid ADTS sampling index:${f}`);t.emit(p.ERROR,p.ERROR,{type:d.MEDIA_ERROR,details:y.FRAG_PARSING_ERROR,fatal:!0,error:e,reason:e.message})}}(e,n,r,o);if(!i)return;t.config=i.config,t.samplerate=i.samplerate,t.channelCount=i.channelCount,t.codec=i.codec,t.manifestCodec=i.manifestCodec,b.log(`parsed codec:${t.codec}, rate:${i.samplerate}, channels:${i.channelCount}`)}}function ur(t){return 9216e4/t}function lr(t,e,n,r,o){const i=r+o*ur(t.samplerate),a=function(t,e){const n=or(t,e);if(e+n<=t.length){const r=ir(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}(e,n);let s;if(a){const{frameLength:r,headerLength:o}=a,c=o+r,u=Math.max(0,n+c-e.length);u?(s=new Uint8Array(c-o),s.set(e.subarray(n+o,e.length),0)):s=e.subarray(n+o,n+c);const l={unit:s,pts:i};return u||t.samples.push(l),{sample:l,length:c,missing:u}}const c=e.length-n;return s=new Uint8Array(c),s.set(e.subarray(n,e.length),0),{sample:{unit:s,pts:i},length:c,missing:-1}}let fr=null;const hr=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],pr=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],dr=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],yr=[0,1,1,4];function vr(t,e,n,r,o){if(n+24>e.length)return;const i=gr(e,n);if(i&&n+i.frameLength<=e.length){const a=r+o*(9e4*i.samplesPerFrame/i.sampleRate),s={unit:e.subarray(n,n+i.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=i.channelCount,t.samplerate=i.sampleRate,t.samples.push(s),{sample:s,length:i.frameLength,missing:0}}}function gr(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,o=t[e+2]>>4&15,i=t[e+2]>>2&3;if(1!==n&&0!==o&&15!==o&&3!==i){const a=t[e+2]>>1&1,s=t[e+3]>>6,c=1e3*hr[14*(3===n?3-r:3===r?3:4)+o-1],u=pr[3*(3===n?0:2===n?1:2)+i],l=3===s?1:2,f=dr[n][r],h=yr[r],p=8*f*h,d=Math.floor(f*c/u+a)*h;if(null===fr){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);fr=t?parseInt(t[1]):0}return!!fr&&fr<=87&&2===r&&c>=224e3&&0===s&&(t[e+3]=128|t[e+3]),{sampleRate:u,channelCount:l,frameLength:d,samplesPerFrame:p}}}function mr(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])}function br(t,e){return e+1<t.length&&mr(t,e)}function wr(t,e){if(e+1<t.length&&mr(t,e)){const n=4,r=gr(t,e);let o=n;null!=r&&r.frameLength&&(o=r.frameLength);const i=e+o;return i===t.length||br(t,i)}return!1}const Ar=/\/emsg[-/]ID3/i,xr=(t,e)=>{let n=0,r=5;e+=r;const o=new Uint32Array(1),i=new Uint32Array(1),a=new Uint8Array(1);for(;r>0;){a[0]=t[e];const s=Math.min(r,8),c=8-s;i[0]=4278190080>>>24+c<<c,o[0]=(a[0]&i[0])>>c,n=n?n<<s|o[0]:o[0],e+=1,r-=s}return n};function Er(t,e,n,r,o){if(n+8>e.length)return-1;if(11!==e[n]||119!==e[n+1])return-1;const i=e[n+4]>>6;if(i>=3)return-1;const a=[48e3,44100,32e3][i],s=63&e[n+4],c=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*s+i];if(n+c>e.length)return-1;const u=e[n+6]>>5;let l=0;2===u?l+=2:(1&u&&1!==u&&(l+=2),4&u&&(l+=2));const f=(e[n+6]<<8|e[n+7])>>12-l&1,h=[2,1,2,3,3,4,4,5][u]+f,p=e[n+5]>>3,d=7&e[n+5],y=new Uint8Array([i<<6|p<<1|d>>2,(3&d)<<6|u<<3|f<<2|s>>4,s<<4&224]),v=r+o*(1536/a*9e4),g=e.subarray(n,n+c);return t.config=y,t.channelCount=h,t.samplerate=a,t.samples.push({unit:g,pts:v}),c}class Cr{constructor(){this.VideoSample=null}createVideoSample(t,e,n,r){return{key:t,frame:!1,pts:e,dts:n,units:[],debug:r,length:0}}getLastNalUnit(t){var e;let n,r=this.VideoSample;if(r&&0!==r.units.length||(r=t[t.length-1]),null!=(e=r)&&e.units){const t=r.units;n=t[t.length-1]}return n}pushAccessUnit(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){const n=e.samples,r=n.length;if(!r)return void e.dropped++;{const e=n[r-1];t.pts=e.pts,t.dts=e.dts}}e.samples.push(t)}t.debug.length&&b.log(t.pts+"/"+t.dts+":"+t.debug)}}class kr{constructor(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");r.set(t.subarray(n,n+o)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o}skipBits(t){let e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(e=(t-=this.bitsAvailable)>>3,t-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}readBits(t){let e=Math.min(this.bitsAvailable,t);const n=this.word>>>32-e;if(t>32&&b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=t-e,e>0&&this.bitsAvailable?n<<e|this.readBits(e):n}skipLZ(){let t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const t=this.skipLZ();return this.readBits(t+1)-1}readEG(){const t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(t){let e,n=8,r=8;for(let o=0;o<t;o++)0!==r&&(e=this.readEG(),r=(n+e+256)%256),n=0===r?n:r}readSPS(){let t,e,n,r=0,o=0,i=0,a=0;const s=this.readUByte.bind(this),c=this.readBits.bind(this),u=this.readUEG.bind(this),l=this.readBoolean.bind(this),f=this.skipBits.bind(this),h=this.skipEG.bind(this),p=this.skipUEG.bind(this),d=this.skipScalingList.bind(this);s();const y=s();if(c(5),f(3),s(),p(),100===y||110===y||122===y||244===y||44===y||83===y||86===y||118===y||128===y){const t=u();if(3===t&&f(1),p(),p(),f(1),l())for(e=3!==t?8:12,n=0;n<e;n++)l()&&d(n<6?16:64)}p();const v=u();if(0===v)u();else if(1===v)for(f(1),h(),h(),t=u(),n=0;n<t;n++)h();p(),f(1);const g=u(),m=u(),b=c(1);0===b&&f(1),f(1),l()&&(r=u(),o=u(),i=u(),a=u());let w=[1,1];if(l()&&l())switch(s()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(g+1)-2*r-2*o),height:(2-b)*(m+1)*16-(b?2:4)*(i+a),pixelRatio:w}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class Lr extends Cr{parseAVCPES(t,e,n,r,o){const i=this.parseAVCNALu(t,n.data);let a,s=this.VideoSample,c=!1;n.data=null,s&&i.length&&!t.audFound&&(this.pushAccessUnit(s,t),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"")),i.forEach((r=>{var i;switch(r.type){case 1:{let e=!1;a=!0;const o=r.data;if(c&&o.length>4){const t=new kr(o).readSliceType();2!==t&&4!==t&&7!==t&&9!==t||(e=!0)}var u;e&&null!=(u=s)&&u.frame&&!s.key&&(this.pushAccessUnit(s,t),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),s.frame=!0,s.key=e;break}case 5:a=!0,null!=(i=s)&&i.frame&&!s.key&&(this.pushAccessUnit(s,t),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),s.key=!0,s.frame=!0;break;case 6:a=!0,It(r.data,1,n.pts,e.samples);break;case 7:{var l,f;a=!0,c=!0;const e=r.data,n=new kr(e).readSPS();if(!t.sps||t.width!==n.width||t.height!==n.height||(null==(l=t.pixelRatio)?void 0:l[0])!==n.pixelRatio[0]||(null==(f=t.pixelRatio)?void 0:f[1])!==n.pixelRatio[1]){t.width=n.width,t.height=n.height,t.pixelRatio=n.pixelRatio,t.sps=[e],t.duration=o;const r=e.subarray(1,4);let i="avc1.";for(let t=0;t<3;t++){let e=r[t].toString(16);e.length<2&&(e="0"+e),i+=e}t.codec=i}break}case 8:a=!0,t.pps=[r.data];break;case 9:a=!0,t.audFound=!0,s&&this.pushAccessUnit(s,t),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"");break;case 12:a=!0;break;default:a=!1,s&&(s.debug+="unknown NAL "+r.type+" ")}s&&a&&s.units.push(r)})),r&&s&&(this.pushAccessUnit(s,t),this.VideoSample=null)}parseAVCNALu(t,e){const n=e.byteLength;let r=t.naluState||0;const o=r,i=[];let a,s,c,u=0,l=-1,f=0;for(-1===r&&(l=0,f=31&e[0],r=0,u=1);u<n;)if(a=e[u++],r)if(1!==r)if(a)if(1===a){if(s=u-r-1,l>=0){const t={data:e.subarray(l,s),type:f};i.push(t)}else{const n=this.getLastNalUnit(t.samples);n&&(o&&u<=4-o&&n.state&&(n.data=n.data.subarray(0,n.data.byteLength-o)),s>0&&(n.data=Tt(n.data,e.subarray(0,s)),n.state=0))}u<n?(c=31&e[u],l=u,f=c,r=0):r=-1}else r=0;else r=3;else r=a?0:2;else r=a?0:1;if(l>=0&&r>=0){const t={data:e.subarray(l,n),type:f,state:r};i.push(t)}if(0===i.length){const n=this.getLastNalUnit(t.samples);n&&(n.data=Tt(n.data,e))}return t.naluState=r,i}}class _r{constructor(t,e,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new Fn(e,{removePKCS7Padding:!1})}decryptBuffer(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(t,e,n){const r=t[e].unit;if(r.length<=16)return;const o=r.subarray(16,r.length-r.length%16),i=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(i).then((o=>{const i=new Uint8Array(o);r.set(i,16),this.decrypter.isSync()||this.decryptAacSamples(t,e+1,n)}))}decryptAacSamples(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32||(this.decryptAacSample(t,e,n),this.decrypter.isSync())))return}}getAvcEncryptedData(t){const e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e);let r=0;for(let e=32;e<t.length-16;e+=160,r+=16)n.set(t.subarray(e,e+16),r);return n}getAvcDecryptedUnit(t,e){const n=new Uint8Array(e);let r=0;for(let e=32;e<t.length-16;e+=160,r+=16)t.set(n.subarray(r,r+16),e);return t}decryptAvcSample(t,e,n,r,o){const i=jt(o.data),a=this.getAvcEncryptedData(i);this.decryptBuffer(a.buffer).then((a=>{o.data=this.getAvcDecryptedUnit(i,a),this.decrypter.isSync()||this.decryptAvcSamples(t,e,n+1,r)}))}decryptAvcSamples(t,e,n,r){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,n=0){if(e>=t.length)return void r();const o=t[e].units;for(;!(n>=o.length);n++){const i=o[n];if(!(i.data.length<=48||1!==i.type&&5!==i.type||(this.decryptAvcSample(t,e,n,r,i),this.decrypter.isSync())))return}}}}const Sr=188;class Or{constructor(t,e,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=t,this.config=e,this.typeSupported=n,this.videoParser=new Lr}static probe(t){const e=Or.syncOffset(t);return e>0&&b.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1!==e}static syncOffset(t){const e=t.length;let n=Math.min(940,e-Sr)+1,r=0;for(;r<n;){let o=!1,i=-1,a=0;for(let s=r;s<e;s+=Sr){if(71!==t[s]||e-s!==Sr&&71!==t[s+Sr]){if(a)return-1;break}if(a++,-1===i&&(i=s,0!==i&&(n=Math.min(i+18612,t.length-Sr)+1)),o||(o=0===Tr(t,s)),o&&a>1&&(0===i&&a>2||s+Sr>n))return i}r++}return-1}static createTrack(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:dt[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}}resetInitSegment(t,e,n,r){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Or.createTrack("video"),this._audioTrack=Or.createTrack("audio",r),this._id3Track=Or.createTrack("id3"),this._txtTrack=Or.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=n,this._duration=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:t,_videoTrack:e,_id3Track:n}=this;t&&(t.pesData=null),e&&(e.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(t,e,n=!1,r=!1){let o;n||(this.sampleAes=null);const i=this._videoTrack,a=this._audioTrack,s=this._id3Track,c=this._txtTrack;let u=i.pid,l=i.pesData,f=a.pid,h=s.pid,v=a.pesData,g=s.pesData,m=null,w=this.pmtParsed,A=this._pmtId,x=t.length;if(this.remainderData&&(x=(t=Tt(this.remainderData,t)).length,this.remainderData=null),x<Sr&&!r)return this.remainderData=t,{audioTrack:a,videoTrack:i,id3Track:s,textTrack:c};const E=Math.max(0,Or.syncOffset(t));x-=(x-E)%Sr,x<t.byteLength&&!r&&(this.remainderData=new Uint8Array(t.buffer,x,t.buffer.byteLength-x));let C=0;for(let e=E;e<x;e+=Sr)if(71===t[e]){const r=!!(64&t[e+1]),p=Tr(t,e);let d;if((48&t[e+3])>>4>1){if(d=e+5+t[e+4],d===e+Sr)continue}else d=e+4;switch(p){case u:r&&(l&&(o=jr(l))&&this.videoParser.parseAVCPES(i,c,o,!1,this._duration),l={data:[],size:0}),l&&(l.data.push(t.subarray(d,e+Sr)),l.size+=e+Sr-d);break;case f:if(r){if(v&&(o=jr(v)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,o);break;case"mp3":this.parseMPEGPES(a,o);break;case"ac3":this.parseAC3PES(a,o)}v={data:[],size:0}}v&&(v.data.push(t.subarray(d,e+Sr)),v.size+=e+Sr-d);break;case h:r&&(g&&(o=jr(g))&&this.parseID3PES(s,o),g={data:[],size:0}),g&&(g.data.push(t.subarray(d,e+Sr)),g.size+=e+Sr-d);break;case 0:r&&(d+=t[d]+1),A=this._pmtId=Pr(t,d);break;case A:{r&&(d+=t[d]+1);const o=Rr(t,d,this.typeSupported,n);u=o.videoPid,u>0&&(i.pid=u,i.segmentCodec=o.segmentVideoCodec),f=o.audioPid,f>0&&(a.pid=f,a.segmentCodec=o.segmentAudioCodec),h=o.id3Pid,h>0&&(s.pid=h),null===m||w||(b.warn(`MPEG-TS PMT found at ${e} after unknown PID '${m}'. Backtracking to sync byte @${E} to parse all TS packets.`),m=null,e=E-188),w=this.pmtParsed=!0;break}case 17:case 8191:break;default:m=p}}else C++;if(C>0){const t=new Error(`Found ${C} TS packet/s that do not start with 0x47`);this.observer.emit(p.ERROR,p.ERROR,{type:d.MEDIA_ERROR,details:y.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message})}i.pesData=l,a.pesData=v,s.pesData=g;const k={audioTrack:a,videoTrack:i,id3Track:s,textTrack:c};return r&&this.extractRemainingSamples(k),k}flush(){const{remainderData:t}=this;let e;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(t){const{audioTrack:e,videoTrack:n,id3Track:r,textTrack:o}=t,i=n.pesData,a=e.pesData,s=r.pesData;let c;if(i&&(c=jr(i))?(this.videoParser.parseAVCPES(n,o,c,!0,this._duration),n.pesData=null):n.pesData=i,a&&(c=jr(a))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,c);break;case"mp3":this.parseMPEGPES(e,c);break;case"ac3":this.parseAC3PES(e,c)}e.pesData=null}else null!=a&&a.size&&b.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=a;s&&(c=jr(s))?(this.parseID3PES(r,c),r.pesData=null):r.pesData=s}demuxSampleAes(t,e,n){const r=this.demux(t,n,!0,!this.config.progressive),o=this.sampleAes=new _r(this.observer,this.config,e);return this.decrypt(r,o)}decrypt(t,e){return new Promise((n=>{const{audioTrack:r,videoTrack:o}=t;r.samples&&"aac"===r.segmentCodec?e.decryptAacSamples(r.samples,0,(()=>{o.samples?e.decryptAvcSamples(o.samples,0,0,(()=>{n(t)})):n(t)})):o.samples&&e.decryptAvcSamples(o.samples,0,0,(()=>{n(t)}))}))}destroy(){this._duration=0}parseAACPES(t,e){let n=0;const r=this.aacOverFlow;let o,i,a,s=e.data;if(r){this.aacOverFlow=null;const e=r.missing,o=r.sample.unit.byteLength;if(-1===e)s=Tt(r.sample.unit,s);else{const i=o-e;r.sample.unit.set(s.subarray(0,e),i),t.samples.push(r.sample),n=r.missing}}for(o=n,i=s.length;o<i-1&&!ar(s,o);o++);if(o!==n){let t;const e=o<i-1;t=e?`AAC PES did not start with ADTS header,offset:${o}`:"No ADTS header found in AAC PES";const n=new Error(t);if(b.warn(`parsing error: ${t}`),this.observer.emit(p.ERROR,p.ERROR,{type:d.MEDIA_ERROR,details:y.FRAG_PARSING_ERROR,fatal:!1,levelRetry:e,error:n,reason:t}),!e)return}if(cr(t,this.observer,s,o,this.audioCodec),void 0!==e.pts)a=e.pts;else{if(!r)return void b.warn("[tsdemuxer]: AAC PES unknown PTS");{const e=ur(t.samplerate);a=r.sample.pts+e}}let c,u=0;for(;o<i;){if(c=lr(t,s,o,a,u),o+=c.length,c.missing){this.aacOverFlow=c;break}for(u++;o<i-1&&!ar(s,o);o++);}}parseMPEGPES(t,e){const n=e.data,r=n.length;let o=0,i=0;const a=e.pts;if(void 0!==a)for(;i<r;)if(br(n,i)){const e=vr(t,n,i,a,o);if(!e)break;i+=e.length,o++}else i++;else b.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(t,e){{const n=e.data,r=e.pts;if(void 0===r)return void b.warn("[tsdemuxer]: AC3 PES unknown PTS");const o=n.length;let i,a=0,s=0;for(;s<o&&(i=Er(t,n,s,r,a++))>0;)s+=i}}parseID3PES(t,e){if(void 0===e.pts)return void b.warn("[tsdemuxer]: ID3 PES unknown PTS");const n=u({},e,{type:this._videoTrack?Oe:Se,duration:Number.POSITIVE_INFINITY});t.samples.push(n)}}function Tr(t,e){return((31&t[e+1])<<8)+t[e+2]}function Pr(t,e){return(31&t[e+10])<<8|t[e+11]}function Rr(t,e,n,r){const o={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},i=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<i;){const i=Tr(t,e),a=(15&t[e+3])<<8|t[e+4];switch(t[e]){case 207:if(!r){Ir("ADTS AAC");break}case 15:-1===o.audioPid&&(o.audioPid=i);break;case 21:-1===o.id3Pid&&(o.id3Pid=i);break;case 219:if(!r){Ir("H.264");break}case 27:-1===o.videoPid&&(o.videoPid=i,o.segmentVideoCodec="avc");break;case 3:case 4:n.mpeg||n.mp3?-1===o.audioPid&&(o.audioPid=i,o.segmentAudioCodec="mp3"):b.log("MPEG audio found, not supported in this browser");break;case 193:if(!r){Ir("AC-3");break}case 129:n.ac3?-1===o.audioPid&&(o.audioPid=i,o.segmentAudioCodec="ac3"):b.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===o.audioPid&&a>0){let r=e+5,s=a;for(;s>2;){106===t[r]&&(!0!==n.ac3?b.log("AC-3 audio found, not supported in this browser for now"):(o.audioPid=i,o.segmentAudioCodec="ac3"));const e=t[r+1]+2;r+=e,s-=e}}break;case 194:case 135:b.warn("Unsupported EC-3 in M2TS found");break;case 36:b.warn("Unsupported HEVC in M2TS found")}e+=a+5}return o}function Ir(t){b.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function jr(t){let e,n,r,o,i,a=0;const s=t.data;if(!t||0===t.size)return null;for(;s[0].length<19&&s.length>1;)s[0]=Tt(s[0],s[1]),s.splice(1,1);if(e=s[0],1===(e[0]<<16)+(e[1]<<8)+e[2]){if(n=(e[4]<<8)+e[5],n&&n>t.size-6)return null;const c=e[7];192&c&&(o=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&c?(i=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,o-i>54e5&&(b.warn(`${Math.round((o-i)/9e4)}s delta between PTS and DTS, align them`),o=i)):i=o),r=e[8];let u=r+9;if(t.size<=u)return null;t.size-=u;const l=new Uint8Array(t.size);for(let t=0,n=s.length;t<n;t++){e=s[t];let n=e.byteLength;if(u){if(u>n){u-=n;continue}e=e.subarray(u),n-=u,u=0}l.set(e,a),a+=n}return n&&(n-=r+3),{data:l,pts:o,dts:i,len:n}}return null}class Br{static getSilentFrame(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const Dr=Math.pow(2,32)-1;class Nr{static init(){let t;for(t in Nr.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},Nr.types)Nr.types.hasOwnProperty(t)&&(Nr.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Nr.HDLR_TYPES={video:e,audio:n};const r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);Nr.STTS=Nr.STSC=Nr.STCO=o,Nr.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Nr.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Nr.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Nr.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const i=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),s=new Uint8Array([0,0,0,1]);Nr.FTYP=Nr.box(Nr.types.ftyp,i,s,i,a),Nr.DINF=Nr.box(Nr.types.dinf,Nr.box(Nr.types.dref,r))}static box(t,...e){let n=8,r=e.length;const o=r;for(;r--;)n+=e[r].byteLength;const i=new Uint8Array(n);for(i[0]=n>>24&255,i[1]=n>>16&255,i[2]=n>>8&255,i[3]=255&n,i.set(t,4),r=0,n=8;r<o;r++)i.set(e[r],n),n+=e[r].byteLength;return i}static hdlr(t){return Nr.box(Nr.types.hdlr,Nr.HDLR_TYPES[t])}static mdat(t){return Nr.box(Nr.types.mdat,t)}static mdhd(t,e){e*=t;const n=Math.floor(e/(Dr+1)),r=Math.floor(e%(Dr+1));return Nr.box(Nr.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}static mdia(t){return Nr.box(Nr.types.mdia,Nr.mdhd(t.timescale,t.duration),Nr.hdlr(t.type),Nr.minf(t))}static mfhd(t){return Nr.box(Nr.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}static minf(t){return"audio"===t.type?Nr.box(Nr.types.minf,Nr.box(Nr.types.smhd,Nr.SMHD),Nr.DINF,Nr.stbl(t)):Nr.box(Nr.types.minf,Nr.box(Nr.types.vmhd,Nr.VMHD),Nr.DINF,Nr.stbl(t))}static moof(t,e,n){return Nr.box(Nr.types.moof,Nr.mfhd(t),Nr.traf(n,e))}static moov(t){let e=t.length;const n=[];for(;e--;)n[e]=Nr.trak(t[e]);return Nr.box.apply(null,[Nr.types.moov,Nr.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(Nr.mvex(t)))}static mvex(t){let e=t.length;const n=[];for(;e--;)n[e]=Nr.trex(t[e]);return Nr.box.apply(null,[Nr.types.mvex,...n])}static mvhd(t,e){e*=t;const n=Math.floor(e/(Dr+1)),r=Math.floor(e%(Dr+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Nr.box(Nr.types.mvhd,o)}static sdtp(t){const e=t.samples||[],n=new Uint8Array(4+e.length);let r,o;for(r=0;r<e.length;r++)o=e[r].flags,n[r+4]=o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy;return Nr.box(Nr.types.sdtp,n)}static stbl(t){return Nr.box(Nr.types.stbl,Nr.stsd(t),Nr.box(Nr.types.stts,Nr.STTS),Nr.box(Nr.types.stsc,Nr.STSC),Nr.box(Nr.types.stsz,Nr.STSZ),Nr.box(Nr.types.stco,Nr.STCO))}static avc1(t){let e,n,r,o=[],i=[];for(e=0;e<t.sps.length;e++)n=t.sps[e],r=n.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));for(e=0;e<t.pps.length;e++)n=t.pps[e],r=n.byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));const a=Nr.box(Nr.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(i))),s=t.width,c=t.height,u=t.pixelRatio[0],l=t.pixelRatio[1];return Nr.box(Nr.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,Nr.box(Nr.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Nr.box(Nr.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,l>>24,l>>16&255,l>>8&255,255&l])))}static esds(t){const e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))}static audioStsd(t){const e=t.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0])}static mp4a(t){return Nr.box(Nr.types.mp4a,Nr.audioStsd(t),Nr.box(Nr.types.esds,Nr.esds(t)))}static mp3(t){return Nr.box(Nr.types[".mp3"],Nr.audioStsd(t))}static ac3(t){return Nr.box(Nr.types["ac-3"],Nr.audioStsd(t),Nr.box(Nr.types.dac3,t.config))}static stsd(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?Nr.box(Nr.types.stsd,Nr.STSD,Nr.mp3(t)):"ac3"===t.segmentCodec?Nr.box(Nr.types.stsd,Nr.STSD,Nr.ac3(t)):Nr.box(Nr.types.stsd,Nr.STSD,Nr.mp4a(t)):Nr.box(Nr.types.stsd,Nr.STSD,Nr.avc1(t))}static tkhd(t){const e=t.id,n=t.duration*t.timescale,r=t.width,o=t.height,i=Math.floor(n/(Dr+1)),a=Math.floor(n%(Dr+1));return Nr.box(Nr.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,o>>8&255,255&o,0,0]))}static traf(t,e){const n=Nr.sdtp(t),r=t.id,o=Math.floor(e/(Dr+1)),i=Math.floor(e%(Dr+1));return Nr.box(Nr.types.traf,Nr.box(Nr.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),Nr.box(Nr.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,i>>24,i>>16&255,i>>8&255,255&i])),Nr.trun(t,n.length+16+20+8+16+8+8),n)}static trak(t){return t.duration=t.duration||4294967295,Nr.box(Nr.types.trak,Nr.tkhd(t),Nr.mdia(t))}static trex(t){const e=t.id;return Nr.box(Nr.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,e){const n=t.samples||[],r=n.length,o=12+16*r,i=new Uint8Array(o);let a,s,c,u,l,f;for(e+=8+o,i.set(["video"===t.type?1:0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),a=0;a<r;a++)s=n[a],c=s.duration,u=s.size,l=s.flags,f=s.cts,i.set([c>>>24&255,c>>>16&255,c>>>8&255,255&c,u>>>24&255,u>>>16&255,u>>>8&255,255&u,l.isLeading<<2|l.dependsOn,l.isDependedOn<<6|l.hasRedundancy<<4|l.paddingValue<<1|l.isNonSync,61440&l.degradPrio,15&l.degradPrio,f>>>24&255,f>>>16&255,f>>>8&255,255&f],12+16*a);return Nr.box(Nr.types.trun,i)}static initSegment(t){Nr.types||Nr.init();const e=Nr.moov(t);return Tt(Nr.FTYP,e)}}Nr.types=void 0,Nr.HDLR_TYPES=void 0,Nr.STTS=void 0,Nr.STSC=void 0,Nr.STCO=void 0,Nr.STSZ=void 0,Nr.VMHD=void 0,Nr.SMHD=void 0,Nr.STSD=void 0,Nr.FTYP=void 0,Nr.DINF=void 0;function Mr(t,e,n=1,r=!1){const o=t*e*n;return r?Math.round(o):o}function Fr(t,e=!1){return Mr(t,1e3,1/9e4,e)}let Ur,Gr=null,$r=null;class Vr{constructor(t,e,n,r=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=t,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===Gr){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Gr=t?parseInt(t[1]):0}if(null===$r){const t=navigator.userAgent.match(/Safari\/(\d+)/i);$r=t?parseInt(t[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(t){b.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t}resetNextTimestamp(){b.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){b.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(t){let e=!1;const n=t.reduce(((t,n)=>{const r=n.pts-t;return r<-4294967296?(e=!0,Hr(t,n.pts)):r>0?t:n.pts}),t[0].pts);return e&&b.debug("PTS rollover detected"),n}remux(t,e,n,r,o,i,a,s){let c,u,l,f,h,p,d=o,y=o;const v=t.pid>-1,g=e.pid>-1,m=e.samples.length,w=t.samples.length>0,A=a&&m>0||m>1;if((!v||w)&&(!g||A)||this.ISGenerated||a){if(this.ISGenerated){var x,E,C,k;const t=this.videoTrackConfig;!t||e.width===t.width&&e.height===t.height&&(null==(x=e.pixelRatio)?void 0:x[0])===(null==(E=t.pixelRatio)?void 0:E[0])&&(null==(C=e.pixelRatio)?void 0:C[1])===(null==(k=t.pixelRatio)?void 0:k[1])||this.resetInitSegment()}else l=this.generateIS(t,e,o,i);const n=this.isVideoContiguous;let r,a=-1;if(A&&(a=function(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!n&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,a>0){b.warn(`[mp4-remuxer]: Dropped ${a} out of ${m} video samples due to a missing keyframe`);const t=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(a),e.dropped+=a,y+=(e.samples[0].pts-t)/e.inputTimeScale,r=y}else-1===a&&(b.warn(`[mp4-remuxer]: No keyframe found out of ${m} video samples`),p=!1);if(this.ISGenerated){if(w&&A){const n=this.getVideoStartPts(e.samples),r=(Hr(t.samples[0].pts,n)-n)/e.inputTimeScale;d+=Math.max(0,r),y+=Math.max(0,-r)}if(w){if(t.samplerate||(b.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),l=this.generateIS(t,e,o,i)),u=this.remuxAudio(t,d,this.isAudioContiguous,i,g||A||s===me?y:void 0),A){const r=u?u.endPTS-u.startPTS:0;e.inputTimeScale||(b.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),l=this.generateIS(t,e,o,i)),c=this.remuxVideo(e,y,n,r)}}else A&&(c=this.remuxVideo(e,y,n,0));c&&(c.firstKeyFrame=a,c.independent=-1!==a,c.firstKeyFramePTS=r)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=Kr(n,o,this._initPTS,this._initDTS)),r.samples.length&&(f=Yr(r,o,this._initPTS))),{audio:u,video:c,initSegment:l,independent:p,text:f,id3:h}}generateIS(t,e,n,r){const o=t.samples,i=e.samples,a=this.typeSupported,s={},c=this._initPTS;let u,l,f,h=!c||r,p="audio/mp4";if(h&&(u=l=1/0),t.config&&o.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":a.mpeg?(p="audio/mpeg",t.codec=""):a.mp3&&(t.codec="mp3");break;case"ac3":t.codec="ac-3"}s.audio={id:"audio",container:p,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&a.mpeg?new Uint8Array(0):Nr.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(f=t.inputTimeScale,c&&f===c.timescale?h=!1:u=l=o[0].pts-Math.round(f*n))}if(e.sps&&e.pps&&i.length){if(e.timescale=e.inputTimeScale,s.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:Nr.initSegment([e]),metadata:{width:e.width,height:e.height}},h)if(f=e.inputTimeScale,c&&f===c.timescale)h=!1;else{const t=this.getVideoStartPts(i),e=Math.round(f*n);l=Math.min(l,Hr(i[0].dts,t)-e),u=Math.min(u,t-e)}this.videoTrackConfig={width:e.width,height:e.height,pixelRatio:e.pixelRatio}}if(Object.keys(s).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:u,timescale:f},this._initDTS={baseTime:l,timescale:f}):u=f=void 0,{tracks:s,initPTS:u,timescale:f}}remuxVideo(t,e,n,r){const o=t.inputTimeScale,i=t.samples,a=[],s=i.length,c=this._initPTS;let l,f,h=this.nextAvcDts,v=8,g=this.videoSampleDuration,m=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,A=!1;if(!n||null===h){const t=e*o,r=i[0].pts-Hr(i[0].dts,i[0].pts);Gr&&null!==h&&Math.abs(t-r-h)<15e3?n=!0:h=t-r}const x=c.baseTime*o/c.timescale;for(let t=0;t<s;t++){const e=i[t];e.pts=Hr(e.pts-x,h),e.dts=Hr(e.dts-x,h),e.dts<i[t>0?t-1:t].dts&&(A=!0)}A&&i.sort((function(t,e){const n=t.dts-e.dts,r=t.pts-e.pts;return n||r})),l=i[0].dts,f=i[i.length-1].dts;const E=f-l,C=E?Math.round(E/(s-1)):g||t.inputTimeScale/30;if(n){const t=l-h,n=t>C,r=t<-1;if((n||r)&&(n?b.warn(`AVC: ${Fr(t,!0)} ms (${t}dts) hole between fragments detected at ${e.toFixed(3)}`):b.warn(`AVC: ${Fr(-t,!0)} ms (${t}dts) overlapping between fragments detected at ${e.toFixed(3)}`),!r||h>=i[0].pts||Gr)){l=h;const e=i[0].pts-t;if(n)i[0].dts=l,i[0].pts=e;else for(let n=0;n<i.length&&!(i[n].dts>e);n++)i[n].dts-=t,i[n].pts-=t;b.log(`Video: Initial PTS/DTS adjusted: ${Fr(e,!0)}/${Fr(l,!0)}, delta: ${Fr(t,!0)} ms`)}}l=Math.max(0,l);let k=0,L=0,_=l;for(let t=0;t<s;t++){const e=i[t],n=e.units,r=n.length;let o=0;for(let t=0;t<r;t++)o+=n[t].data.length;L+=o,k+=r,e.length=o,e.dts<_?(e.dts=_,_+=C/4|0||1):_=e.dts,m=Math.min(e.pts,m),w=Math.max(e.pts,w)}f=i[s-1].dts;const S=L+4*k+8;let O;try{O=new Uint8Array(S)}catch(t){return void this.observer.emit(p.ERROR,p.ERROR,{type:d.MUX_ERROR,details:y.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:S,reason:`fail allocating video mdat ${S}`})}const T=new DataView(O.buffer);T.setUint32(0,S),O.set(Nr.types.mdat,4);let P=!1,R=Number.POSITIVE_INFINITY,I=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY,B=Number.NEGATIVE_INFINITY;for(let t=0;t<s;t++){const e=i[t],n=e.units;let c,u=0;for(let t=0,e=n.length;t<e;t++){const e=n[t],r=e.data,o=e.data.byteLength;T.setUint32(v,o),v+=4,O.set(r,v),v+=o,u+=4+o}if(t<s-1)g=i[t+1].dts-e.dts,c=i[t+1].pts-e.pts;else{const n=this.config,a=t>0?e.dts-i[t-1].dts:C;if(c=t>0?e.pts-i[t-1].pts:C,n.stretchShortVideoTrack&&null!==this.nextAudioPts){const t=Math.floor(n.maxBufferHole*o),i=(r?m+r*o:this.nextAudioPts)-e.pts;i>t?(g=i-a,g<0?g=a:P=!0,b.log(`[mp4-remuxer]: It is approximately ${i/90} ms to the next segment; using duration ${g/90} ms for the last video frame.`)):g=a}else g=a}const l=Math.round(e.pts-e.dts);R=Math.min(R,g),j=Math.max(j,g),I=Math.min(I,c),B=Math.max(B,c),a.push(new zr(e.key,g,u,l))}if(a.length)if(Gr){if(Gr<70){const t=a[0].flags;t.dependsOn=2,t.isNonSync=0}}else if($r&&B-I<j-R&&C/j<.025&&0===a[0].cts){b.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let t=l;for(let e=0,n=a.length;e<n;e++){const r=t+a[e].duration,o=t+a[e].cts;if(e<n-1){const t=r+a[e+1].cts;a[e].duration=t-o}else a[e].duration=e?a[e-1].duration:C;a[e].cts=0,t=r}}g=P||!g?C:g,this.nextAvcDts=h=f+g,this.videoSampleDuration=g,this.isVideoContiguous=!0;const D={data1:Nr.moof(t.sequenceNumber++,l,u({},t,{samples:a})),data2:O,startPTS:m/o,endPTS:(w+g)/o,startDTS:l/o,endDTS:h/o,type:"video",hasAudio:!1,hasVideo:!0,nb:a.length,dropped:t.dropped};return t.samples=[],t.dropped=0,D}getSamplesPerFrame(t){switch(t.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}remuxAudio(t,e,n,r,o){const i=t.inputTimeScale,a=i/(t.samplerate?t.samplerate:i),s=this.getSamplesPerFrame(t),c=s*a,l=this._initPTS,f="mp3"===t.segmentCodec&&this.typeSupported.mpeg,h=[],v=void 0!==o;let g=t.samples,m=f?0:8,w=this.nextAudioPts||-1;const A=e*i,x=l.baseTime*i/l.timescale;if(this.isAudioContiguous=n=n||g.length&&w>0&&(r&&Math.abs(A-w)<9e3||Math.abs(Hr(g[0].pts-x,A)-w)<20*c),g.forEach((function(t){t.pts=Hr(t.pts-x,A)})),!n||w<0){if(g=g.filter((t=>t.pts>=0)),!g.length)return;w=0===o?0:r&&!v?Math.max(0,A):g[0].pts}if("aac"===t.segmentCodec){const e=this.config.maxAudioFramesDrift;for(let n=0,r=w;n<g.length;n++){const o=g[n],a=o.pts,s=a-r,u=Math.abs(1e3*s/i);if(s<=-e*c&&v)0===n&&(b.warn(`Audio frame @ ${(a/i).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*s/i)} ms.`),this.nextAudioPts=w=r=a);else if(s>=e*c&&u<1e4&&v){let e=Math.round(s/c);r=a-e*c,r<0&&(e--,r+=c),0===n&&(this.nextAudioPts=w=r),b.warn(`[mp4-remuxer]: Injecting ${e} audio frame @ ${(r/i).toFixed(3)}s due to ${Math.round(1e3*s/i)} ms gap.`);for(let i=0;i<e;i++){const e=Math.max(r,0);let i=Br.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);i||(b.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),i=o.unit.subarray()),g.splice(n,0,{unit:i,pts:e}),r+=c,n++}}o.pts=r,r+=c}}let E,C=null,k=null,L=0,_=g.length;for(;_--;)L+=g[_].unit.byteLength;for(let e=0,r=g.length;e<r;e++){const r=g[e],o=r.unit;let i=r.pts;if(null!==k)h[e-1].duration=Math.round((i-k)/a);else{if(n&&"aac"===t.segmentCodec&&(i=w),C=i,!(L>0))return;L+=m;try{E=new Uint8Array(L)}catch(t){return void this.observer.emit(p.ERROR,p.ERROR,{type:d.MUX_ERROR,details:y.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:L,reason:`fail allocating audio mdat ${L}`})}f||(new DataView(E.buffer).setUint32(0,L),E.set(Nr.types.mdat,4))}E.set(o,m);const c=o.byteLength;m+=c,h.push(new zr(!0,s,c,0)),k=i}const S=h.length;if(!S)return;const O=h[h.length-1];this.nextAudioPts=w=k+a*O.duration;const T=f?new Uint8Array(0):Nr.moof(t.sequenceNumber++,C/a,u({},t,{samples:h}));t.samples=[];const P=C/i,R=w/i,I={data1:T,data2:E,startPTS:P,endPTS:R,startDTS:P,endDTS:R,type:"audio",hasAudio:!0,hasVideo:!1,nb:S};return this.isAudioContiguous=!0,I}remuxEmptyAudio(t,e,n,r){const o=t.inputTimeScale,i=o/(t.samplerate?t.samplerate:o),a=this.nextAudioPts,s=this._initDTS,c=9e4*s.baseTime/s.timescale,u=(null!==a?a:r.startDTS*o)+c,l=r.endDTS*o+c,f=1024*i,h=Math.ceil((l-u)/f),p=Br.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(b.warn("[mp4-remuxer]: remux empty Audio"),!p)return void b.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const d=[];for(let t=0;t<h;t++){const e=u+t*f;d.push({unit:p,pts:e,dts:e})}return t.samples=d,this.remuxAudio(t,e,n,!1)}}function Hr(t,e){let n;if(null===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function Kr(t,e,n,r){const o=t.samples.length;if(!o)return;const i=t.inputTimeScale;for(let a=0;a<o;a++){const o=t.samples[a];o.pts=Hr(o.pts-n.baseTime*i/n.timescale,e*i)/i,o.dts=Hr(o.dts-r.baseTime*i/r.timescale,e*i)/i}const a=t.samples;return t.samples=[],{samples:a}}function Yr(t,e,n){const r=t.samples.length;if(!r)return;const o=t.inputTimeScale;for(let i=0;i<r;i++){const r=t.samples[i];r.pts=Hr(r.pts-n.baseTime*o/n.timescale,e*o)/o}t.samples.sort(((t,e)=>t.pts-e.pts));const i=t.samples;return t.samples=[],{samples:i}}class zr{constructor(t,e,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=n,this.cts=r,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}function Wr(t,e){const n=null==t?void 0:t.codec;if(n&&n.length>4)return n;if(e===L){if("ec-3"===n||"ac-3"===n||"alac"===n)return n;if("fLaC"===n||"Opus"===n)return Qt(n,!1);const t="mp4a.40.5";return b.info(`Parsed audio codec "${n}" or audio object type not handled. Using "${t}"`),t}return b.warn(`Unhandled video codec "${n}"`),"hvc1"===n||"hev1"===n?"hvc1.1.6.L120.90":"av01"===n?"av01.0.04M.08":"avc1.42e01e"}try{Ur=self.performance.now.bind(self.performance)}catch(t){b.debug("Unable to use Performance API on this environment"),Ur=null==B?void 0:B.Date.now}const Zr=[{demux:class{constructor(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(t,e,n,r){const o=this.videoTrack=tr("video",1),i=this.audioTrack=tr("audio",1),a=this.txtTrack=tr("text",1);if(this.id3Track=tr("id3",1),this.timeOffset=0,null==t||!t.byteLength)return;const s=Et(t);if(s.video){const{id:t,timescale:e,codec:n}=s.video;o.id=t,o.timescale=a.timescale=e,o.codec=n}if(s.audio){const{id:t,timescale:e,codec:n}=s.audio;i.id=t,i.timescale=e,i.codec=n}a.id=dt.text,o.sampleDuration=0,o.duration=i.duration=r}resetContiguity(){this.remainderData=null}static probe(t){return function(t){const e=t.byteLength;for(let n=0;n<e;){const r=gt(t,n);if(r>8&&109===t[n+4]&&111===t[n+5]&&111===t[n+6]&&102===t[n+7])return!0;n=r>1?n+r:e}return!1}(t)}demux(t,e){this.timeOffset=e;let n=t;const r=this.videoTrack,o=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Tt(this.remainderData,t));const e=function(t){const e={valid:null,remainder:null},n=At(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=z(t,0,r.byteOffset-8),e.remainder=z(t,r.byteOffset-8),e}(n);this.remainderData=e.remainder,r.samples=e.valid||new Uint8Array}else r.samples=n;const i=this.extractID3Track(r,e);return o.samples=Pt(e,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:i,textTrack:this.txtTrack}}flush(){const t=this.timeOffset,e=this.videoTrack,n=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const r=this.extractID3Track(e,this.timeOffset);return n.samples=Pt(t,e),{videoTrack:e,audioTrack:tr(),id3Track:r,textTrack:tr()}}extractID3Track(t,e){const n=this.id3Track;if(t.samples.length){const r=At(t.samples,["emsg"]);r&&r.forEach((t=>{const r=function(t){const e=t[0];let n="",r="",o=0,i=0,a=0,s=0,c=0,u=0;if(0===e){for(;"\0"!==yt(t.subarray(u,u+1));)n+=yt(t.subarray(u,u+1)),u+=1;for(n+=yt(t.subarray(u,u+1)),u+=1;"\0"!==yt(t.subarray(u,u+1));)r+=yt(t.subarray(u,u+1)),u+=1;r+=yt(t.subarray(u,u+1)),u+=1,o=gt(t,12),i=gt(t,16),s=gt(t,20),c=gt(t,24),u=28}else if(1===e){u+=4,o=gt(t,u),u+=4;const e=gt(t,u);u+=4;const i=gt(t,u);for(u+=4,a=2**32*e+i,f(a)||(a=Number.MAX_SAFE_INTEGER,b.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=gt(t,u),u+=4,c=gt(t,u),u+=4;"\0"!==yt(t.subarray(u,u+1));)n+=yt(t.subarray(u,u+1)),u+=1;for(n+=yt(t.subarray(u,u+1)),u+=1;"\0"!==yt(t.subarray(u,u+1));)r+=yt(t.subarray(u,u+1)),u+=1;r+=yt(t.subarray(u,u+1)),u+=1}return{schemeIdUri:n,value:r,timeScale:o,presentationTime:a,presentationTimeDelta:i,eventDuration:s,id:c,payload:t.subarray(u,t.byteLength)}}(t);if(Ar.test(r.schemeIdUri)){const t=l(r.presentationTime)?r.presentationTime/r.timeScale:e+r.presentationTimeDelta/r.timeScale;let o=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;o<=.001&&(o=Number.POSITIVE_INFINITY);const i=r.payload;n.samples.push({data:i,len:i.byteLength,dts:t,pts:t,type:Oe,duration:o})}}))}return n}demuxSampleAes(t,e,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(t){this.initPTS=t,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(t,e,n,r){this.audioCodec=e,this.videoCodec=n,this.generateInitSegment(function(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&At(t,["moov","trak"]).forEach((t=>{const e=At(t,["mdia","minf","stbl","stsd"])[0].subarray(8);let r=At(e,["enca"]);const o=r.length>0;o||(r=At(e,["encv"])),r.forEach((t=>{At(o?t.subarray(28):t.subarray(78),["sinf"]).forEach((t=>{const e=St(t);if(e){const t=e.subarray(8,24);t.some((t=>0!==t))||(b.log(`[eme] Patching keyId in 'enc${o?"a":"v"}>sinf>>tenc' box: ${ft(t)} -> ${ft(n)}`),e.set(n,8))}}))}))})),t}(t,r)),this.emitInitSegment=!0}generateInitSegment(t){let{audioCodec:e,videoCodec:n}=this;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const r=this.initData=Et(t);r.audio&&(e=Wr(r.audio,L)),r.video&&(n=Wr(r.video,_));const o={};r.audio&&r.video?o.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:t,id:"main"}:r.audio?o.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:r.video?o.video={container:"video/mp4",codec:n,initSegment:t,id:"main"}:b.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=o}remux(t,e,n,r,o,i){var a,s;let{initPTS:c,lastEndTime:u}=this;const f={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};l(u)||(u=this.lastEndTime=o||0);const h=e.samples;if(null==h||!h.length)return f;const p={initPTS:void 0,timescale:1};let d=this.initData;if(null!=(a=d)&&a.length||(this.generateInitSegment(h),d=this.initData),null==(s=d)||!s.length)return b.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);const y=function(t,e){let n=0,r=0,o=0;const i=At(t,["moof","traf"]);for(let t=0;t<i.length;t++){const a=i[t],s=At(a,["tfhd"])[0],c=e[gt(s,4)];if(!c)continue;const u=c.default,l=gt(s,0)|(null==u?void 0:u.flags);let f=null==u?void 0:u.duration;8&l&&(f=gt(s,2&l?12:8));const h=c.timescale||9e4,p=At(a,["trun"]);for(let t=0;t<p.length;t++)n=Ot(p[t]),!n&&f&&(n=f*gt(p[t],4)),c.type===_?r+=n/h:c.type===L&&(o+=n/h)}if(0===r&&0===o){let e=1/0,n=0,r=0;const o=At(t,["sidx"]);for(let t=0;t<o.length;t++){const i=xt(o[t]);if(null!=i&&i.references){e=Math.min(e,i.earliestPresentationTime/i.timescale);const t=i.references.reduce(((t,e)=>t+e.info.duration||0),0);n=Math.max(n,t+i.earliestPresentationTime/i.timescale),r=n-e}}if(r&&l(r))return r}return r||o}(h,d),v=function(t,e){return At(e,["moof","traf"]).reduce(((e,n)=>{const r=At(n,["tfdt"])[0],o=r[0],i=At(n,["tfhd"]).reduce(((e,n)=>{const i=gt(n,4),a=t[i];if(a){let t=gt(r,4);if(1===o){if(t===ht)return b.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),e;t*=ht+1,t+=gt(r,8)}const n=t/(a.timescale||9e4);if(l(n)&&(null===e||n<e))return n}return e}),null);return null!==i&&l(i)&&(null===e||i<e)?i:e}),null)}(d,h),g=null===v?o:v;(function(t,e,n,r){if(null===t)return!0;const o=Math.max(r,1),i=e-t.baseTime/t.timescale;return Math.abs(i-n)>o}(c,g,o,y)||p.timescale!==c.timescale&&i)&&(p.initPTS=g-o,c&&1===c.timescale&&b.warn("Adjusting initPTS by "+(p.initPTS-c.baseTime)),this.initPTS=c={baseTime:p.initPTS,timescale:1});const m=t?g-c.baseTime/c.timescale:u,w=m+y;!function(t,e,n){At(e,["moof","traf"]).forEach((e=>{At(e,["tfhd"]).forEach((r=>{const o=gt(r,4),i=t[o];if(!i)return;const a=i.timescale||9e4;At(e,["tfdt"]).forEach((t=>{const e=t[0],r=n*a;if(r){let n=gt(t,4);if(0===e)n-=r,n=Math.max(n,0),wt(t,4,n);else{n*=Math.pow(2,32),n+=gt(t,8),n-=r,n=Math.max(n,0);const e=Math.floor(n/(ht+1)),o=Math.floor(n%(ht+1));wt(t,4,e),wt(t,8,o)}}}))}))}))}(d,h,c.baseTime/c.timescale),y>0?this.lastEndTime=w:(b.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const A=!!d.audio,x=!!d.video;let E="";A&&(E+="audio"),x&&(E+="video");const C={data1:h,startPTS:m,startDTS:m,endPTS:w,endDTS:w,type:E,hasAudio:A,hasVideo:x,nb:1,dropped:0};return f.audio="audio"===C.type?C:void 0,f.video="audio"!==C.type?C:void 0,f.initSegment=p,f.id3=Kr(n,o,c,c),r.samples.length&&(f.text=Yr(r,o,c)),f}}},{demux:Or,remux:Vr},{demux:class extends er{constructor(t,e){super(),this.observer=void 0,this.config=void 0,this.observer=t,this.config=e}resetInitSegment(t,e,n,r){super.resetInitSegment(t,e,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;const e=q(t,0);let n=(null==e?void 0:e.length)||0;if(wr(t,n))return!1;for(let e=t.length;n<e;n++)if(sr(t,n))return b.log("ADTS sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&rr(t,e)&&ir(t,e)<=t.length-e}(t,e)}appendFrame(t,e,n){cr(t,this.observer,e,n,t.manifestCodec);const r=lr(t,e,n,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r}},remux:Vr},{demux:class extends er{resetInitSegment(t,e,n,r){super.resetInitSegment(t,e,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;const e=q(t,0);let n=(null==e?void 0:e.length)||0;if(e&&11===t[n]&&119===t[n+1]&&void 0!==J(e)&&xr(t,n)<=16)return!1;for(let e=t.length;n<e;n++)if(wr(t,n))return b.log("MPEG Audio sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return mr(t,e)&&4<=t.length-e}(t,e)}appendFrame(t,e,n){if(null!==this.basePTS)return vr(t,e,n,this.basePTS,this.frameIndex)}},remux:Vr}];Zr.splice(2,0,{demux:class extends er{constructor(t){super(),this.observer=void 0,this.observer=t}resetInitSegment(t,e,n,r){super.resetInitSegment(t,e,n,r),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}canParse(t,e){return e+64<t.length}appendFrame(t,e,n){const r=Er(t,e,n,this.basePTS,this.frameIndex);if(-1!==r)return{sample:t.samples[t.samples.length-1],length:r,missing:0}}static probe(t){if(!t)return!1;const e=q(t,0);if(!e)return!1;const n=e.length;return 11===t[n]&&119===t[n+1]&&void 0!==J(e)&&xr(t,n)<16}},remux:Vr});class qr{constructor(t,e,n,r,o){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=e,this.config=n,this.vendor=r,this.id=o}configure(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()}push(t,e,n,r){const o=n.transmuxing;o.executeStart=Ur();let i=new Uint8Array(t);const{currentTransmuxState:a,transmuxConfig:s}=this;r&&(this.currentTransmuxState=r);const{contiguous:c,discontinuity:u,trackSwitch:l,accurateTimeOffset:f,timeOffset:h,initSegmentChange:v}=r||a,{audioCodec:g,videoCodec:m,defaultInitPts:w,duration:A,initSegmentData:x}=s,E=function(t,e){let n=null;return t.byteLength>0&&null!=(null==e?void 0:e.key)&&null!==e.iv&&null!=e.method&&(n=e),n}(i,e);if(E&&"AES-128"===E.method){const t=this.getDecrypter();if(!t.isSync())return this.decryptionPromise=t.webCryptoDecrypt(i,E.key.buffer,E.iv.buffer).then((t=>{const e=this.push(t,null,n);return this.decryptionPromise=null,e})),this.decryptionPromise;{let e=t.softwareDecrypt(i,E.key.buffer,E.iv.buffer);if(n.part>-1&&(e=t.flush()),!e)return o.executeEnd=Ur(),Xr(n);i=new Uint8Array(e)}}const C=this.needsProbing(u,l);if(C){const t=this.configureTransmuxer(i);if(t)return b.warn(`[transmuxer] ${t.message}`),this.observer.emit(p.ERROR,p.ERROR,{type:d.MEDIA_ERROR,details:y.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message}),o.executeEnd=Ur(),Xr(n)}(u||l||v||C)&&this.resetInitSegment(x,g,m,A,e),(u||v||C)&&this.resetInitialTimestamp(w),c||this.resetContiguity();const k=this.transmux(i,E,h,f,n),L=this.currentTransmuxState;return L.contiguous=!0,L.discontinuity=!1,L.trackSwitch=!1,o.executeEnd=Ur(),k}flush(t){const e=t.transmuxing;e.executeStart=Ur();const{decrypter:n,currentTransmuxState:r,decryptionPromise:o}=this;if(o)return o.then((()=>this.flush(t)));const i=[],{timeOffset:a}=r;if(n){const e=n.flush();e&&i.push(this.push(e,null,t))}const{demuxer:s,remuxer:c}=this;if(!s||!c)return e.executeEnd=Ur(),[Xr(t)];const u=s.flush(a);return Qr(u)?u.then((e=>(this.flushRemux(i,e,t),i))):(this.flushRemux(i,u,t),i)}flushRemux(t,e,n){const{audioTrack:r,videoTrack:o,id3Track:i,textTrack:a}=e,{accurateTimeOffset:s,timeOffset:c}=this.currentTransmuxState;b.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const u=this.remuxer.remux(r,o,i,a,c,s,!0,this.id);t.push({remuxResult:u,chunkMeta:n}),n.transmuxing.executeEnd=Ur()}resetInitialTimestamp(t){const{demuxer:e,remuxer:n}=this;e&&n&&(e.resetTimeStamp(t),n.resetTimeStamp(t))}resetContiguity(){const{demuxer:t,remuxer:e}=this;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(t,e,n,r,o){const{demuxer:i,remuxer:a}=this;i&&a&&(i.resetInitSegment(t,e,n,r),a.resetInitSegment(t,e,n,o))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(t,e,n,r,o){let i;return i=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,n,r,o):this.transmuxUnencrypted(t,n,r,o),i}transmuxUnencrypted(t,e,n,r){const{audioTrack:o,videoTrack:i,id3Track:a,textTrack:s}=this.demuxer.demux(t,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(o,i,a,s,e,n,!1,this.id),chunkMeta:r}}transmuxSampleAes(t,e,n,r,o){return this.demuxer.demuxSampleAes(t,e,n).then((t=>({remuxResult:this.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,n,r,!1,this.id),chunkMeta:o})))}configureTransmuxer(t){const{config:e,observer:n,typeSupported:r,vendor:o}=this;let i;for(let e=0,n=Zr.length;e<n;e++){var a;if(null!=(a=Zr[e].demux)&&a.probe(t)){i=Zr[e];break}}if(!i)return new Error("Failed to find demuxer by probing fragment data");const s=this.demuxer,c=this.remuxer,u=i.remux,l=i.demux;c&&c instanceof u||(this.remuxer=new u(n,e,r,o)),s&&s instanceof l||(this.demuxer=new l(n,e,r),this.probe=l.probe)}needsProbing(t,e){return!this.demuxer||!this.remuxer||t||e}getDecrypter(){let t=this.decrypter;return t||(t=this.decrypter=new Fn(this.config)),t}}const Xr=t=>({remuxResult:{},chunkMeta:t});function Qr(t){return"then"in t&&t.then instanceof Function}class Jr{constructor(t,e,n,r,o){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=n,this.duration=r,this.defaultInitPts=o||null}}class to{constructor(t,e,n,r,o,i){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=o,this.initSegmentChange=i}}var eo={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||t,a),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,o,i,a){var s=n?n+t:t;if(!this._events[s])return!1;var c,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,o),!0;case 5:return l.fn.call(l.context,e,r,o,i),!0;case 6:return l.fn.call(l.context,e,r,o,i,a),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,o);break;default:if(!c)for(h=1,c=new Array(f-1);h<f;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==e||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==e||o&&!s[c].once||r&&s[c].context!==r)&&u.push(s[c]);u.length?this._events[i]=1===u.length?u[0]:u:a(this,i)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}(eo);var no=r(eo.exports);class ro{constructor(t,e,n,r){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const o=t.config;this.hls=t,this.id=e,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=n,this.onFlush=r;const i=(t,e)=>{(e=e||{}).frag=this.frag,e.id=this.id,t===p.ERROR&&(this.error=e.error),this.hls.trigger(t,e)};this.observer=new no,this.observer.on(p.FRAG_DECRYPTED,i),this.observer.on(p.ERROR,i);const a=Vt(o.preferManagedMediaSource)||{isTypeSupported:()=>!1},s={mpeg:a.isTypeSupported("audio/mpeg"),mp3:a.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:a.isTypeSupported('audio/mp4; codecs="ac-3"')},c=navigator.vendor;if(!this.useWorker||"undefined"==typeof Worker||!o.workerPath&&"function"!=typeof __HLS_WORKER_BUNDLE__)this.transmuxer=new qr(this.observer,s,o,c,e);else try{o.workerPath?(b.log(`loading Web Worker ${o.workerPath} for "${e}"`),this.workerContext=function(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}(o.workerPath)):(b.log(`injecting Web Worker for "${e}"`),this.workerContext=function(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}()),this.onwmsg=t=>this.onWorkerMessage(t);const{worker:t}=this.workerContext;t.addEventListener("message",this.onwmsg),t.onerror=t=>{const n=new Error(`${t.message}  (${t.filename}:${t.lineno})`);o.enableWorker=!1,b.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(p.ERROR,{type:d.OTHER_ERROR,details:y.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:n})},t.postMessage({cmd:"init",typeSupported:s,vendor:c,id:e,config:JSON.stringify(o)})}catch(t){b.warn(`Error setting up "${e}" Web Worker, fallback to inline`,t),this.resetWorker(),this.error=null,this.transmuxer=new qr(this.observer,s,o,c,e)}}resetWorker(){if(this.workerContext){const{worker:t,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),t.removeEventListener("message",this.onwmsg),t.onerror=null,t.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(t,e,n,r,o,i,a,s,c,u){var l,f;c.transmuxing.start=self.performance.now();const{transmuxer:h}=this,p=i?i.start:o.start,d=o.decryptdata,y=this.frag,v=!(y&&o.cc===y.cc),g=!(y&&c.level===y.level),m=y?c.sn-y.sn:-1,w=this.part?c.part-this.part.index:-1,A=0===m&&c.id>1&&c.id===(null==y?void 0:y.stats.chunkCount),x=!g&&(1===m||0===m&&(1===w||A&&w<=0)),E=self.performance.now();(g||m||0===o.stats.parsing.start)&&(o.stats.parsing.start=E),!i||!w&&x||(i.stats.parsing.start=E);const C=!(y&&(null==(l=o.initSegment)?void 0:l.url)===(null==(f=y.initSegment)?void 0:f.url)),k=new to(v,x,s,g,p,C);if(!x||v||C){b.log(`[transmuxer-interface, ${o.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}\n        discontinuity: ${v}\n        trackSwitch: ${g}\n        contiguous: ${x}\n        accurateTimeOffset: ${s}\n        timeOffset: ${p}\n        initSegmentChange: ${C}`);const t=new Jr(n,r,e,a,u);this.configureTransmuxer(t)}if(this.frag=o,this.part=i,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:t,decryptdata:d,chunkMeta:c,state:k},t instanceof ArrayBuffer?[t]:[]);else if(h){const e=h.push(t,d,c,k);Qr(e)?(h.async=!0,e.then((t=>{this.handleTransmuxComplete(t)})).catch((t=>{this.transmuxerError(t,c,"transmuxer-interface push error")}))):(h.async=!1,this.handleTransmuxComplete(e))}}flush(t){t.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:t});else if(e){let n=e.flush(t);Qr(n)||e.async?(Qr(n)||(n=Promise.resolve(n)),n.then((e=>{this.handleFlushResult(e,t)})).catch((e=>{this.transmuxerError(e,t,"transmuxer-interface flush error")}))):this.handleFlushResult(n,t)}}transmuxerError(t,e,n){this.hls&&(this.error=t,this.hls.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:t,err:t,reason:n}))}handleFlushResult(t,e){t.forEach((t=>{this.handleTransmuxComplete(t)})),this.onFlush(e)}onWorkerMessage(t){const e=t.data,n=this.hls;switch(e.event){case"init":{var r;const t=null==(r=this.workerContext)?void 0:r.objectURL;t&&self.URL.revokeObjectURL(t);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":b[e.data.logType]&&b[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}}configureTransmuxer(t){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:t}):e&&e.configure(t)}handleTransmuxComplete(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)}}function oo(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!io(t[n].attrs,e[n].attrs))return!1;return!0}function io(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((n=>t[n]!==e[n]))}function ao(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class so{constructor(t){this.buffered=void 0;const e=(e,n,r)=>{if((n>>>=0)>r-1)throw new DOMException(`Failed to execute '${e}' on 'TimeRanges': The index provided (${n}) is greater than the maximum bound (${r})`);return t[n][e]};this.buffered={get length(){return t.length},end:n=>e("end",n,t.length),start:n=>e("start",n,t.length)}}}class co{constructor(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}append(t,e,n){const r=this.queues[e];r.push(t),1!==r.length||n||this.executeNext(e)}insertAbort(t,e){this.queues[e].unshift(t),this.executeNext(e)}appendBlocker(t){let e;const n=new Promise((t=>{e=t})),r={execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(r,t),n}executeNext(t){const e=this.queues[t];if(e.length){const n=e[0];try{n.execute()}catch(e){b.warn(`[buffer-operation-queue]: Exception executing "${t}" SourceBuffer operation: ${e}`),n.onError(e);const r=this.buffers[t];null!=r&&r.updating||this.shiftAndExecuteNext(t)}}}shiftAndExecuteNext(t){this.queues[t].shift(),this.executeNext(t)}current(t){return this.queues[t][0]}}const uo=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;function lo(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach((e=>{t.removeChild(e)}))}const fo={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ho=function(t){let e=t;return fo.hasOwnProperty(t)&&(e=fo[t]),String.fromCharCode(e)},po=15,yo=100,vo={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},go={17:2,18:4,21:6,22:8,23:10,19:13,20:15},mo={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},bo={25:2,26:4,29:6,30:8,31:10,27:13,28:15},wo=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Ao{constructor(){this.time=null,this.verboseLevel=0}log(t,e){if(this.verboseLevel>=t){const n="function"==typeof e?e():e;b.log(`${this.time} [${t}] ${n}`)}}}const xo=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].toString(16));return e};class Eo{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(t){const e=["foreground","underline","italics","background","flash"];for(let n=0;n<e.length;n++){const r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}copy(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Co{constructor(){this.uchar=" ",this.penState=new Eo}reset(){this.uchar=" ",this.penState.reset()}setChar(t,e){this.uchar=t,this.penState.copy(e)}setPenState(t){this.penState.copy(t)}equals(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}copy(t){this.uchar=t.uchar,this.penState.copy(t.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class ko{constructor(t){this.chars=[],this.pos=0,this.currPenState=new Eo,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<yo;t++)this.chars.push(new Co);this.logger=t}equals(t){for(let e=0;e<yo;e++)if(!this.chars[e].equals(t.chars[e]))return!1;return!0}copy(t){for(let e=0;e<yo;e++)this.chars[e].copy(t.chars[e])}isEmpty(){let t=!0;for(let e=0;e<yo;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t}setCursor(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>yo&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=yo)}moveCursor(t){const e=this.pos+t;if(t>1)for(let t=this.pos+1;t<e+1;t++)this.chars[t].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(t){t>=144&&this.backSpace();const e=ho(t);this.pos>=yo?this.logger.log(0,(()=>"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(t){let e;for(e=t;e<yo;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const t=[];let e=!0;for(let n=0;n<yo;n++){const r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")}setPenStyles(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)}}class Lo{constructor(t){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let e=0;e<po;e++)this.rows.push(new ko(t));this.logger=t}reset(){for(let t=0;t<po;t++)this.rows[t].clear();this.currRow=14}equals(t){let e=!0;for(let n=0;n<po;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e}copy(t){for(let e=0;e<po;e++)this.rows[e].copy(t.rows[e])}isEmpty(){let t=!0;for(let e=0;e<po;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(t){this.rows[this.currRow].insertChar(t)}setPen(t){this.rows[this.currRow].setPenStyles(t)}moveCursor(t){this.rows[this.currRow].moveCursor(t)}setCursor(t){this.logger.log(2,"setCursor: "+t),this.rows[this.currRow].setCursor(t)}setPAC(t){this.logger.log(2,(()=>"pacData = "+JSON.stringify(t)));let e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let t=0;t<po;t++)this.rows[t].clear();const t=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){const r=n.rows[t].cueStartTime,o=this.logger.time;if(null!==r&&null!==o&&r<o)for(let r=0;r<this.nrRollUpRows;r++)this.rows[e-this.nrRollUpRows+r+1].copy(n.rows[t+r])}}this.currRow=e;const n=this.rows[this.currRow];if(null!==t.indent){const e=t.indent,r=Math.max(e-1,0);n.setCursor(t.indent),t.color=n.chars[r].penState.foreground}const r={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(r)}setBkgData(t){this.logger.log(2,(()=>"bkgData = "+JSON.stringify(t))),this.backSpace(),this.setPen(t),this.insertChar(32)}setRollUpRows(t){this.nrRollUpRows=t}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(t){t=t||!1;const e=[];let n="",r=-1;for(let n=0;n<po;n++){const o=this.rows[n].getTextString();o&&(r=n+1,t?e.push("Row "+r+": '"+o+"'"):e.push(o.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n}getTextAndFormat(){return this.rows}}class _o{constructor(t,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Lo(n),this.nonDisplayedMemory=new Lo(n),this.lastOutputScreen=new Lo(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(t){this.outputFilter=t}setPAC(t){this.writeScreen.setPAC(t)}setBkgData(t){this.writeScreen.setBkgData(t)}setMode(t){t!==this.mode&&(this.mode=t,this.logger.log(2,(()=>"MODE="+t)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}insertChars(t){for(let e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>e+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}ccMIDROW(t){const e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{const n=Math.floor(t/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=r[n]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(t=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}class So{constructor(t,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;const r=this.logger=new Ao;this.channels=[null,new _o(t,e,r),new _o(t+1,n,r)]}getHandler(t){return this.channels[t].getHandler()}setHandler(t,e){this.channels[t].setHandler(e)}addData(t,e){let n,r,o,i=!1;this.logger.time=t;for(let t=0;t<e.length;t+=2)if(r=127&e[t],o=127&e[t+1],0!==r||0!==o){if(this.logger.log(3,"["+xo([e[t],e[t+1]])+"] -> ("+xo([r,o])+")"),n=this.parseCmd(r,o),n||(n=this.parseMidrow(r,o)),n||(n=this.parsePAC(r,o)),n||(n=this.parseBackgroundAttributes(r,o)),!n&&(i=this.parseChars(r,o),i)){const t=this.currentChannel;t&&t>0?this.channels[t].insertChars(i):this.logger.log(2,"No channel found yet. TEXT-MODE?")}n||i||this.logger.log(2,"Couldn't parse cleaned data "+xo([r,o])+" orig: "+xo([e[t],e[t+1]]))}}parseCmd(t,e){const{cmdHistory:n}=this;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(To(t,e,n))return Oo(null,null,n),this.logger.log(3,"Repeated command ("+xo([t,e])+") is dropped"),!0;const r=20===t||21===t||23===t?1:2,o=this.channels[r];return 20===t||21===t||28===t||29===t?32===e?o.ccRCL():33===e?o.ccBS():34===e?o.ccAOF():35===e?o.ccAON():36===e?o.ccDER():37===e?o.ccRU(2):38===e?o.ccRU(3):39===e?o.ccRU(4):40===e?o.ccFON():41===e?o.ccRDC():42===e?o.ccTR():43===e?o.ccRTD():44===e?o.ccEDM():45===e?o.ccCR():46===e?o.ccENM():47===e&&o.ccEOC():o.ccTO(e-32),Oo(t,e,n),this.currentChannel=r,!0}parseMidrow(t,e){let n=0;if((17===t||25===t)&&e>=32&&e<=47){if(n=17===t?1:2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const r=this.channels[n];return!!r&&(r.ccMIDROW(e),this.logger.log(3,"MIDROW ("+xo([t,e])+")"),!0)}return!1}parsePAC(t,e){let n;const r=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(To(t,e,r))return Oo(null,null,r),!0;const o=t<=23?1:2;n=e>=64&&e<=95?1===o?vo[t]:mo[t]:1===o?go[t]:bo[t];const i=this.channels[o];return!!i&&(i.setPAC(this.interpretPAC(n,e)),Oo(t,e,r),this.currentChannel=o,!0)}interpretPAC(t,e){let n;const r={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}parseChars(t,e){let n,r=null,o=null;if(t>=25?(n=2,o=t-8):(n=1,o=t),o>=17&&o<=19){let t;t=17===o?e+80:18===o?e+112:e+144,this.logger.log(2,"Special char '"+ho(t)+"' in channel "+n),r=[t]}else t>=32&&t<=127&&(r=0===e?[t]:[t,e]);if(r){const n=xo(r);this.logger.log(3,"Char codes =  "+n.join(",")),Oo(t,e,this.cmdHistory)}return r}parseBackgroundAttributes(t,e){if(!((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47))return!1;let n;const r={};16===t||24===t?(n=Math.floor((e-32)/2),r.background=wo[n],e%2==1&&(r.background=r.background+"_semi")):45===e?r.background="transparent":(r.foreground="black",47===e&&(r.underline=!0));const o=t<=23?1:2;return this.channels[o].setBkgData(r),Oo(t,e,this.cmdHistory),!0}reset(){for(let t=0;t<Object.keys(this.channels).length;t++){const e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(t){for(let e=0;e<this.channels.length;e++){const n=this.channels[e];n&&n.cueSplitAtTime(t)}}}function Oo(t,e,n){n.a=t,n.b=e}function To(t,e,n){return n.a===t&&n.b===e}class Po{constructor(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var Ro=function(){if(null!=B&&B.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(t,e){if("string"!=typeof e)return!1;if(!Array.isArray(t))return!1;const n=e.toLowerCase();return!!~t.indexOf(n)&&n}function r(t){return n(e,t)}function o(t,...e){let n=1;for(;n<arguments.length;n++){const e=arguments[n];for(const n in e)t[n]=e[n]}return t}function i(e,i,a){const s=this,c={enumerable:!0};s.hasBeenReset=!1;let u="",l=!1,f=e,h=i,p=a,d=null,y="",v=!0,g="auto",m="start",b=50,w="middle",A=50,x="middle";Object.defineProperty(s,"id",o({},c,{get:function(){return u},set:function(t){u=""+t}})),Object.defineProperty(s,"pauseOnExit",o({},c,{get:function(){return l},set:function(t){l=!!t}})),Object.defineProperty(s,"startTime",o({},c,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",o({},c,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",o({},c,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",o({},c,{get:function(){return d},set:function(t){d=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",o({},c,{get:function(){return y},set:function(e){const r=function(e){return n(t,e)}(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");y=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",o({},c,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",o({},c,{get:function(){return g},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",o({},c,{get:function(){return m},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",o({},c,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",o({},c,{get:function(){return w},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",o({},c,{get:function(){return A},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");A=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",o({},c,{get:function(){return x},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");x=e,this.hasBeenReset=!0}})),s.displayState=void 0}return i.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},i}();class Io{decode(t,e){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}function jo(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+parseFloat(r||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class Bo{constructor(){this.values=Object.create(null)}set(t,e){this.get(t)||""===e||(this.values[t]=e)}get(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e}has(t){return t in this.values}alt(t,e,n){for(let r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}}integer(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))}percent(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const n=parseFloat(e);if(n>=0&&n<=100)return this.set(t,n),!0}return!1}}function Do(t,e,n,r){const o=r?t.split(r):[t];for(const t in o){if("string"!=typeof o[t])continue;const r=o[t].split(n);2===r.length&&e(r[0],r[1])}}const No=new Ro(0,0,""),Mo="middle"===No.align?"middle":"center";function Fo(t,e,n){const r=t;function o(){const e=jo(t);if(null===e)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function i(){t=t.replace(/^\s+/,"")}if(i(),e.startTime=o(),i(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.slice(3),i(),e.endTime=o(),i(),function(t,e){const r=new Bo;Do(t,(function(t,e){let o;switch(t){case"region":for(let o=n.length-1;o>=0;o--)if(n[o].id===e){r.set(t,n[o].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":o=e.split(","),r.integer(t,o[0]),r.percent(t,o[0])&&r.set("snapToLines",!1),r.alt(t,o[0],["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start",Mo,"end"]);break;case"position":o=e.split(","),r.percent(t,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start",Mo,"end","line-left","line-right","auto"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start",Mo,"end","left","right"])}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");let o=r.get("line","auto");"auto"===o&&-1===No.line&&(o=-1),e.line=o,e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align",Mo);let i=r.get("position","auto");"auto"===i&&50===No.position&&(i="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=i}(t,e)}function Uo(t){return t.replace(/<br(?: \/)?>/gi,"\n")}class Go{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Io,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(t){const e=this;function n(){let t=e.buffer,n=0;for(t=Uo(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;const r=t.slice(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.slice(n),r}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{let t="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;t=n();const r=t.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(null==r||!r[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let r=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(r?r=!1:t=n(),e.state){case"HEADER":/:/.test(t)?Do(t,(function(t,e){}),/:/):t||(e.state="ID");continue;case"NOTE":t||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){e.state="NOTE";break}if(!t)continue;if(e.cue=new Ro(0,0,""),e.state="CUE",-1===t.indexOf("--\x3e")){e.cue.id=t;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{Fo(t,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const n=-1!==t.indexOf("--\x3e");if(!t||n&&(r=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=t}continue;case"BADCUE":t||(e.state="ID")}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const t=this;try{if((t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state||"BADWEBVTT"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){t.onparsingerror&&t.onparsingerror(e)}return t.onflush&&t.onflush(),this}}const $o=/\r\n|\n\r|\n|\r/g,Vo=function(t,e,n=0){return t.slice(n,n+e.length)===e},Ho=function(t){let e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()};function Ko(t,e,n){return Ho(t.toString())+Ho(e.toString())+Ho(n)}const Yo="stpp.ttml.im1t",zo=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Wo=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Zo={left:"start",center:"center",right:"end",start:"start",end:"end"};function qo(t,e,n,r){const o=At(new Uint8Array(t),["mdat"]);if(0===o.length)return void r(new Error("Could not parse IMSC1 mdat"));const i=o.map((t=>ct(t))),a=function(t,e,n=1,r=!1){return Mr(t,e,1/n,r)}(e.baseTime,1,e.timescale);try{i.forEach((t=>n(function(t,e){const n=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");const r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(r).reduce(((t,e)=>(t[e]=n.getAttribute(`ttp:${e}`)||r[e],t)),{}),i="preserve"!==n.getAttribute("xml:space"),a=Qo(Xo(n,"styling","style")),s=Qo(Xo(n,"layout","region")),c=Xo(n,"body","[begin]");return[].map.call(c,(t=>{const n=Jo(t,i);if(!n||!t.hasAttribute("begin"))return null;const r=ni(t.getAttribute("begin"),o),c=ni(t.getAttribute("dur"),o);let l=ni(t.getAttribute("end"),o);if(null===r)throw ei(t);if(null===l){if(null===c)throw ei(t);l=r+c}const f=new Ro(r-e,l-e,n);f.id=Ko(f.startTime,f.endTime,f.text);const h=function(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let o=null;const i=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;return i&&n.hasOwnProperty(i)&&(o=n[i]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(((n,i)=>{const a=ti(e,r,i)||ti(t,r,i)||ti(o,r,i);return a&&(n[i]=a),n}),{})}(s[t.getAttribute("region")],a[t.getAttribute("style")],a),{textAlign:p}=h;if(p){const t=Zo[p];t&&(f.lineAlign=t),f.align=p}return u(f,h),f})).filter((t=>null!==t))}(t,a))))}catch(t){r(t)}}function Xo(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function Qo(t){return t.reduce(((t,e)=>{const n=e.getAttribute("xml:id");return n&&(t[n]=e),t}),{})}function Jo(t,e){return[].slice.call(t.childNodes).reduce(((t,n,r)=>{var o;return"br"===n.nodeName&&r?t+"\n":null!=(o=n.childNodes)&&o.length?Jo(n,e):e?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent}),"")}function ti(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function ei(t){return new Error(`Could not parse ttml timestamp ${t}`)}function ni(t,e){if(!t)return null;let n=jo(t);return null===n&&(zo.test(t)?n=function(t,e){const n=zo.exec(t),r=(0|n[4])+(0|n[5])/e.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/e.frameRate}(t,e):Wo.test(t)&&(n=function(t,e){const n=Wo.exec(t),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}(t,e))),n}function ri(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function oi(t,e){return!!t&&t.kind===ri(e)&&ao(e,t)}class ii{constructor(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(t){this.streamController=t}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:t}=this;t.on(p.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(p.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(p.MANIFEST_PARSED,this.onManifestParsed,this),t.on(p.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(p.BUFFER_CODECS,this.onBufferCodecs,this),t.on(p.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:t}=this;t.off(p.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(p.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(p.MANIFEST_PARSED,this.onManifestParsed,this),t.off(p.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(p.BUFFER_CODECS,this.onBufferCodecs,this),t.off(p.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(t,e){const n=this.hls.levels[e.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(t,e){const n=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,n.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onLevelsUpdated(t,e){this.timer&&l(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);const t=this.hls.levels;if(t.length){const e=this.hls,n=this.getMaxLevel(t.length-1);n!==this.autoLevelCapping&&b.log(`Setting autoLevelCapping to ${n}: ${t[n].height}p@${t[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),e.autoLevelCapping=n,e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(t){const e=this.hls.levels;if(!e.length)return-1;const n=e.filter(((e,n)=>this.isLevelAllowed(e)&&n<=t));return this.clientRect=null,ii.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const t=this.media,e={width:0,height:0};if(t){const n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(t){}return t}isLevelAllowed(t){return!this.restrictedLevels.some((e=>t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height))}static getMaxLevelByMediaSize(t,e,n){if(null==t||!t.length)return-1;let r=t.length-1;const o=Math.max(e,n);for(let e=0;e<t.length;e+=1){const n=t[e];if((n.width>=o||n.height>=o)&&(i=n,!(a=t[e+1])||i.width!==a.width||i.height!==a.height)){r=e;break}}var i,a;return r}}const ai="[eme]";class si{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=si.CDMCleanupPromise?[si.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=b.debug.bind(b,ai),this.log=b.log.bind(b,ai),this.warn=b.warn.bind(b,ai),this.error=b.error.bind(b,ai),this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(p.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(p.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(p.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(p.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(p.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(p.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(t){const{drmSystems:e,widevineLicenseUrl:n}=this.config,r=e[t];if(r)return r.licenseUrl;if(t===D.WIDEVINE&&n)return n;throw new Error(`no license server URL configured for key-system "${t}"`)}getServerCertificateUrl(t){const{drmSystems:e}=this.config,n=e[t];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const e=this.hls.levels,n=(t,e,n)=>!!t&&n.indexOf(t)===e,r=e.map((t=>t.audioCodec)).filter(n),o=e.map((t=>t.videoCodec)).filter(n);return r.length+o.length===0&&o.push("avc1.42e01e"),new Promise(((e,n)=>{const i=t=>{const a=t.shift();this.getMediaKeysPromise(a,r,o).then((t=>e({keySystem:a,mediaKeys:t}))).catch((e=>{t.length?i(t):n(e instanceof ci?e:new ci({type:d.KEY_SYSTEM_ERROR,details:y.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message))}))};i(t)}))}requestMediaKeySystemAccess(t,e){const{requestMediaKeySystemAccessFunc:n}=this.config;if("function"!=typeof n){let t=`Configured requestMediaKeySystemAccess is not a function ${n}`;return null===K&&"http:"===self.location.protocol&&(t=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(t))}return n(t,e)}getMediaKeysPromise(t,e,n){const r=function(t,e,n,r){let o;switch(t){case D.FAIRPLAY:o=["cenc","sinf"];break;case D.WIDEVINE:case D.PLAYREADY:o=["cenc"];break;case D.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return function(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map((t=>({contentType:`audio/mp4; codecs="${t}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null}))),videoCapabilities:n.map((t=>({contentType:`video/mp4; codecs="${t}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null})))}]}(o,e,n,r)}(t,e,n,this.config.drmSystemOptions),o=this.keySystemAccessPromises[t];let i=null==o?void 0:o.keySystemAccess;if(!i){this.log(`Requesting encrypted media "${t}" key-system access with config: ${JSON.stringify(r)}`),i=this.requestMediaKeySystemAccess(t,r);const e=this.keySystemAccessPromises[t]={keySystemAccess:i};return i.catch((e=>{this.log(`Failed to obtain access to key-system "${t}": ${e}`)})),i.then((n=>{this.log(`Access for key-system "${n.keySystem}" obtained`);const r=this.fetchServerCertificate(t);return this.log(`Create media-keys for "${t}"`),e.mediaKeys=n.createMediaKeys().then((e=>(this.log(`Media-keys created for "${t}"`),r.then((n=>n?this.setMediaKeysServerCertificate(e,t,n):e))))),e.mediaKeys.catch((e=>{this.error(`Failed to create media-keys for "${t}"}: ${e}`)})),e.mediaKeys}))}return i.then((()=>o.mediaKeys))}createMediaKeySessionContext({decryptdata:t,keySystem:e,mediaKeys:n}){this.log(`Creating key-system session "${e}" keyId: ${ft(t.keyId||[])}`);const r=n.createSession(),o={decryptdata:t,keySystem:e,mediaKeys:n,mediaKeysSession:r,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}renewKeySession(t){const e=t.decryptdata;if(e.pssh){const n=this.createMediaKeySessionContext(t),r=this.getKeyIdString(e),o="cenc";this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,o,e.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return ft(t.keyId)}updateKeySession(t,e){var n;const r=t.mediaKeysSession;return this.log(`Updating key-session "${r.sessionId}" for keyID ${ft((null==(n=t.decryptdata)?void 0:n.keyId)||[])}\n      } (data length: ${e?e.byteLength:e})`),r.update(e)}selectKeySystemFormat(t){const e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${e.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise}getKeyFormatPromise(t){return new Promise(((e,n)=>{const r=H(this.config),o=t.map(G).filter((t=>!!t&&-1!==r.indexOf(t)));return this.getKeySystemSelectionPromise(o).then((({keySystem:t})=>{const r=V(t);r?e(r):n(new Error(`Unable to find format for key-system "${t}"`))})).catch(n)}))}loadKey(t){const e=t.keyInfo.decryptdata,n=this.getKeyIdString(e),r=`(keyId: ${n} format: "${e.keyFormat}" method: ${e.method} uri: ${e.uri})`;this.log(`Starting session for key ${r}`);let o=this.keyIdToKeySessionPromise[n];return o||(o=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(e).then((({keySystem:n,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${r}`),this.attemptSetMediaKeys(n,o).then((()=>{this.throwIfDestroyed();const t=this.createMediaKeySessionContext({keySystem:n,mediaKeys:o,decryptdata:e});return this.generateRequestWithPreferredKeySession(t,"cenc",e.pssh,"playlist-key")}))))),o.catch((t=>this.handleError(t)))),o}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t){this.hls&&(this.error(t.message),t instanceof ci?this.hls.trigger(p.ERROR,t.data):this.hls.trigger(p.ERROR,{type:d.KEY_SYSTEM_ERROR,details:y.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}getKeySystemForKeyPromise(t){const e=this.getKeyIdString(t),n=this.keyIdToKeySessionPromise[e];if(!n){const e=G(t.keyFormat),n=e?[e]:H(this.config);return this.attemptKeySystemAccess(n)}return n}getKeySystemSelectionPromise(t){if(t.length||(t=H(this.config)),0===t.length)throw new ci({type:d.KEY_SYSTEM_ERROR,details:y.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}_onMediaEncrypted(t){const{initDataType:e,initData:n}=t;if(this.debug(`"${t.type}" event: init data type: "${e}"`),null===n)return;let r,o;if("sinf"===e&&this.config.drmSystems[D.FAIRPLAY]){const t=yt(new Uint8Array(n));try{const e=I(JSON.parse(t).sinf),n=St(new Uint8Array(e));if(!n)return;r=n.subarray(8,24),o=D.FAIRPLAY}catch(t){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const t=function(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;const e={version:0,systemId:"",kids:null,data:null},n=new DataView(t),r=n.getUint32(0);if(t.byteLength!==r&&r>44)return null;if(1886614376!==n.getUint32(4))return null;if(e.version=n.getUint32(8)>>>24,e.version>1)return null;e.systemId=ft(new Uint8Array(t,12,16));const o=n.getUint32(28);if(0===e.version){if(r-32<o)return null;e.data=new Uint8Array(t,32,o)}else if(1===e.version){e.kids=[];for(let n=0;n<o;n++)e.kids.push(new Uint8Array(t,32+16*n,16))}return e}(n);if(null===t)return;0===t.version&&t.systemId===$&&t.data&&(r=t.data.subarray(8,24)),o=function(t){if(t===$)return D.WIDEVINE}(t.systemId)}if(!o||!r)return;const i=ft(r),{keyIdToKeySessionPromise:a,mediaKeySessions:s}=this;let c=a[i];for(let t=0;t<s.length;t++){const o=s[t],u=o.decryptdata;if(u.pssh||!u.keyId)continue;const l=ft(u.keyId);if(i===l||-1!==u.uri.replace(/-/g,"").indexOf(i)){c=a[l],delete a[l],u.pssh=new Uint8Array(n),u.keyId=r,c=a[i]=c.then((()=>this.generateRequestWithPreferredKeySession(o,e,n,"encrypted-event-key-match")));break}}c||(c=a[i]=this.getKeySystemSelectionPromise([o]).then((({keySystem:t,mediaKeys:o})=>{var a;this.throwIfDestroyed();const s=new Dt("ISO-23001-7",i,null!=(a=V(t))?a:"");return s.pssh=new Uint8Array(n),s.keyId=r,this.attemptSetMediaKeys(t,o).then((()=>{this.throwIfDestroyed();const r=this.createMediaKeySessionContext({decryptdata:s,keySystem:t,mediaKeys:o});return this.generateRequestWithPreferredKeySession(r,e,n,"encrypted-event-no-match")}))}))),c.catch((t=>this.handleError(t)))}_onWaitingForKey(t){this.log(`"${t.type}" event`)}attemptSetMediaKeys(t,e){const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const r=Promise.all(n).then((()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(e)}));return this.setMediaKeysQueue.push(r),r.then((()=>{this.log(`Media-keys set for "${t}"`),n.push(r),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((t=>-1===n.indexOf(t)))}))}generateRequestWithPreferredKeySession(t,e,n,r){var o,i;const a=null==(o=this.config.drmSystems)||null==(i=o[t.keySystem])?void 0:i.generateRequest;if(a)try{const r=a.call(this.hls,e,n,t);if(!r)throw new Error("Invalid response from configured generateRequest filter");e=r.initDataType,n=t.decryptdata.pssh=r.initData?new Uint8Array(r.initData):null}catch(t){var s;if(this.warn(t.message),null!=(s=this.hls)&&s.config.debug)throw t}if(null===n)return this.log(`Skipping key-session request for "${r}" (no initData)`),Promise.resolve(t);const c=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${r}": ${c} (init data type: ${e} length: ${n?n.byteLength:null})`);const u=new no,l=t._onmessage=e=>{const n=t.mediaKeysSession;if(!n)return void u.emit("error",new Error("invalid state"));const{messageType:r,message:o}=e;this.log(`"${r}" message event for session "${n.sessionId}" message size: ${o.byteLength}`),"license-request"===r||"license-renewal"===r?this.renewLicense(t,o).catch((t=>{this.handleError(t),u.emit("error",t)})):"license-release"===r?t.keySystem===D.FAIRPLAY&&(this.updateKeySession(t,j("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${r}"`)},f=t._onkeystatuseschange=e=>{if(!t.mediaKeysSession)return void u.emit("error",new Error("invalid state"));this.onKeyStatusChange(t);const n=t.keyStatus;u.emit("keyStatus",n),"expired"===n&&(this.warn(`${t.keySystem} expired for key ${c}`),this.renewKeySession(t))};t.mediaKeysSession.addEventListener("message",l),t.mediaKeysSession.addEventListener("keystatuseschange",f);const h=new Promise(((t,e)=>{u.on("error",e),u.on("keyStatus",(n=>{n.startsWith("usable")?t():"output-restricted"===n?e(new ci({type:d.KEY_SYSTEM_ERROR,details:y.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===n?e(new ci({type:d.KEY_SYSTEM_ERROR,details:y.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${n}"`)):"expired"===n?e(new Error("key expired while generating request")):this.warn(`unhandled key status change "${n}"`)}))}));return t.mediaKeysSession.generateRequest(e,n).then((()=>{var e;this.log(`Request generated for key-session "${null==(e=t.mediaKeysSession)?void 0:e.sessionId}" keyId: ${c}`)})).catch((t=>{throw new ci({type:d.KEY_SYSTEM_ERROR,details:y.KEY_SYSTEM_NO_SESSION,error:t,fatal:!1},`Error generating key-session request: ${t}`)})).then((()=>h)).catch((e=>{throw u.removeAllListeners(),this.removeSession(t),e})).then((()=>(u.removeAllListeners(),t)))}onKeyStatusChange(t){t.mediaKeysSession.keyStatuses.forEach(((e,n)=>{this.log(`key status change "${e}" for keyStatuses keyId: ${ft("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${ft(new Uint8Array(t.decryptdata.keyId||[]))} uri: ${t.decryptdata.uri}`),t.keyStatus=e}))}fetchServerCertificate(t){const e=this.config,n=new(0,e.loader)(e),r=this.getServerCertificateUrl(t);return r?(this.log(`Fetching server certificate for "${t}"`),new Promise(((o,i)=>{const a={responseType:"arraybuffer",url:r},c=e.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,n,r)=>{o(t.data)},onError:(e,n,o,c)=>{i(new ci({type:d.KEY_SYSTEM_ERROR,details:y.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:s({url:a.url,data:void 0},e)},`"${t}" certificate request failed (${r}). Status: ${e.code} (${e.text})`))},onTimeout:(e,n,o)=>{i(new ci({type:d.KEY_SYSTEM_ERROR,details:y.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:a.url,data:void 0}},`"${t}" certificate request timed out (${r})`))},onAbort:(t,e,n)=>{i(new Error("aborted"))}};n.load(a,u,l)}))):Promise.resolve()}setMediaKeysServerCertificate(t,e,n){return new Promise(((r,o)=>{t.setServerCertificate(n).then((o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${null==n?void 0:n.byteLength}) on "${e}"`),r(t)})).catch((t=>{o(new ci({type:d.KEY_SYSTEM_ERROR,details:y.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message))}))}))}renewLicense(t,e){return this.requestLicense(t,new Uint8Array(e)).then((e=>this.updateKeySession(t,new Uint8Array(e)).catch((t=>{throw new ci({type:d.KEY_SYSTEM_ERROR,details:y.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:t,fatal:!0},t.message)}))))}unpackPlayReadyKeyMessage(t,e){const n=String.fromCharCode.apply(null,new Uint16Array(e.buffer));if(!n.includes("PlayReadyKeyMessage"))return t.setRequestHeader("Content-Type","text/xml; charset=utf-8"),e;const r=(new DOMParser).parseFromString(n,"application/xml"),o=r.querySelectorAll("HttpHeader");if(o.length>0){let e;for(let n=0,r=o.length;n<r;n++){var i,a;e=o[n];const r=null==(i=e.querySelector("name"))?void 0:i.textContent,s=null==(a=e.querySelector("value"))?void 0:a.textContent;r&&s&&t.setRequestHeader(r,s)}}const s=r.querySelector("Challenge"),c=null==s?void 0:s.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return j(atob(c))}setupLicenseXHR(t,e,n,r){const o=this.config.licenseXhrSetup;return o?Promise.resolve().then((()=>{if(!n.decryptdata)throw new Error("Key removed");return o.call(this.hls,t,e,n,r)})).catch((i=>{if(!n.decryptdata)throw i;return t.open("POST",e,!0),o.call(this.hls,t,e,n,r)})).then((n=>(t.readyState||t.open("POST",e,!0),{xhr:t,licenseChallenge:n||r}))):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:r}))}requestLicense(t,e){const n=this.config.keyLoadPolicy.default;return new Promise(((r,o)=>{const i=this.getLicenseServerUrl(t.keySystem);this.log(`Sending license request to URL: ${i}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return o(new Error("invalid state"));if(4===a.readyState)if(200===a.status){this._requestLicenseFailureCount=0;let e=a.response;this.log(`License received ${e instanceof ArrayBuffer?e.byteLength:e}`);const n=this.config.licenseResponseCallback;if(n)try{e=n.call(this.hls,a,i,t)}catch(t){this.error(t)}r(e)}else{const s=n.errorRetry,c=s?s.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||a.status>=400&&a.status<500)o(new ci({type:d.KEY_SYSTEM_ERROR,details:y.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:i,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${i}). Status: ${a.status} (${a.statusText})`));else{const n=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${n} attempts left`),this.requestLicense(t,e).then(r,o)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=a,this.setupLicenseXHR(a,i,t,e).then((({xhr:e,licenseChallenge:n})=>{t.keySystem==D.PLAYREADY&&(n=this.unpackPlayReadyKeyMessage(e,n)),e.send(n)}))}))}onMediaAttached(t,e){if(!this.config.emeEnabled)return;const n=e.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const t=this.media,e=this.mediaKeySessions;t&&(t.removeEventListener("encrypted",this.onMediaEncrypted),t.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Dt.clearKeyUriToKeyIdMap();const n=e.length;si.CDMCleanupPromise=Promise.all(e.map((t=>this.removeSession(t))).concat(null==t?void 0:t.setMediaKeys(null).catch((t=>{this.log(`Could not clear media keys: ${t}`)})))).then((()=>{n&&(this.log("finished closing key sessions and clearing media keys"),e.length=0)})).catch((t=>{this.log(`Could not close sessions and clear media keys: ${t}`)}))}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(t,{sessionKeys:e}){if(e&&this.config.emeEnabled&&!this.keyFormatPromise){const t=e.reduce(((t,e)=>(-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t)),[]);this.log(`Selecting key-system from session-keys ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)}}removeSession(t){const{mediaKeysSession:e,licenseXhr:n}=t;if(e){this.log(`Remove licenses and keys and close session ${e.sessionId}`),t._onmessage&&(e.removeEventListener("message",t._onmessage),t._onmessage=void 0),t._onkeystatuseschange&&(e.removeEventListener("keystatuseschange",t._onkeystatuseschange),t._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const r=this.mediaKeySessions.indexOf(t);return r>-1&&this.mediaKeySessions.splice(r,1),e.remove().catch((t=>{this.log(`Could not remove session: ${t}`)})).then((()=>e.close())).catch((t=>{this.log(`Could not close session: ${t}`)}))}}}si.CDMCleanupPromise=void 0;class ci extends Error{constructor(t,e){super(e),this.data=void 0,t.error||(t.error=new Error(e)),this.data=t,t.err=t.error}}var ui,li,fi;!function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"}(ui||(ui={})),function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"}(li||(li={})),function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"}(fi||(fi={}));const hi={[fi.OBJECT]:["br","d","ot","tb"],[fi.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[fi.SESSION]:["cid","pr","sf","sid","st","v"],[fi.STATUS]:["bs","rtp"]};class pi{constructor(t,e){this.value=void 0,this.params=void 0,Array.isArray(t)&&(t=t.map((t=>t instanceof pi?t:new pi(t)))),this.value=t,this.params=e}}class di{constructor(t){this.description=void 0,this.description=t}}const yi="Dict";const vi="Bare Item",gi="Boolean",mi="Byte Sequence",bi="Decimal",wi="Integer",Ai=/[\x00-\x1f\x7f]+/,xi="Token",Ei="Key";function Ci(t,e,n){return function(t,e,n,r){return new Error(`failed to ${t} "${o=e,Array.isArray(o)?JSON.stringify(o):o instanceof Map?"Map{}":o instanceof Set?"Set{}":"object"==typeof o?JSON.stringify(o):String(o)}" as ${n}`,{cause:r});var o}("serialize",t,e,n)}function ki(t){if(function(t){return t<-999999999999999||999999999999999<t}(t))throw Ci(t,wi);return t.toString()}function Li(t,e){if(t<0)return-Li(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const e=Math.floor(t*n);return(e%2==0?e:e+1)/n}return Math.round(t*n)/n}function _i(t){const e=Li(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Ci(t,bi);const n=e.toString();return n.includes(".")?n:`${n}.0`}const Si="String";function Oi(t){const e=(n=t).description||n.toString().slice(7,-1);var n;if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e))throw Ci(e,xi);return e}function Ti(t){switch(typeof t){case"number":if(!l(t))throw Ci(t,vi);return Number.isInteger(t)?ki(t):_i(t);case"string":return function(t){if(Ai.test(t))throw Ci(t,Si);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}(t);case"symbol":return Oi(t);case"boolean":return function(t){if("boolean"!=typeof t)throw Ci(t,gi);return t?"?1":"?0"}(t);case"object":if(t instanceof Date)return function(t){return`@${ki(t.getTime()/1e3)}`}(t);if(t instanceof Uint8Array)return function(t){if(!1===ArrayBuffer.isView(t))throw Ci(t,mi);return`:${e=t,btoa(String.fromCharCode(...e))}:`;var e}(t);if(t instanceof di)return Oi(t);default:throw Ci(t,vi)}}function Pi(t){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(t))throw Ci(t,Ei);return t}function Ri(t){return null==t?"":Object.entries(t).map((([t,e])=>!0===e?`;${Pi(t)}`:`;${Pi(t)}=${Ti(e)}`)).join("")}function Ii(t){return t instanceof pi?`${Ti(t.value)}${Ri(t.params)}`:Ti(t)}const ji=t=>"ot"===t||"sf"===t||"st"===t,Bi=t=>"number"==typeof t?l(t):null!=t&&""!==t&&!1!==t,Di=t=>Math.round(t),Ni=t=>100*Di(t/100),Mi={br:Di,d:Di,bl:Ni,dl:Ni,mtp:Ni,nor:(t,e)=>(null!=e&&e.baseUrl&&(t=function(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const o=n.pathname.split("/").slice(1),i=r.pathname.split("/").slice(1,-1);for(;o[0]===i[0];)o.shift(),i.shift();for(;i.length;)i.shift(),o.unshift("..");return o.join("/")}(t,e.baseUrl)),encodeURIComponent(t)),rtp:Ni,tb:Di};function Fi(t,e={}){return t?function(t,e){return function(t,e={whitespace:!0}){if("object"!=typeof t)throw Ci(t,yi);const n=t instanceof Map?t.entries():Object.entries(t),r=null!=e&&e.whitespace?" ":"";return Array.from(n).map((([t,e])=>{e instanceof pi==0&&(e=new pi(e));let n=Pi(t);var r;return!0===e.value?n+=Ri(e.params):(n+="=",Array.isArray(e.value)?n+=`(${(r=e).value.map(Ii).join(" ")})${Ri(r.params)}`:n+=Ii(e)),n})).join(`,${r}`)}(t,e)}(function(t,e){const n={};if(null==t||"object"!=typeof t)return n;const r=Object.keys(t).sort(),o=u({},Mi,null==e?void 0:e.formatters),i=null==e?void 0:e.filter;return r.forEach((r=>{if(null!=i&&i(r))return;let a=t[r];const s=o[r];s&&(a=s(a,e)),"v"===r&&1===a||"pr"==r&&1===a||Bi(a)&&(ji(r)&&"string"==typeof a&&(a=new di(a)),n[r]=a)})),n}(t,e),u({whitespace:!1},e)):""}const Ui=/CMCD=[^&#]+/;function Gi(t,e,n,r){t&&Object.keys(e).forEach((o=>{const i=t.filter((t=>t.groupId===o)).map((t=>{const i=u({},t);return i.details=void 0,i.attrs=new x(i.attrs),i.url=i.attrs.URI=$i(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),i.groupId=i.attrs["GROUP-ID"]=e[o],i.attrs["PATHWAY-ID"]=r,i}));t.push(...i)}))}function $i(t,e,n,r){const{HOST:o,PARAMS:i,[n]:a}=r;let s;e&&(s=null==a?void 0:a[e],s&&(t=s));const c=new self.URL(t);return o&&!s&&(c.host=o),i&&Object.keys(i).sort().forEach((t=>{t&&c.searchParams.set(t,i[t])})),c.href}const Vi=/^age:\s*[\d.]+\s*$/im;class Hi{constructor(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new k,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null,this.stats=null}abortInternal(){const t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(t,e,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:t,context:e}=this;if(!t||!e)return;const n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0,r.aborted=!1;const o=this.xhrSetup;o?Promise.resolve().then((()=>{if(!this.stats.aborted)return o(n,e.url)})).catch((t=>(n.open("GET",e.url,!0),o(n,e.url)))).then((()=>{this.stats.aborted||this.openAndSendXhr(n,e,t)})).catch((t=>{this.callbacks.onError({code:n.status,text:t.message},e,n,r)})):this.openAndSendXhr(n,e,t)}openAndSendXhr(t,e,n){t.readyState||t.open("GET",e.url,!0);const r=e.headers,{maxTimeToFirstByteMs:o,maxLoadTimeMs:i}=n.loadPolicy;if(r)for(const e in r)t.setRequestHeader(e,r[e]);e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),n.timeout=o&&l(o)?o:i,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),t.send()}readystatechange(){const{context:t,loader:e,stats:n}=this;if(!t||!e)return;const r=e.readyState,o=this.config;if(!n.aborted&&r>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),o.timeout!==o.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),o.timeout=o.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===r)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const r=e.status,i="text"!==e.responseType;if(r>=200&&r<300&&(i&&e.response||null!==e.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);const o=i?e.response:e.responseText,a="arraybuffer"===e.responseType?o.byteLength:o.length;if(n.loaded=n.total=a,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;const s=this.callbacks.onProgress;if(s&&s(n,t,o,e),!this.callbacks)return;const c={url:e.responseURL,data:o,code:r};this.callbacks.onSuccess(c,n,t,e)}else{const i=o.loadPolicy.errorRetry;Qe(i,n.retry,!1,{url:t.url,data:void 0,code:r})?this.retry(i):(b.error(`${r} while loading ${t.url}`),this.callbacks.onError({code:r,text:e.statusText},t,e,n))}}}loadtimeout(){var t;const e=null==(t=this.config)?void 0:t.loadPolicy.timeoutRetry;if(Qe(e,this.stats.retry,!0))this.retry(e);else{var n;b.warn(`timeout while loading ${null==(n=this.context)?void 0:n.url}`);const t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))}}retry(t){const{context:e,stats:n}=this;this.retryDelay=qe(t,n.retry),n.retry++,b.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${null==e?void 0:e.url}, retrying ${n.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(t){const e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)}getCacheAge(){let t=null;if(this.loader&&Vi.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.loader&&new RegExp(`^${t}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}const Ki=/(\d+)-(\d+)\/(\d+)/;class Yi{constructor(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||zi,this.controller=new self.AbortController,this.stats=new k}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(t,e,n){const r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();const o=function(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(u({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}(t,this.controller.signal),i=n.onProgress,a="arraybuffer"===t.responseType,s=a?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:f}=e.loadPolicy;this.context=t,this.config=e,this.callbacks=n,this.request=this.fetchSetup(t,o),self.clearTimeout(this.requestTimeout),e.timeout=c&&l(c)?c:f,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),n.onTimeout(r,t,this.response)}),e.timeout),self.fetch(this.request).then((o=>{this.response=this.loader=o;const s=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=f,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),n.onTimeout(r,t,this.response)}),f-(s-r.loading.start)),!o.ok){const{status:t,statusText:e}=o;throw new Wi(e||"fetch, bad network response",t,o)}return r.loading.first=s,r.total=function(t){const e=t.get("Content-Range");if(e){const t=function(t){const e=Ki.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}(e);if(l(t))return t}const n=t.get("Content-Length");if(n)return parseInt(n)}(o.headers)||r.total,i&&l(e.highWaterMark)?this.loadProgressively(o,r,t,e.highWaterMark,i):a?o.arrayBuffer():"json"===t.responseType?o.json():o.text()})).then((o=>{const a=this.response;if(!a)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);const c=o[s];c&&(r.loaded=r.total=c);const u={url:a.url,data:o,code:a.status};i&&!l(e.highWaterMark)&&i(r,t,o,a),n.onSuccess(u,r,t,a)})).catch((e=>{if(self.clearTimeout(this.requestTimeout),r.aborted)return;const o=e&&e.code||0,i=e?e.message:null;n.onError({code:o,text:i},t,e?e.details:null,r)}))}getCacheAge(){let t=null;if(this.response){const e=this.response.headers.get("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.response?this.response.headers.get(t):null}loadProgressively(t,e,n,r=0,o){const i=new Jn,a=t.body.getReader(),s=()=>a.read().then((a=>{if(a.done)return i.dataLength&&o(e,n,i.flush(),t),Promise.resolve(new ArrayBuffer(0));const c=a.value,u=c.length;return e.loaded+=u,u<r||i.dataLength?(i.push(c),i.dataLength>=r&&o(e,n,i.flush(),t)):o(e,n,c,t),s()})).catch((()=>Promise.reject()));return s()}}function zi(t,e){return new self.Request(t.url,e)}class Wi extends Error{constructor(t,e,n){super(t),this.code=void 0,this.details=void 0,this.code=e,this.details=n}}const Zi=/\s/,qi={newCue(t,e,n,r){const o=[];let i,a,s,c,u;const l=self.VTTCue||self.TextTrackCue;for(let h=0;h<r.rows.length;h++)if(i=r.rows[h],s=!0,c=0,u="",!i.isEmpty()){var f;for(let t=0;t<i.chars.length;t++)Zi.test(i.chars[t].uchar)&&s?c++:(u+=i.chars[t].uchar,s=!1);i.cueStartTime=e,e===n&&(n+=1e-4),c>=16?c--:c++;const r=Uo(u.trim()),p=Ko(e,n,r);null!=t&&null!=(f=t.cues)&&f.getCueById(p)||(a=new l(e,n,r),a.id=p,a.line=h+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*c/32)),o.push(a))}return t&&o.length&&(o.sort(((t,e)=>"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line)),o.forEach((e=>Ce(t,e)))),o}},Xi=s(s({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Hi,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class{constructor(t){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:t,partCurrent:e,hls:n}=this,{autoLevelEnabled:r,media:o}=n;if(!t||!o)return;const i=performance.now(),a=e?e.stats:t.stats,s=e?e.duration:t.duration,c=i-a.loading.start,u=n.minAutoLevel;if(a.aborted||a.loaded&&a.loaded===a.total||t.level<=u)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!r||o.paused||!o.playbackRate||!o.readyState)return;const f=n.mainForwardBufferInfo;if(null===f)return;const h=this.bwEstimator.getEstimateTTFB(),d=Math.abs(o.playbackRate);if(c<=Math.max(h,s/(2*d)*1e3))return;const y=f.len/d,v=a.loading.first?a.loading.first-a.loading.start:-1,g=a.loaded&&v>-1,m=this.getBwEstimate(),w=n.levels,A=w[t.level],x=a.total||Math.max(a.loaded,Math.round(s*A.averageBitrate/8));let E=g?c-v:c;E<1&&g&&(E=Math.min(c,8*a.loaded/m));const C=g?1e3*a.loaded/E:0,k=C?(x-a.loaded)/C:8*x/m+h/1e3;if(k<=y)return;const L=C?8*C:m;let _,S=Number.POSITIVE_INFINITY;for(_=t.level-1;_>u;_--){const t=w[_].maxBitrate;if(S=this.getTimeToLoadFrag(h/1e3,L,s*t,!w[_].details),S<y)break}if(S>=k)return;if(S>10*s)return;n.nextLoadLevel=n.nextAutoLevel=_,g?this.bwEstimator.sample(c-Math.min(h,v),a.loaded):this.bwEstimator.sampleTTFB(c);const O=w[_].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>O&&this.resetEstimator(O),this.clearTimer(),b.warn(`[abr] Fragment ${t.sn}${e?" part "+e.index:""} of level ${t.level} is loading too slowly;\n      Time to underbuffer: ${y.toFixed(3)} s\n      Estimated load time for current fragment: ${k.toFixed(3)} s\n      Estimated load time for down switch fragment: ${S.toFixed(3)} s\n      TTFB estimate: ${0|v} ms\n      Current BW estimate: ${l(m)?0|m:"Unknown"} bps\n      New BW estimate: ${0|this.getBwEstimate()} bps\n      Switching to level ${_} @ ${0|O} bps`),n.trigger(p.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:a})},this.hls=t,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(t){t&&(b.log(`setting initial bwe to ${t}`),this.hls.config.abrEwmaDefaultEstimate=t),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const t=this.hls.config;return new an(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate)}registerListeners(){const{hls:t}=this;t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.FRAG_LOADING,this.onFragLoading,this),t.on(p.FRAG_LOADED,this.onFragLoaded,this),t.on(p.FRAG_BUFFERED,this.onFragBuffered,this),t.on(p.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(p.LEVEL_LOADED,this.onLevelLoaded,this),t.on(p.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(p.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.on(p.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t&&(t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.FRAG_LOADING,this.onFragLoading,this),t.off(p.FRAG_LOADED,this.onFragLoaded,this),t.off(p.FRAG_BUFFERED,this.onFragBuffered,this),t.off(p.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(p.LEVEL_LOADED,this.onLevelLoaded,this),t.off(p.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(p.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.off(p.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(t,e){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(t,e){const n=e.frag;var r;this.ignoreFragment(n)||(n.bitrateTest||(this.fragCurrent=n,this.partCurrent=null!=(r=e.part)?r:null),this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100))}onLevelSwitching(t,e){this.clearTimer()}onError(t,e){if(!e.fatal)switch(e.details){case y.BUFFER_ADD_CODEC_ERROR:case y.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case y.FRAG_LOAD_TIMEOUT:{const t=e.frag,{fragCurrent:n,partCurrent:r}=this;if(t&&n&&t.sn===n.sn&&t.level===n.level){const e=performance.now(),n=r?r.stats:t.stats,o=e-n.loading.start,i=n.loading.first?n.loading.first-n.loading.start:-1;if(n.loaded&&i>-1){const t=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(o-Math.min(t,i),n.loaded)}else this.bwEstimator.sampleTTFB(o)}break}}}getTimeToLoadFrag(t,e,n,r){return t+n/e+(r?this.lastLevelLoadSec:0)}onLevelLoaded(t,e){const n=this.hls.config,{loading:r}=e.stats,o=r.end-r.start;l(o)&&(this.lastLevelLoadSec=o/1e3),e.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}onFragLoaded(t,{frag:e,part:n}){const r=n?n.stats:e.stats;if(e.type===ge&&this.bwEstimator.sampleTTFB(r.loading.first-r.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),e.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const t=n?n.duration:e.duration,o=this.hls.levels[e.level],i=(o.loaded?o.loaded.bytes:0)+r.loaded,a=(o.loaded?o.loaded.duration:0)+t;o.loaded={bytes:i,duration:a},o.realBitrate=Math.round(8*i/a)}if(e.bitrateTest){const t={stats:r,frag:e,part:n,id:e.type};this.onFragBuffered(p.FRAG_BUFFERED,t),e.bitrateTest=!1}else this.lastLoadedFragLevel=e.level}}onFragBuffered(t,e){const{frag:n,part:r}=e,o=null!=r&&r.stats.loaded?r.stats:n.stats;if(o.aborted)return;if(this.ignoreFragment(n))return;const i=o.parsing.end-o.loading.start-Math.min(o.loading.first-o.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(i,o.loaded),o.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}ignoreFragment(t){return t.type!==ge||"initSegment"===t.sn}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:t,minAutoLevel:e}=this.hls,n=this.getBwEstimate(),r=this.hls.config.maxStarvationDelay,o=this.findBestLevel(n,e,t,0,r,1,1);if(o>-1)return o;const i=this.hls.firstLevel,a=Math.min(Math.max(i,e),t);return b.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${i} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const t=this.forcedAutoLevel,e=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(!(-1===t||e&&n&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return t;const r=e&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==t){const e=this.hls.levels;if(e.length>Math.max(t,r)&&e[t].loadError<=e[r].loadError)return t}return this._nextAutoLevel=r,this.nextAutoLevelKey=this.getAutoLevelKey(),r}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:t,partCurrent:e,hls:n}=this,{maxAutoLevel:r,config:o,minAutoLevel:i}=n,a=e?e.duration:t?t.duration:0,s=this.getBwEstimate(),c=this.getStarvationDelay();let u=o.abrBandWidthFactor,l=o.abrBandWidthUpFactor;if(c){const t=this.findBestLevel(s,i,r,c,0,u,l);if(t>=0)return t}let f=a?Math.min(a,o.maxStarvationDelay):o.maxStarvationDelay;if(!c){const t=this.bitrateTestDelay;t&&(f=(a?Math.min(a,o.maxLoadingDelay):o.maxLoadingDelay)-t,b.info(`[abr] bitrate test took ${Math.round(1e3*t)}ms, set first fragment max fetchDuration to ${Math.round(1e3*f)} ms`),u=l=1)}const h=this.findBestLevel(s,i,r,c,f,u,l);if(b.info(`[abr] ${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`),h>-1)return h;const p=n.levels[i],d=n.levels[n.loadLevel];return(null==p?void 0:p.bitrate)<(null==d?void 0:d.bitrate)?i:n.loadLevel}getStarvationDelay(){const t=this.hls,e=t.media;if(!e)return 1/0;const n=e&&0!==e.playbackRate?Math.abs(e.playbackRate):1,r=t.mainForwardBufferInfo;return(r?r.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(t,e,n,r,o,i,a){var s;const c=r+o,u=this.lastLoadedFragLevel,f=-1===u?this.hls.firstLevel:u,{fragCurrent:h,partCurrent:p}=this,{levels:d,allAudioTracks:y,loadLevel:v,config:g}=this.hls;if(1===d.length)return 0;const m=d[f],w=!(null==m||null==(s=m.details)||!s.live),A=-1===v||-1===u;let x,E="SDR",C=(null==m?void 0:m.frameRate)||0;const{audioPreference:k,videoPreference:L}=g,_=this.audioTracksByGroup||(this.audioTracksByGroup=function(t){return t.reduce(((t,e)=>{let n=t.groups[e.groupId];n||(n=t.groups[e.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(e);const r=e.channels||"2";return n.channels[r]=(n.channels[r]||0)+1,n.hasDefault=n.hasDefault||e.default,n.hasAutoSelect=n.hasAutoSelect||e.autoselect,n.hasDefault&&(t.hasDefaultAudio=!0),n.hasAutoSelect&&(t.hasAutoSelectAudio=!0),t}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}(y));if(A){if(-1!==this.firstSelection)return this.firstSelection;const r=this.codecTiers||(this.codecTiers=function(t,e,n,r){return t.slice(n,r+1).reduce(((t,n)=>{if(!n.codecSet)return t;const r=n.audioGroups;let o=t[n.codecSet];o||(t[n.codecSet]=o={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!r,fragmentError:0}),o.minBitrate=Math.min(o.minBitrate,n.bitrate);const i=Math.min(n.height,n.width);return o.minHeight=Math.min(o.minHeight,i),o.minFramerate=Math.min(o.minFramerate,n.frameRate),o.maxScore=Math.max(o.maxScore,n.score),o.fragmentError+=n.fragmentError,o.videoRanges[n.videoRange]=(o.videoRanges[n.videoRange]||0)+1,r&&r.forEach((t=>{if(!t)return;const n=e.groups[t];o.hasDefaultAudio=o.hasDefaultAudio||e.hasDefaultAudio?n.hasDefault:n.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(n.channels).forEach((t=>{o.channels[t]=(o.channels[t]||0)+n.channels[t]}))})),t}),{})}(d,_,e,n)),o=function(t,e,n,r,o){const i=Object.keys(t),a=null==r?void 0:r.channels,s=null==r?void 0:r.audioCodec,c=a&&2===parseInt(a);let u=!0,f=!1,h=1/0,p=1/0,d=1/0,y=0,v=[];const{preferHDR:g,allowedVideoRanges:m}=function(t,e){let n=!1,r=[];return t&&(n="SDR"!==t,r=[t]),e&&(r=e.allowedVideoRanges||Ne.slice(0),n=void 0!==e.preferHDR?e.preferHDR:function(){if("function"==typeof matchMedia){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return!0===t.matches}return!1}(),r=n?r.filter((t=>"SDR"!==t)):["SDR"]),{preferHDR:n,allowedVideoRanges:r}}(e,o);for(let e=i.length;e--;){const n=t[i[e]];u=n.channels[2]>0,h=Math.min(h,n.minHeight),p=Math.min(p,n.minFramerate),d=Math.min(d,n.minBitrate);const r=m.filter((t=>n.videoRanges[t]>0));r.length>0&&(f=!0,v=r)}h=l(h)?h:0,p=l(p)?p:0;const b=Math.max(1080,h),w=Math.max(30,p);return d=l(d)?d:n,n=Math.max(d,n),f||(e=void 0,v=[]),{codecSet:i.reduce(((e,r)=>{const o=t[r];if(r===e)return e;if(o.minBitrate>n)return fn(r,`min bitrate of ${o.minBitrate} > current estimate of ${n}`),e;if(!o.hasDefaultAudio)return fn(r,"no renditions with default or auto-select sound found"),e;if(s&&r.indexOf(s.substring(0,4))%5!=0)return fn(r,`audio codec preference "${s}" not found`),e;if(a&&!c){if(!o.channels[a])return fn(r,`no renditions with ${a} channel sound found (channels options: ${Object.keys(o.channels)})`),e}else if((!s||c)&&u&&0===o.channels[2])return fn(r,"no renditions with stereo sound found"),e;return o.minHeight>b?(fn(r,`min resolution of ${o.minHeight} > maximum of ${b}`),e):o.minFramerate>w?(fn(r,`min framerate of ${o.minFramerate} > maximum of ${w}`),e):v.some((t=>o.videoRanges[t]>0))?o.maxScore<y?(fn(r,`max score of ${o.maxScore} < selected max of ${y}`),e):e&&(Zt(r)>=Zt(e)||o.fragmentError>t[e].fragmentError)?e:(y=o.maxScore,r):(fn(r,`no variants with VIDEO-RANGE of ${JSON.stringify(v)} found`),e)}),void 0),videoRanges:v,preferHDR:g,minFramerate:p,minBitrate:d}}(r,E,t,k,L),{codecSet:i,videoRanges:a,minFramerate:s,minBitrate:c,preferHDR:u}=o;x=i,E=u?a[a.length-1]:a[0],C=s,t=Math.max(t,c),b.log(`[abr] picked start tier ${JSON.stringify(o)}`)}else x=null==m?void 0:m.codecSet,E=null==m?void 0:m.videoRange;const S=p?p.duration:h?h.duration:0,O=this.bwEstimator.getEstimateTTFB()/1e3,T=[];for(let s=n;s>=e;s--){var P;const e=d[s],h=s>f;if(!e)continue;if(g.useMediaCapabilities&&!e.supportedResult&&!e.supportedPromise){const n=navigator.mediaCapabilities;"function"==typeof(null==n?void 0:n.decodingInfo)&&un(e,_,E,C,t,k)?(e.supportedPromise=ln(e,_,n),e.supportedPromise.then((t=>{if(!this.hls)return;e.supportedResult=t;const n=this.hls.levels,r=n.indexOf(e);t.error?b.warn(`[abr] MediaCapabilities decodingInfo error: "${t.error}" for level ${r} ${JSON.stringify(t)}`):t.supported||(b.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${r} ${JSON.stringify(t)}`),r>-1&&n.length>1&&(b.log(`[abr] Removing unsupported level ${r}`),this.hls.removeLevel(r)))}))):e.supportedResult=sn}if(x&&e.codecSet!==x||E&&e.videoRange!==E||h&&C>e.frameRate||!h&&C>0&&C<e.frameRate||e.supportedResult&&(null==(P=e.supportedResult.decodingInfoResults)||!P[0].smooth)){T.push(s);continue}const y=e.details,L=(p?null==y?void 0:y.partTarget:null==y?void 0:y.averagetargetduration)||S;let R;R=h?a*t:i*t;const I=S&&r>=2*S&&0===o?d[s].averageBitrate:d[s].maxBitrate,j=this.getTimeToLoadFrag(O,R,I*L,void 0===y);if(R>=I&&(s===u||0===e.loadError&&0===e.fragmentError)&&(j<=O||!l(j)||w&&!this.bitrateTestDelay||j<c)){const t=this.forcedAutoLevel;return s===v||-1!==t&&t===v||(T.length&&b.trace(`[abr] Skipped level(s) ${T.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${d[T[0]].codecs}" ${d[T[0]].videoRange}; not compatible with "${m.codecs}" ${E}`),b.info(`[abr] switch candidate:${f}->${s} adjustedbw(${Math.round(R)})-bitrate=${Math.round(R-I)} ttfb:${O.toFixed(1)} avgDuration:${L.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${j.toFixed(1)} firstSelection:${A} codecSet:${x} videoRange:${E} hls.loadLevel:${v}`)),A&&(this.firstSelection=s),s}}return-1}set nextAutoLevel(t){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=Math.min(Math.max(t,n),e);this._nextAutoLevel!==r&&(this.nextAutoLevelKey="",this._nextAutoLevel=r)}},bufferController:class{constructor(t){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=t=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=t=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:t,mediaSource:e}=this;this.log("Media source opened"),t&&(t.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(p.MEDIA_ATTACHED,{media:t,mediaSource:e})),e&&e.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:t,_objectUrl:e}=this;t!==e&&b.error(`Media element src was set while attaching MediaSource (${e} > ${t})`)},this.hls=t;const e="[buffer-controller]";this.appendSource=t.config.preferManagedMediaSource&&"undefined"!=typeof self&&self.ManagedMediaSource,this.log=b.log.bind(b,e),this.warn=b.warn.bind(b,e),this.error=b.error.bind(b,e),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:t}=this;t.on(p.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.MANIFEST_PARSED,this.onManifestParsed,this),t.on(p.BUFFER_RESET,this.onBufferReset,this),t.on(p.BUFFER_APPENDING,this.onBufferAppending,this),t.on(p.BUFFER_CODECS,this.onBufferCodecs,this),t.on(p.BUFFER_EOS,this.onBufferEos,this),t.on(p.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(p.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(p.FRAG_PARSED,this.onFragParsed,this),t.on(p.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:t}=this;t.off(p.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.MANIFEST_PARSED,this.onManifestParsed,this),t.off(p.BUFFER_RESET,this.onBufferReset,this),t.off(p.BUFFER_APPENDING,this.onBufferAppending,this),t.off(p.BUFFER_CODECS,this.onBufferCodecs,this),t.off(p.BUFFER_EOS,this.onBufferEos,this),t.off(p.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(p.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(p.FRAG_PARSED,this.onFragParsed,this),t.off(p.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new co(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(t,e){let n=2;(e.audio&&!e.video||!e.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(t,e){const n=this.media=e.media,r=Vt(this.appendSource);if(n&&r){var o;const t=this.mediaSource=new r;this.log(`created media source: ${null==(o=t.constructor)?void 0:o.name}`),t.addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.addEventListener("startstreaming",this._onStartStreaming),t.addEventListener("endstreaming",this._onEndStreaming));const e=this._objectUrl=self.URL.createObjectURL(t);if(this.appendSource)try{n.removeAttribute("src");const r=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||r&&t instanceof r,lo(n),function(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}(n,e),n.load()}catch(t){n.src=e}else n.src=e;n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:t,mediaSource:e,_objectUrl:n}=this;if(e){if(this.log("media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(t){this.warn(`onMediaDetaching: ${t.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.removeEventListener("startstreaming",this._onStartStreaming),e.removeEventListener("endstreaming",this._onEndStreaming)),t&&(t.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),this.mediaSrc===n?(t.removeAttribute("src"),this.appendSource&&lo(t),t.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(p.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach((t=>{this.resetBuffer(t)})),this._initSourceBuffer()}resetBuffer(t){const e=this.sourceBuffer[t];try{var n;e&&(this.removeBufferListeners(t),this.sourceBuffer[t]=void 0,null!=(n=this.mediaSource)&&n.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(e))}catch(e){this.warn(`onBufferReset ${t}`,e)}}onBufferCodecs(t,e){const n=this.getSourceBufferTypes().length,r=Object.keys(e);if(r.forEach((t=>{if(n){const n=this.tracks[t];if(n&&"function"==typeof n.buffer.changeType){var r;const{id:o,codec:i,levelCodec:a,container:s,metadata:c}=e[t],u=Jt(n.codec,n.levelCodec),l=null==u?void 0:u.replace(uo,"$1");let f=Jt(i,a);const h=null==(r=f)?void 0:r.replace(uo,"$1");if(f&&l!==h){"audio"===t.slice(0,5)&&(f=Qt(f,this.appendSource));const e=`${s};codecs=${f}`;this.appendChangeType(t,e),this.log(`switching codec ${u} to ${f}`),this.tracks[t]={buffer:n.buffer,codec:i,container:s,levelCodec:a,metadata:c,id:o}}}}else this.pendingTracks[t]=e[t]})),n)return;const o=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==o&&(this.log(`${o} bufferCodec event(s) expected ${r.join(",")}`),this.bufferCodecEventsExpected=o),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks()}appendChangeType(t,e){const{operationQueue:n}=this,r={execute:()=>{const r=this.sourceBuffer[t];r&&(this.log(`changing ${t} sourceBuffer type to ${e}`),r.changeType(e)),n.shiftAndExecuteNext(t)},onStart:()=>{},onComplete:()=>{},onError:e=>{this.warn(`Failed to change ${t} SourceBuffer type`,e)}};n.append(r,t,!!this.pendingTracks[t])}onBufferAppending(t,e){const{hls:n,operationQueue:r,tracks:o}=this,{data:i,type:a,frag:s,part:c,chunkMeta:u}=e,l=u.buffering[a],f=self.performance.now();l.start=f;const h=s.stats.buffering,v=c?c.stats.buffering:null;0===h.start&&(h.start=f),v&&0===v.start&&(v.start=f);const g=o.audio;let m=!1;"audio"===a&&"audio/mpeg"===(null==g?void 0:g.container)&&(m=!this.lastMpegAudioChunk||1===u.id||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const b=s.start,w={execute:()=>{if(l.executeStart=self.performance.now(),m){const t=this.sourceBuffer[a];if(t){const e=b-t.timestampOffset;Math.abs(e)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${b} (delta: ${e}) sn: ${s.sn})`),t.timestampOffset=b)}}this.appendExecutor(i,a)},onStart:()=>{},onComplete:()=>{const t=self.performance.now();l.executeEnd=l.end=t,0===h.first&&(h.first=t),v&&0===v.first&&(v.first=t);const{sourceBuffer:e}=this,n={};for(const t in e)n[t]=kn.getBuffered(e[t]);this.appendErrors[a]=0,"audio"===a||"video"===a?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(p.BUFFER_APPENDED,{type:a,frag:s,part:c,chunkMeta:u,parent:s.type,timeRanges:n})},onError:t=>{const e={type:d.MEDIA_ERROR,parent:s.type,details:y.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:s,part:c,chunkMeta:u,error:t,err:t,fatal:!1};if(t.code===DOMException.QUOTA_EXCEEDED_ERR)e.details=y.BUFFER_FULL_ERROR;else{const t=++this.appendErrors[a];e.details=y.BUFFER_APPEND_ERROR,this.warn(`Failed ${t}/${n.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer`),t>=n.config.appendErrorMaxRetry&&(e.fatal=!0)}n.trigger(p.ERROR,e)}};r.append(w,a,!!this.pendingTracks[a])}onBufferFlushing(t,e){const{operationQueue:n}=this,r=t=>({execute:this.removeExecutor.bind(this,t,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(p.BUFFER_FLUSHED,{type:t})},onError:e=>{this.warn(`Failed to remove from ${t} SourceBuffer`,e)}});e.type?n.append(r(e.type),e.type):this.getSourceBufferTypes().forEach((t=>{n.append(r(t),t)}))}onFragParsed(t,e){const{frag:n,part:r}=e,o=[],i=r?r.elementaryStreams:n.elementaryStreams;i[S]?o.push("audiovideo"):(i[L]&&o.push("audio"),i[_]&&o.push("video")),0===o.length&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers((()=>{const t=self.performance.now();n.stats.buffering.end=t,r&&(r.stats.buffering.end=t);const e=r?r.stats:n.stats;this.hls.trigger(p.FRAG_BUFFERED,{frag:n,part:r,stats:e,id:n.type})}),o)}onFragChanged(t,e){this.trimBuffers()}onBufferEos(t,e){this.getSourceBufferTypes().reduce(((t,n)=>{const r=this.sourceBuffer[n];return!r||e.type&&e.type!==n||(r.ending=!0,r.ended||(r.ended=!0,this.log(`${n} sourceBuffer now EOS`))),t&&!(r&&!r.ended)}),!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers((()=>{this.getSourceBufferTypes().forEach((t=>{const e=this.sourceBuffer[t];e&&(e.ending=!1)}));const{mediaSource:t}=this;t&&"open"===t.readyState?(this.log("Calling mediaSource.endOfStream()"),t.endOfStream()):t&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${t.readyState}`)})))}onLevelUpdated(t,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:t,details:e,media:n}=this;if(!n||null===e)return;if(!this.getSourceBufferTypes().length)return;const r=t.config,o=n.currentTime,i=e.levelTargetDuration,a=e.live&&null!==r.liveBackBufferLength?r.liveBackBufferLength:r.backBufferLength;if(l(a)&&a>0){const t=Math.max(a,i),e=Math.floor(o/i)*i-t;this.flushBackBuffer(o,i,e)}if(l(r.frontBufferFlushThreshold)&&r.frontBufferFlushThreshold>0){const t=Math.max(r.maxBufferLength,r.frontBufferFlushThreshold),e=Math.max(t,i),n=Math.floor(o/i)*i+e;this.flushFrontBuffer(o,i,n)}}flushBackBuffer(t,e,n){const{details:r,sourceBuffer:o}=this;this.getSourceBufferTypes().forEach((i=>{const a=o[i];if(a){const o=kn.getBuffered(a);if(o.length>0&&n>o.start(0)){if(this.hls.trigger(p.BACK_BUFFER_REACHED,{bufferEnd:n}),null!=r&&r.live)this.hls.trigger(p.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(a.ended&&o.end(o.length-1)-t<2*e)return void this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);this.hls.trigger(p.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:i})}}}))}flushFrontBuffer(t,e,n){const{sourceBuffer:r}=this;this.getSourceBufferTypes().forEach((o=>{const i=r[o];if(i){const r=kn.getBuffered(i),a=r.length;if(a<2)return;const s=r.start(a-1),c=r.end(a-1);if(n>s||t>=s&&t<=c)return;if(i.ended&&t-c<2*e)return void this.log(`Cannot flush ${o} front buffer while SourceBuffer is in ended state`);this.hls.trigger(p.BUFFER_FLUSHING,{startOffset:s,endOffset:1/0,type:o})}}))}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:t,hls:e,media:n,mediaSource:r}=this,o=t.fragments[0].start+t.totalduration,i=n.duration,a=l(r.duration)?r.duration:0;t.live&&e.config.liveDurationInfinity?(r.duration=1/0,this.updateSeekableRange(t)):(o>a&&o>i||!l(i))&&(this.log(`Updating Media Source duration to ${o.toFixed(3)}`),r.duration=o)}updateSeekableRange(t){const e=this.mediaSource,n=t.fragments;if(n.length&&t.live&&null!=e&&e.setLiveSeekableRange){const r=Math.max(0,n[0].start),o=Math.max(r,r+t.totalduration);this.log(`Media Source duration is set to ${e.duration}. Setting seekable range to ${r}-${o}.`),e.setLiveSeekableRange(r,o)}}checkPendingTracks(){const{bufferCodecEventsExpected:t,operationQueue:e,pendingTracks:n}=this,r=Object.keys(n).length;if(r&&(!t||2===r||"audiovideo"in n)){this.createSourceBuffers(n),this.pendingTracks={};const t=this.getSourceBufferTypes();if(t.length)this.hls.trigger(p.BUFFER_CREATED,{tracks:this.tracks}),t.forEach((t=>{e.executeNext(t)}));else{const t=new Error("could not create source buffer for media codec(s)");this.hls.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:t,reason:t.message})}}}createSourceBuffers(t){const{sourceBuffer:e,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const r in t)if(!e[r]){const o=t[r];if(!o)throw Error(`source buffer exists for track ${r}, however track does not`);let i=o.levelCodec||o.codec;i&&"audio"===r.slice(0,5)&&(i=Qt(i,this.appendSource));const a=`${o.container};codecs=${i}`;this.log(`creating sourceBuffer(${a})`);try{const t=e[r]=n.addSourceBuffer(a),s=r;this.addBufferListener(s,"updatestart",this._onSBUpdateStart),this.addBufferListener(s,"updateend",this._onSBUpdateEnd),this.addBufferListener(s,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(s,"bufferedchange",((t,e)=>{const n=e.removedRanges;null!=n&&n.length&&this.hls.trigger(p.BUFFER_FLUSHED,{type:r})})),this.tracks[r]={buffer:t,codec:i,container:o.container,levelCodec:o.levelCodec,metadata:o.metadata,id:o.id}}catch(t){this.error(`error while trying to add sourceBuffer: ${t.message}`),this.hls.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,sourceBufferName:r,mimeType:a})}}}get mediaSrc(){var t;const e=(null==(t=this.media)?void 0:t.firstChild)||this.media;return null==e?void 0:e.src}_onSBUpdateStart(t){const{operationQueue:e}=this;e.current(t).onStart()}_onSBUpdateEnd(t){var e;if("closed"===(null==(e=this.mediaSource)?void 0:e.readyState))return void this.resetBuffer(t);const{operationQueue:n}=this;n.current(t).onComplete(),n.shiftAndExecuteNext(t)}_onSBUpdateError(t,e){var n;const r=new Error(`${t} SourceBuffer error. MediaSource readyState: ${null==(n=this.mediaSource)?void 0:n.readyState}`);this.error(`${r}`,e),this.hls.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.BUFFER_APPENDING_ERROR,sourceBufferName:t,error:r,fatal:!1});const o=this.operationQueue.current(t);o&&o.onError(r)}removeExecutor(t,e,n){const{media:r,mediaSource:o,operationQueue:i,sourceBuffer:a}=this,s=a[t];if(!r||!o||!s)return this.warn(`Attempting to remove from the ${t} SourceBuffer, but it does not exist`),void i.shiftAndExecuteNext(t);const c=l(r.duration)?r.duration:1/0,u=l(o.duration)?o.duration:1/0,f=Math.max(0,e),h=Math.min(n,c,u);h>f&&(!s.ending||s.ended)?(s.ended=!1,this.log(`Removing [${f},${h}] from the ${t} SourceBuffer`),s.remove(f,h)):i.shiftAndExecuteNext(t)}appendExecutor(t,e){const n=this.sourceBuffer[e];if(n)n.ended=!1,n.appendBuffer(t);else if(!this.pendingTracks[e])throw new Error(`Attempting to append to the ${e} SourceBuffer, but it does not exist`)}blockBuffers(t,e=this.getSourceBufferTypes()){if(!e.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);const{operationQueue:n}=this,r=e.map((t=>n.appendBlocker(t)));Promise.all(r).then((()=>{t(),e.forEach((t=>{const e=this.sourceBuffer[t];null!=e&&e.updating||n.shiftAndExecuteNext(t)}))}))}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(t,e,n){const r=this.sourceBuffer[t];if(!r)return;const o=n.bind(this,t);this.listeners[t].push({event:e,listener:o}),r.addEventListener(e,o)}removeBufferListeners(t){const e=this.sourceBuffer[t];e&&this.listeners[t].forEach((t=>{e.removeEventListener(t.event,t.listener)}))}},capLevelController:ii,errorController:class{constructor(t){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=t,this.log=b.log.bind(b,"[info]:"),this.warn=b.warn.bind(b,"[warning]:"),this.error=b.error.bind(b,"[error]:"),this.registerListeners()}registerListeners(){const t=this.hls;t.on(p.ERROR,this.onError,this),t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const t=this.hls;t&&(t.off(p.ERROR,this.onError,this),t.off(p.ERROR,this.onErrorOut,this),t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(t){}stopLoad(){this.playlistError=0}getVariantLevelIndex(t){return(null==t?void 0:t.type)===ge?t.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(t,e){var n,r;if(e.fatal)return;const o=this.hls,i=e.context;switch(e.details){case y.FRAG_LOAD_ERROR:case y.FRAG_LOAD_TIMEOUT:case y.KEY_LOAD_ERROR:case y.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case y.FRAG_PARSING_ERROR:if(null!=(n=e.frag)&&n.gap)return void(e.errorAction={action:0,flags:0});case y.FRAG_GAP:case y.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=2);case y.LEVEL_EMPTY_ERROR:case y.LEVEL_PARSING_ERROR:{var a,s;const t=e.parent===ge?e.level:o.loadLevel;e.details===y.LEVEL_EMPTY_ERROR&&null!=(a=e.context)&&null!=(s=a.levelDetails)&&s.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,t):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t))}return;case y.LEVEL_LOAD_ERROR:case y.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==i?void 0:i.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,i.level)));case y.AUDIO_TRACK_LOAD_ERROR:case y.AUDIO_TRACK_LOAD_TIMEOUT:case y.SUBTITLE_LOAD_ERROR:case y.SUBTITLE_TRACK_LOAD_TIMEOUT:if(i){const t=o.levels[o.loadLevel];if(t&&(i.type===ye&&t.hasAudioGroup(i.groupId)||i.type===ve&&t.hasSubtitleGroup(i.groupId)))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,o.loadLevel),e.errorAction.action=2,void(e.errorAction.flags=1)}return;case y.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const t=o.levels[o.loadLevel],n=null==t?void 0:t.attrs["HDCP-LEVEL"];n?e.errorAction={action:2,flags:2,hdcpLevel:n}:this.keySystemError(e)}return;case y.BUFFER_ADD_CODEC_ERROR:case y.REMUX_ALLOC_ERROR:case y.BUFFER_APPEND_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(r=e.level)?r:o.loadLevel));case y.INTERNAL_EXCEPTION:case y.BUFFER_APPENDING_ERROR:case y.BUFFER_FULL_ERROR:case y.LEVEL_SWITCH_ERROR:case y.BUFFER_STALLED_ERROR:case y.BUFFER_SEEK_OVER_HOLE:case y.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:0,flags:0})}e.type===d.KEY_SYSTEM_ERROR&&this.keySystemError(e)}keySystemError(t){const e=this.getVariantLevelIndex(t.frag);t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,e)}getPlaylistRetryOrSwitchAction(t,e){const n=Ze(this.hls.config.playlistLoadPolicy,t),r=this.playlistError++;if(Qe(n,r,We(t),t.response))return{action:5,flags:0,retryConfig:n,retryCount:r};const o=this.getLevelSwitchAction(t,e);return n&&(o.retryConfig=n,o.retryCount=r),o}getFragRetryOrSwitchAction(t){const e=this.hls,n=this.getVariantLevelIndex(t.frag),r=e.levels[n],{fragLoadPolicy:o,keyLoadPolicy:i}=e.config,a=Ze(t.details.startsWith("key")?i:o,t),s=e.levels.reduce(((t,e)=>t+e.fragmentError),0);if(r&&(t.details!==y.FRAG_GAP&&r.fragmentError++,Qe(a,s,We(t),t.response)))return{action:5,flags:0,retryConfig:a,retryCount:s};const c=this.getLevelSwitchAction(t,n);return a&&(c.retryConfig=a,c.retryCount=s),c}getLevelSwitchAction(t,e){const n=this.hls;null==e&&(e=n.loadLevel);const r=this.hls.levels[e];if(r){var o,i;const e=t.details;r.loadError++,e===y.BUFFER_APPEND_ERROR&&r.fragmentError++;let c=-1;const{levels:u,loadLevel:l,minAutoLevel:f,maxAutoLevel:h}=n;n.autoLevelEnabled||(n.loadLevel=-1);const p=null==(o=t.frag)?void 0:o.type,d=(p===me&&e===y.FRAG_PARSING_ERROR||"audio"===t.sourceBufferName&&(e===y.BUFFER_ADD_CODEC_ERROR||e===y.BUFFER_APPEND_ERROR))&&u.some((({audioCodec:t})=>r.audioCodec!==t)),v="video"===t.sourceBufferName&&(e===y.BUFFER_ADD_CODEC_ERROR||e===y.BUFFER_APPEND_ERROR)&&u.some((({codecSet:t,audioCodec:e})=>r.codecSet!==t&&r.audioCodec===e)),{type:g,groupId:m}=null!=(i=t.context)?i:{};for(let n=u.length;n--;){const o=(n+l)%u.length;if(o!==l&&o>=f&&o<=h&&0===u[o].loadError){var a,s;const n=u[o];if(e===y.FRAG_GAP&&t.frag){const e=u[o].details;if(e){const n=tn(t.frag,e.fragments,t.frag.start);if(null!=n&&n.gap)continue}}else{if(g===ye&&n.hasAudioGroup(m)||g===ve&&n.hasSubtitleGroup(m))continue;if(p===me&&null!=(a=r.audioGroups)&&a.some((t=>n.hasAudioGroup(t)))||p===be&&null!=(s=r.subtitleGroups)&&s.some((t=>n.hasSubtitleGroup(t)))||d&&r.audioCodec===n.audioCodec||!d&&r.audioCodec!==n.audioCodec||v&&r.codecSet===n.codecSet)continue}c=o;break}}if(c>-1&&n.loadLevel!==c)return t.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:c}}return{action:2,flags:1}}onErrorOut(t,e){var n;switch(null==(n=e.errorAction)?void 0:n.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===y.FRAG_GAP?/MediaSource readyState: ended/.test(e.error.message)&&(this.warn(`MediaSource ended after "${e.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError()):e.fatal=!0}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(t){const e=this.hls,n=t.errorAction;if(!n)return;const{flags:r,hdcpLevel:o,nextAutoLevel:i}=n;switch(r){case 0:this.switchLevel(t,i);break;case 2:o&&(e.maxHdcpLevel=De[De.indexOf(o)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}n.resolved||this.switchLevel(t,i)}switchLevel(t,e){void 0!==e&&t.errorAction&&(this.warn(`switching to level ${e} after ${t.details}`),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},fpsController:class{constructor(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}setStreamController(t){this.streamController=t}registerListeners(){this.hls.on(p.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(p.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(t,e){const n=this.hls.config;if(n.capLevelOnFPSDrop){const t=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=t,t&&"function"==typeof t.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(t,e,n){const r=performance.now();if(e){if(this.lastTime){const t=r-this.lastTime,o=n-this.lastDroppedFrames,i=e-this.lastDecodedFrames,a=1e3*o/t,s=this.hls;if(s.trigger(p.FPS_DROP,{currentDropped:o,currentDecoded:i,totalDroppedFrames:n}),a>0&&o>s.config.fpsDroppedMonitoringThreshold*i){let t=s.currentLevel;b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+t),t>0&&(-1===s.autoLevelCapping||s.autoLevelCapping>=t)&&(t-=1,s.trigger(p.FPS_DROP_LEVEL_CAPPING,{level:t,droppedLevel:s.currentLevel}),s.autoLevelCapping=t,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}}checkFPSInterval(){const t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){const e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:K,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:qi,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends Qn{constructor(t,e,n){super(t,e,n,"[subtitle-stream-controller]",be),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:t}=this;t.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.LEVEL_LOADED,this.onLevelLoaded,this),t.on(p.ERROR,this.onError,this),t.on(p.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(p.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(p.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(p.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(p.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(p.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.LEVEL_LOADED,this.onLevelLoaded,this),t.off(p.ERROR,this.onError,this),t.off(p.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(p.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(p.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(p.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(p.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(p.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(t){this.stopLoad(),this.state=Gn,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(t,e){this.mainDetails=e.details}onSubtitleFragProcessed(t,e){const{frag:n,success:r}=e;if(this.fragPrevious=n,this.state=Gn,!r)return;const o=this.tracksBuffered[this.currentTrackId];if(!o)return;let i;const a=n.start;for(let t=0;t<o.length;t++)if(a>=o[t].start&&a<=o[t].end){i=o[t];break}const s=n.start+n.duration;i?i.end=s:(i={start:a,end:s},o.push(i)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null)}onBufferFlushing(t,e){const{startOffset:n,endOffset:r}=e;if(0===n&&r!==Number.POSITIVE_INFINITY){const t=r-1;if(t<=0)return;e.endOffsetSubtitles=Math.max(0,t),this.tracksBuffered.forEach((e=>{for(let n=0;n<e.length;)if(e[n].end<=t)e.shift();else{if(!(e[n].start<t))break;e[n].start=t,n++}})),this.fragmentTracker.removeFragmentsInRange(n,t,be)}}onFragBuffered(t,e){var n;this.loadedmetadata||e.frag.type!==ge||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}onError(t,e){const n=e.frag;(null==n?void 0:n.type)===be&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Un&&(this.state=Gn))}onSubtitleTracksUpdated(t,{subtitleTracks:e}){this.levels&&oo(this.levels,e)?this.levels=e.map((t=>new Fe(t))):(this.tracksBuffered=[],this.levels=e.map((t=>{const e=new Fe(t);return this.tracksBuffered[e.id]=[],e})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,be),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(t,e){var n;if(this.currentTrackId=e.id,null==(n=this.levels)||!n.length||-1===this.currentTrackId)return void this.clearInterval();const r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}onSubtitleTrackLoaded(t,e){var n;const{currentTrackId:r,levels:o}=this,{details:i,id:a}=e;if(!o)return void this.warn(`Subtitle tracks were reset while loading level ${a}`);const s=o[r];if(a>=o.length||a!==r||!s)return;this.log(`Subtitle track ${a} loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""},duration:${i.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(i.live||null!=(n=s.details)&&n.live){const t=this.mainDetails;if(i.deltaUpdateFailed||!t)return;const e=t.fragments[0];var u;s.details?(c=this.alignPlaylists(i,s.details,null==(u=this.levelLastLoaded)?void 0:u.details),0===c&&e&&(c=e.start,He(i,c))):i.hasProgramDateTime&&t.hasProgramDateTime?(Tn(i,t),c=i.fragments[0].start):e&&(c=e.start,He(i,c))}s.details=i,this.levelLastLoaded=s,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(this.mainDetails||i,c),this.tick(),i.live&&!this.fragCurrent&&this.media&&this.state===Gn&&(tn(null,i.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0))}_handleFragmentLoadComplete(t){const{frag:e,payload:n}=t,r=e.decryptdata,o=this.hls;if(!this.fragContextChanged(e)&&n&&n.byteLength>0&&null!=r&&r.key&&r.iv&&"AES-128"===r.method){const t=performance.now();this.decrypter.decrypt(new Uint8Array(n),r.key.buffer,r.iv.buffer).catch((t=>{throw o.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((n=>{const r=performance.now();o.trigger(p.FRAG_DECRYPTED,{frag:e,payload:n,stats:{tstart:t,tdecrypt:r}})})).catch((t=>{this.warn(`${t.name}: ${t.message}`),this.state=Gn}))}}doTick(){if(this.media){if(this.state===Gn){const{currentTrackId:t,levels:e}=this,n=null==e?void 0:e[t];if(!n||!e.length||!n.details)return;const{config:r}=this,o=this.getLoadPosition(),i=kn.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],o,r.maxBufferHole),{end:a,len:s}=i,c=this.getFwdBufferInfo(this.media,ge),u=n.details;if(s>this.getMaxBufferLength(null==c?void 0:c.len)+u.levelTargetDuration)return;const l=u.fragments,f=l.length,h=u.edge;let p=null;const d=this.fragPrevious;if(a<h){const t=r.maxFragLookUpTolerance,e=a>h-t?0:t;p=tn(d,l,Math.max(l[0].start,a),e),!p&&d&&d.start<l[0].start&&(p=l[0])}else p=l[f-1];if(!p)return;if(p=this.mapToInitFragWhenRequired(p),"initSegment"!==p.sn){const t=l[p.sn-u.startSN-1];t&&t.cc===p.cc&&this.fragmentTracker.getState(t)===gn&&(p=t)}this.fragmentTracker.getState(p)===gn&&this.loadFragment(p,n,a)}}else this.state=Gn}getMaxBufferLength(t){const e=super.getMaxBufferLength();return t?Math.max(e,t):e}loadFragment(t,e,n){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t,e):(this.startFragRequested=!0,super.loadFragment(t,e,n))}get mediaBufferTimeRanges(){return new so(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends rn{constructor(t){super(t,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const e=_e(this.media.textTracks);for(let n=0;n<e.length;n++)if("hidden"===e[n].mode)t=e[n];else if("showing"===e[n].mode){t=e[n];break}const n=this.findTrackForTextTrack(t);this.subtitleTrack!==n&&this.setSubtitleTrack(n)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:t}=this;t.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.MANIFEST_PARSED,this.onManifestParsed,this),t.on(p.LEVEL_LOADING,this.onLevelLoading,this),t.on(p.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(p.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(p.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.MANIFEST_PARSED,this.onManifestParsed,this),t.off(p.LEVEL_LOADING,this.onLevelLoading,this),t.off(p.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(p.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(p.ERROR,this.onError,this)}onMediaAttached(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,t)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),_e(this.media.textTracks).forEach((t=>{ke(t)})),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(t,e){const{id:n,groupId:r,details:o}=e,i=this.tracksInGroup[n];if(!i||i.groupId!==r)return void this.warn(`Subtitle track with id:${n} and group:${r} not found in active group ${null==i?void 0:i.groupId}`);const a=i.details;i.details=e.details,this.log(`Subtitle track ${n} "${i.name}" lang:${i.lang} group:${r} loaded [${o.startSN}-${o.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,a)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const n=e.subtitleGroups||null,r=this.groupIds;let o=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((t=>-1===(null==r?void 0:r.indexOf(t))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter((t=>!n||-1!==n.indexOf(t.groupId)));if(t.length)this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),t.forEach(((t,e)=>{t.id=e}));else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.subtitlePreference;if(!o&&e){this.selectDefaultTrack=!1;const n=hn(e,t);if(n>-1)o=t[n];else{const t=hn(e,this.tracks);o=this.tracks[t]}}let r=this.findTrackId(o);-1===r&&o&&(r=this.findTrackId(null));const i={subtitleTracks:t};this.log(`Updating subtitle tracks, ${t.length} track(s) found in "${null==n?void 0:n.join(",")}" group-id`),this.hls.trigger(p.SUBTITLE_TRACKS_UPDATED,i),-1!==r&&-1===this.trackId&&this.setSubtitleTrack(r)}else this.shouldReloadPlaylist(o)&&this.setSubtitleTrack(this.trackId)}findTrackId(t){const e=this.tracksInGroup,n=this.selectDefaultTrack;for(let r=0;r<e.length;r++){const o=e[r];if((!n||o.default)&&(n||t)&&(!t||pn(o,t)))return r}if(t){for(let n=0;n<e.length;n++){const r=e[n];if(io(t.attrs,r.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<e.length;n++){const r=e[n];if(io(t.attrs,r.attrs,["LANGUAGE"]))return n}}return-1}findTrackForTextTrack(t){if(t){const e=this.tracksInGroup;for(let n=0;n<e.length;n++)if(ao(e[n],t))return n}return-1}onError(t,e){!e.fatal&&e.context&&(e.context.type!==ve||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||this.checkRetry(e))}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(t){this.selectDefaultTrack=!1,this.setSubtitleTrack(t)}setSubtitleOption(t){if(this.hls.config.subtitlePreference=t,t){const e=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,e.length){const n=this.currentTrack;if(n&&pn(t,n))return n;const r=hn(t,this.tracksInGroup);if(r>-1){const t=this.tracksInGroup[r];return this.setSubtitleTrack(r),t}if(n)return null;{const n=hn(t,e);if(n>-1)return e[n]}}}return null}loadPlaylist(t){super.loadPlaylist();const e=this.currentTrack;if(this.shouldLoadPlaylist(e)&&e){const n=e.id,r=e.groupId;let o=e.url;if(t)try{o=t.addDirectives(o)}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}this.log(`Loading subtitle playlist for id ${n}`),this.hls.trigger(p.SUBTITLE_TRACK_LOADING,{url:o,id:n,groupId:r,deliveryDirectives:t||null})}}toggleTrackModes(){const{media:t}=this;if(!t)return;const e=_e(t.textTracks),n=this.currentTrack;let r;if(n&&(r=e.filter((t=>ao(n,t)))[0],r||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(e).forEach((t=>{"disabled"!==t.mode&&t!==r&&(t.mode="disabled")})),r){const t=this.subtitleDisplay?"showing":"hidden";r.mode!==t&&(r.mode=t)}}setSubtitleTrack(t){const e=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=t);if(t<-1||t>=e.length||!l(t))return void this.warn(`Invalid subtitle track id: ${t}`);this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,r=e[t]||null;if(this.trackId=t,this.currentTrack=r,this.toggleTrackModes(),!r)return void this.hls.trigger(p.SUBTITLE_TRACK_SWITCH,{id:t});const o=!!r.details&&!r.details.live;if(t===this.trackId&&r===n&&o)return;this.log(`Switching to subtitle-track ${t}`+(r?` "${r.name}" lang:${r.lang} group:${r.groupId}`:""));const{id:i,groupId:a="",name:s,type:c,url:u}=r;this.hls.trigger(p.SUBTITLE_TRACK_SWITCH,{id:i,groupId:a,name:s,type:c,url:u});const f=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(f)}},timelineController:class{constructor(t){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},t.on(p.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(p.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(p.FRAG_LOADING,this.onFragLoading,this),t.on(p.FRAG_LOADED,this.onFragLoaded,this),t.on(p.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(p.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(p.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(p.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(p.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:t}=this;t.off(p.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(p.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(p.FRAG_LOADING,this.onFragLoading,this),t.off(p.FRAG_LOADED,this.onFragLoaded,this),t.off(p.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(p.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(p.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(p.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(p.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const t=new Po(this,"textTrack1"),e=new Po(this,"textTrack2"),n=new Po(this,"textTrack3"),r=new Po(this,"textTrack4");this.cea608Parser1=new So(1,t,e),this.cea608Parser2=new So(3,n,r)}}addCues(t,e,n,r,o){let i=!1;for(let t=o.length;t--;){const r=o[t],l=(a=r[0],s=r[1],c=e,u=n,Math.min(s,u)-Math.max(a,c));if(l>=0&&(r[0]=Math.min(r[0],e),r[1]=Math.max(r[1],n),i=!0,l/(n-e)>.5))return}var a,s,c,u;if(i||o.push([e,n]),this.config.renderTextTracksNatively){const o=this.captionsTracks[t];this.Cues.newCue(o,e,n,r)}else{const o=this.Cues.newCue(null,e,n,r);this.hls.trigger(p.CUES_PARSED,{type:"captions",cues:o,track:t})}}onInitPtsFound(t,{frag:e,id:n,initPTS:r,timescale:o}){const{unparsedVttFrags:i}=this;"main"===n&&(this.initPTS[e.cc]={baseTime:r,timescale:o}),i.length&&(this.unparsedVttFrags=[],i.forEach((t=>{this.onFragLoaded(p.FRAG_LOADED,t)})))}getExistingTrack(t,e){const{media:n}=this;if(n)for(let r=0;r<n.textTracks.length;r++){const o=n.textTracks[r];if(oi(o,{name:t,lang:e,attrs:{}}))return o}return null}createCaptionsTrack(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)}createNativeTrack(t){if(this.captionsTracks[t])return;const{captionsProperties:e,captionsTracks:n,media:r}=this,{label:o,languageCode:i}=e[t],a=this.getExistingTrack(o,i);if(a)n[t]=a,ke(n[t]),Ee(n[t],r);else{const e=this.createTextTrack("captions",o,i);e&&(e[t]=!0,n[t]=e)}}createNonNativeTrack(t){if(this.nonNativeCaptionsTracks[t])return;const e=this.captionsProperties[t];if(!e)return;const n={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(p.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}createTextTrack(t,e,n){const r=this.media;if(r)return r.addTextTrack(t,e,n)}onMediaAttaching(t,e){this.media=e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:t}=this;Object.keys(t).forEach((e=>{ke(t[e]),delete t[e]})),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:t}=this;if(!t)return;const e=t.textTracks;if(e)for(let t=0;t<e.length;t++)ke(e[t])}onSubtitleTracksUpdated(t,e){const n=e.subtitleTracks||[],r=n.some((t=>t.textCodec===Yo));if(this.config.enableWebVTT||r&&this.config.enableIMSC1){if(oo(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const t=this.media,e=t?_e(t.textTracks):null;if(this.tracks.forEach(((t,n)=>{let r;if(e){let n=null;for(let r=0;r<e.length;r++)if(e[r]&&oi(e[r],t)){n=e[r],e[r]=null;break}n&&(r=n)}if(r)ke(r);else{const e=ri(t);r=this.createTextTrack(e,t.name,t.lang),r&&(r.mode="disabled")}r&&this.textTracks.push(r)})),null!=e&&e.length){const t=e.filter((t=>null!==t)).map((t=>t.label));t.length&&b.warn(`Media element contains unused subtitle tracks: ${t.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const t=this.tracks.map((t=>({label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t})));this.hls.trigger(p.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:t})}}}onManifestLoaded(t,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((t=>{const e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(!e)return;const n=`textTrack${e[1]}`,r=this.captionsProperties[n];r&&(r.label=t.name,t.lang&&(r.languageCode=t.lang),r.media=t)}))}closedCaptionsForLevel(t){const e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]}onFragLoading(t,e){this.initCea608Parsers();const{cea608Parser1:n,cea608Parser2:r,lastCc:o,lastSn:i,lastPartIndex:a}=this;if(this.enabled&&n&&r&&e.frag.type===ge){var s,c;const{cc:t,sn:u}=e.frag,l=null!=(s=null==e||null==(c=e.part)?void 0:c.index)?s:-1;u===i+1||u===i&&l===a+1||t===o||(n.reset(),r.reset()),this.lastCc=t,this.lastSn=u,this.lastPartIndex=l}}onFragLoaded(t,e){const{frag:n,payload:r}=e;if(n.type===be)if(r.byteLength){const t=n.decryptdata,o="stats"in e;if(null==t||!t.encrypted||o){const t=this.tracks[n.level],o=this.vttCCs;o[n.cc]||(o[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),t&&t.textCodec===Yo?this._parseIMSC1(n,r):this._parseVTTs(e)}}else this.hls.trigger(p.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(t,e){const n=this.hls;qo(e,this.initPTS[t.cc],(e=>{this._appendCues(e,t.level),n.trigger(p.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(e=>{b.log(`Failed to parse IMSC1: ${e}`),n.trigger(p.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))}_parseVTTs(t){var e;const{frag:n,payload:r}=t,{initPTS:o,unparsedVttFrags:i}=this,a=o.length-1;if(!o[n.cc]&&-1===a)return void i.push(t);const s=this.hls;!function(t,e,n,r,o,i,a){const s=new Go,c=ct(new Uint8Array(t)).trim().replace($o,"\n").split("\n"),u=[],f=e?function(t,e=1){return Mr(t,9e4,1/e)}(e.baseTime,e.timescale):0;let h,p="00:00.000",d=0,y=0,v=!0;s.oncue=function(t){const i=n[r];let a=n.ccOffset;const s=(d-f)/9e4;if(null!=i&&i.new&&(void 0!==y?a=n.ccOffset=i.start:function(t,e,n){let r=t[e],o=t[r.prevCC];if(!o||!o.new&&r.new)return t.ccOffset=t.presentationOffset=r.start,void(r.new=!1);for(;null!=(i=o)&&i.new;){var i;t.ccOffset+=r.start-o.start,r.new=!1,r=o,o=t[r.prevCC]}t.presentationOffset=n}(n,r,s)),s){if(!e)return void(h=new Error("Missing initPTS for VTT MPEGTS"));a=s-n.presentationOffset}const c=t.endTime-t.startTime,l=Hr(9e4*(t.startTime+a-y),9e4*o)/9e4;t.startTime=Math.max(l,0),t.endTime=Math.max(l+c,0);const p=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(p)),t.id||(t.id=Ko(t.startTime,t.endTime,p)),t.endTime>0&&u.push(t)},s.onparsingerror=function(t){h=t},s.onflush=function(){h?a(h):i(u)},c.forEach((t=>{if(v){if(Vo(t,"X-TIMESTAMP-MAP=")){v=!1,t.slice(16).split(",").forEach((t=>{Vo(t,"LOCAL:")?p=t.slice(6):Vo(t,"MPEGTS:")&&(d=parseInt(t.slice(7)))}));try{y=function(t){let e=parseInt(t.slice(-3));const n=parseInt(t.slice(-6,-4)),r=parseInt(t.slice(-9,-7)),o=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!(l(e)&&l(n)&&l(r)&&l(o)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${t}`);return e+=1e3*n,e+=6e4*r,e+=36e5*o,e}(p)/1e3}catch(t){h=t}return}""===t&&(v=!1)}s.parse(t+"\n")})),s.flush()}(null!=(e=n.initSegment)&&e.data?Tt(n.initSegment.data,new Uint8Array(r)):r,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,(t=>{this._appendCues(t,n.level),s.trigger(p.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})}),(e=>{const o="Missing initPTS for VTT MPEGTS"===e.message;o?i.push(t):this._fallbackToIMSC1(n,r),b.log(`Failed to parse VTT cue: ${e}`),o&&a>n.cc||s.trigger(p.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:e})}))}_fallbackToIMSC1(t,e){const n=this.tracks[t.level];n.textCodec||qo(e,this.initPTS[t.cc],(()=>{n.textCodec=Yo,this._parseIMSC1(t,e)}),(()=>{n.textCodec="wvtt"}))}_appendCues(t,e){const n=this.hls;if(this.config.renderTextTracksNatively){const n=this.textTracks[e];if(!n||"disabled"===n.mode)return;t.forEach((t=>Ce(n,t)))}else{const r=this.tracks[e];if(!r)return;const o=r.default?"default":"subtitles"+e;n.trigger(p.CUES_PARSED,{type:"subtitles",cues:t,track:o})}}onFragDecrypted(t,e){const{frag:n}=e;n.type===be&&this.onFragLoaded(p.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(t,e){this.initCea608Parsers();const{cea608Parser1:n,cea608Parser2:r}=this;if(!this.enabled||!n||!r)return;const{frag:o,samples:i}=e;if(o.type!==ge||"NONE"!==this.closedCaptionsForLevel(o))for(let t=0;t<i.length;t++){const e=i[t].bytes;if(e){const o=this.extractCea608Data(e);n.addData(i[t].pts,o[0]),r.addData(i[t].pts,o[1])}}}onBufferFlushing(t,{startOffset:e,endOffset:n,endOffsetSubtitles:r,type:o}){const{media:i}=this;if(i&&!(i.currentTime<n)){if(!o||"video"===o){const{captionsTracks:t}=this;Object.keys(t).forEach((r=>Le(t[r],e,n)))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==r){const{textTracks:t}=this;Object.keys(t).forEach((n=>Le(t[n],e,r)))}}}extractCea608Data(t){const e=[[],[]],n=31&t[0];let r=2;for(let o=0;o<n;o++){const n=t[r++],o=127&t[r++],i=127&t[r++];if((0!==o||0!==i)&&0!=(4&n)){const t=3&n;0!==t&&1!==t||(e[t].push(o),e[t].push(i))}}return e}},audioStreamController:class extends Qn{constructor(t,e,n){super(t,e,n,"[audio-stream-controller]",me),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:t}=this;t.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.LEVEL_LOADED,this.onLevelLoaded,this),t.on(p.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(p.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(p.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(p.ERROR,this.onError,this),t.on(p.BUFFER_RESET,this.onBufferReset,this),t.on(p.BUFFER_CREATED,this.onBufferCreated,this),t.on(p.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(p.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(p.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(p.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.LEVEL_LOADED,this.onLevelLoaded,this),t.off(p.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(p.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(p.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(p.ERROR,this.onError,this),t.off(p.BUFFER_RESET,this.onBufferReset,this),t.off(p.BUFFER_CREATED,this.onBufferCreated,this),t.off(p.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(p.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(p.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(p.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(t,{frag:e,id:n,initPTS:r,timescale:o}){if("main"===n){const t=e.cc;this.initPTS[e.cc]={baseTime:r,timescale:o},this.log(`InitPTS for cc: ${t} found from main: ${r}`),this.videoTrackCC=t,this.state===qn&&this.tick()}}startLoad(t){if(!this.levels)return this.startPosition=t,void(this.state=Un);const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===t?(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),t=e,this.state=Gn):(this.loadedmetadata=!1,this.state=Kn),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}doTick(){switch(this.state){case Gn:this.doTickIdle();break;case Kn:{var t;const{levels:e,trackId:n}=this,r=null==e||null==(t=e[n])?void 0:t.details;if(r){if(this.waitForCdnTuneIn(r))break;this.state=qn}break}case Hn:{var e;const t=performance.now(),n=this.retryDate;if(!n||t>=n||null!=(e=this.media)&&e.seeking){const{levels:t,trackId:e}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==t?void 0:t[e])||null),this.state=Gn}break}case qn:{const t=this.waitingData;if(t){const{frag:e,part:n,cache:r,complete:o}=t;if(void 0!==this.initPTS[e.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Vn;const t={frag:e,part:n,payload:r.flush(),networkDetails:null};this._handleFragmentLoadProgress(t),o&&super._handleFragmentLoadComplete(t)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${e.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const t=this.getLoadPosition(),n=kn.bufferInfo(this.mediaBuffer,t,this.config.maxBufferHole);en(n.end,this.config.maxFragLookUpTolerance,e)<0&&(this.log(`Waiting fragment cc (${e.cc}) @ ${e.start} cancelled because another fragment at ${n.end} is needed`),this.clearWaitingFragment())}}else this.state=Gn}}this.onTickEnd()}clearWaitingFragment(){const t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Gn)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:t}=this;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)}doTickIdle(){const{hls:t,levels:e,media:n,trackId:r}=this,o=t.config;if(!n&&(this.startFragRequested||!o.startFragPrefetch)||null==e||!e[r])return;const i=e[r],a=i.details;if(!a||a.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(a))return void(this.state=Kn);const s=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&s&&(this.bufferFlushed=!1,this.afterBufferFlushed(s,L,me));const c=this.getFwdBufferInfo(s,me);if(null===c)return;const{bufferedTrack:u,switchingTrack:l}=this;if(!l&&this._streamEnded(c,a))return t.trigger(p.BUFFER_EOS,{type:"audio"}),void(this.state=Wn);const f=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,ge),h=c.len,d=this.getMaxBufferLength(null==f?void 0:f.len),y=a.fragments,v=y[0].start;let g=this.flushing?this.getLoadPosition():c.end;if(l&&n){const t=this.getLoadPosition();u&&!io(l.attrs,u.attrs)&&(g=t),a.PTSKnown&&t<v&&(c.end>v||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=v+.05)}if(h>=d&&!l&&g<y[y.length-1].start)return;let m=this.getNextFragment(g,a),b=!1;if(m&&this.isLoopLoading(m,g)&&(b=!!m.gap,m=this.getNextFragmentLoopLoading(m,a,c,ge,d)),!m)return void(this.bufferFlushed=!0);const w=f&&m.start>f.end+a.targetduration;if(w||(null==f||!f.len)&&c.len){const t=this.getAppendedFrag(m.start,ge);if(null===t)return;if(b||(b=!!t.gap||!!w&&0===f.len),w&&!b||b&&c.nextStart&&c.nextStart<t.end)return}this.loadFragment(m,i,g)}getMaxBufferLength(t){const e=super.getMaxBufferLength();return t?Math.min(Math.max(e,t),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(t,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map((t=>new Fe(t)))}onAudioTrackSwitching(t,e){const n=!!e.url;this.trackId=e.id;const{fragCurrent:r}=this;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=e,this.state=Gn,this.flushAudioIfNeeded(e)):(this.switchingTrack=null,this.bufferedTrack=e,this.state=Un),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(t,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(p.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(t,e){var n;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:r}=this,{details:o,id:i}=e;if(!r)return void this.warn(`Audio tracks were reset while loading level ${i}`);this.log(`Audio track ${i} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`);const a=r[i];let s=0;if(o.live||null!=(n=a.details)&&n.live){this.checkLiveUpdate(o);const t=this.mainDetails;if(o.deltaUpdateFailed||!t)return;var c;!a.details&&o.hasProgramDateTime&&t.hasProgramDateTime?(Tn(o,t),s=o.fragments[0].start):s=this.alignPlaylists(o,a.details,null==(c=this.levelLastLoaded)?void 0:c.details)}a.details=o,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&o.live||this.setStartPosition(this.mainDetails||o,s),this.state!==Kn||this.waitForCdnTuneIn(o)||(this.state=Gn),this.tick()}_handleFragmentLoadProgress(t){var e;const{frag:n,part:r,payload:o}=t,{config:i,trackId:a,levels:s}=this;if(!s)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const c=s[a];if(!c)return void this.warn("Audio track is undefined on fragment load progress");const u=c.details;if(!u)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);const l=i.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new ro(this.hls,me,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[n.cc],p=null==(e=n.initSegment)?void 0:e.data;if(void 0!==h){const t=!1,e=r?r.index:-1,i=-1!==e,a=new Ln(n.level,n.sn,n.stats.chunkCount,o.byteLength,e,i);f.push(o,p,l,"",n,r,u.totalduration,t,a,h)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${u.startSN} ,${u.endSN}],track ${a}`);const{cache:t}=this.waitingData=this.waitingData||{frag:n,part:r,cache:new Jn,complete:!1};t.push(new Uint8Array(o)),this.waitingVideoCC=this.videoTrackCC,this.state=qn}}_handleFragmentLoadComplete(t){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(t)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(t,e){const n=e.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}onFragBuffered(t,e){const{frag:n,part:r}=e;if(n.type===me)if(this.fragContextChanged(n))this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==n.sn){this.fragPrevious=n;const t=this.switchingTrack;t&&(this.bufferedTrack=t,this.switchingTrack=null,this.hls.trigger(p.AUDIO_TRACK_SWITCHED,s({},t)))}this.fragBufferedComplete(n,r)}else if(!this.loadedmetadata&&n.type===ge){const t=this.videoBuffer||this.media;t&&kn.getBuffered(t).length&&(this.loadedmetadata=!0)}}onError(t,e){var n;if(e.fatal)this.state=Zn;else switch(e.details){case y.FRAG_GAP:case y.FRAG_PARSING_ERROR:case y.FRAG_DECRYPT_ERROR:case y.FRAG_LOAD_ERROR:case y.FRAG_LOAD_TIMEOUT:case y.KEY_LOAD_ERROR:case y.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(me,e);break;case y.AUDIO_TRACK_LOAD_ERROR:case y.AUDIO_TRACK_LOAD_TIMEOUT:case y.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==Kn||(null==(n=e.context)?void 0:n.type)!==ye||(this.state=Gn);break;case y.BUFFER_APPEND_ERROR:case y.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;if(e.details===y.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case y.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushing(t,{type:e}){e!==_&&(this.flushing=!0)}onBufferFlushed(t,{type:e}){if(e!==_){this.flushing=!1,this.bufferFlushed=!0,this.state===Wn&&(this.state=Gn);const t=this.mediaBuffer||this.media;t&&(this.afterBufferFlushed(t,e,me),this.tick())}}_handleTransmuxComplete(t){var e;const n="audio",{hls:r}=this,{remuxResult:o,chunkMeta:i}=t,a=this.getCurrentContext(i);if(!a)return void this.resetWhenMissingContext(i);const{frag:s,part:c,level:l}=a,{details:f}=l,{audio:h,text:d,id3:y,initSegment:v}=o;if(!this.fragContextChanged(s)&&f){if(this.state=Yn,this.switchingTrack&&h&&this.completeAudioSwitch(this.switchingTrack),null!=v&&v.tracks){const t=s.initSegment||s;this._bufferInitSegment(l,v.tracks,t,i),r.trigger(p.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:n,tracks:v.tracks})}if(h){const{startPTS:t,endPTS:e,startDTS:n,endDTS:r}=h;c&&(c.elementaryStreams[L]={startPTS:t,endPTS:e,startDTS:n,endDTS:r}),s.setElementaryStreamInfo(L,t,e,n,r),this.bufferFragmentData(h,s,c,i)}if(null!=y&&null!=(e=y.samples)&&e.length){const t=u({id:n,frag:s,details:f},y);r.trigger(p.FRAG_PARSING_METADATA,t)}if(d){const t=u({id:n,frag:s,details:f},d);r.trigger(p.FRAG_PARSING_USERDATA,t)}}else this.fragmentTracker.removeFragment(s)}_bufferInitSegment(t,e,n,r){if(this.state!==Yn)return;e.video&&delete e.video;const o=e.audio;if(!o)return;o.id="audio";const i=t.audioCodec;this.log(`Init audio buffer, container:${o.container}, codecs[level/parsed]=[${i}/${o.codec}]`),i&&1===i.split(",").length&&(o.levelCodec=i),this.hls.trigger(p.BUFFER_CODECS,e);const a=o.initSegment;if(null!=a&&a.byteLength){const t={type:"audio",frag:n,part:null,chunkMeta:r,parent:n.type,data:a};this.hls.trigger(p.BUFFER_APPENDING,t)}this.tickImmediate()}loadFragment(t,e,n){const r=this.fragmentTracker.getState(t);var o;if(this.fragCurrent=t,this.switchingTrack||r===gn||r===bn)if("initSegment"===t.sn)this._loadInitSegment(t,e);else if(null!=(o=e.details)&&o.live&&!this.initPTS[t.cc]){this.log(`Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`),this.state=qn;const n=this.mainDetails;n&&n.fragments[0].start!==e.details.fragments[0].start&&Tn(e.details,n)}else this.startFragRequested=!0,super.loadFragment(t,e,n);else this.clearTrackerIfNeeded(t)}flushAudioIfNeeded(t){const{media:e,bufferedTrack:n}=this,r=null==n?void 0:n.attrs,o=t.attrs;e&&r&&(r.CHANNELS!==o.CHANNELS||n.name!==t.name||n.lang!==t.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(t){const{hls:e}=this;this.flushAudioIfNeeded(t),this.bufferedTrack=t,this.switchingTrack=null,e.trigger(p.AUDIO_TRACK_SWITCHED,s({},t))}},audioTrackController:class extends rn{constructor(t){super(t,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:t}=this;t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.MANIFEST_PARSED,this.onManifestParsed,this),t.on(p.LEVEL_LOADING,this.onLevelLoading,this),t.on(p.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(p.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(p.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.MANIFEST_PARSED,this.onManifestParsed,this),t.off(p.LEVEL_LOADING,this.onLevelLoading,this),t.off(p.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(p.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(p.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(t,e){const{id:n,groupId:r,details:o}=e,i=this.tracksInGroup[n];if(!i||i.groupId!==r)return void this.warn(`Audio track with id:${n} and group:${r} not found in active group ${null==i?void 0:i.groupId}`);const a=i.details;i.details=e.details,this.log(`Audio track ${n} "${i.name}" lang:${i.lang} group:${r} loaded [${o.startSN}-${o.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,a)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const n=e.audioGroups||null,r=this.groupIds;let o=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((t=>-1===(null==r?void 0:r.indexOf(t))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter((t=>!n||-1!==n.indexOf(t.groupId)));if(t.length)this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),t.forEach(((t,e)=>{t.id=e}));else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.audioPreference;if(!o&&e){const n=hn(e,t,dn);if(n>-1)o=t[n];else{const t=hn(e,this.tracks);o=this.tracks[t]}}let r=this.findTrackId(o);-1===r&&o&&(r=this.findTrackId(null));const a={audioTracks:t};this.log(`Updating audio tracks, ${t.length} track(s) found in group(s): ${null==n?void 0:n.join(",")}`),this.hls.trigger(p.AUDIO_TRACKS_UPDATED,a);const s=this.trackId;if(-1!==r&&-1===s)this.setAudioTrack(r);else if(t.length&&-1===s){var i;const e=new Error(`No audio track selected for current audio group-ID(s): ${null==(i=this.groupIds)?void 0:i.join(",")} track count: ${t.length}`);this.warn(e.message),this.hls.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:e})}}else this.shouldReloadPlaylist(o)&&this.setAudioTrack(this.trackId)}onError(t,e){!e.fatal&&e.context&&(e.context.type!==ye||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||(this.requestScheduled=-1,this.checkRetry(e)))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}setAudioOption(t){const e=this.hls;if(e.config.audioPreference=t,t){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&pn(t,r,dn))return r;const o=hn(t,this.tracksInGroup,dn);if(o>-1){const t=this.tracksInGroup[o];return this.setAudioTrack(o),t}if(r){let r=e.loadLevel;-1===r&&(r=e.firstAutoLevel);const o=function(t,e,n,r,o){const i=e[r],a=e.reduce(((t,e,n)=>{const r=e.uri;return(t[r]||(t[r]=[])).push(n),t}),{})[i.uri];a.length>1&&(r=Math.max.apply(Math,a));const s=i.videoRange,c=i.frameRate,u=i.codecSet.substring(0,4),l=yn(e,r,(e=>{if(e.videoRange!==s||e.frameRate!==c||e.codecSet.substring(0,4)!==u)return!1;const r=e.audioGroups,i=n.filter((t=>!r||-1!==r.indexOf(t.groupId)));return hn(t,i,o)>-1}));return l>-1?l:yn(e,r,(e=>{const r=e.audioGroups,i=n.filter((t=>!r||-1!==r.indexOf(t.groupId)));return hn(t,i,o)>-1}))}(t,e.levels,n,r,dn);if(-1===o)return null;e.nextLoadLevel=o}if(t.channels||t.audioCodec){const e=hn(t,n);if(e>-1)return n[e]}}}return null}setAudioTrack(t){const e=this.tracksInGroup;if(t<0||t>=e.length)return void this.warn(`Invalid audio track id: ${t}`);this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,r=e[t],o=r.details&&!r.details.live;if(t===this.trackId&&r===n&&o)return;if(this.log(`Switching to audio-track ${t} "${r.name}" lang:${r.lang} group:${r.groupId} channels:${r.channels}`),this.trackId=t,this.currentTrack=r,this.hls.trigger(p.AUDIO_TRACK_SWITCHING,s({},r)),o)return;const i=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(i)}findTrackId(t){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){const r=e[n];if((!this.selectDefaultTrack||r.default)&&(!t||pn(t,r,dn)))return n}if(t){const{name:n,lang:r,assocLang:o,characteristics:i,audioCodec:a,channels:s}=t;for(let t=0;t<e.length;t++)if(pn({name:n,lang:r,assocLang:o,characteristics:i,audioCodec:a,channels:s},e[t],dn))return t;for(let n=0;n<e.length;n++){const r=e[n];if(io(t.attrs,r.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<e.length;n++){const r=e[n];if(io(t.attrs,r.attrs,["LANGUAGE"]))return n}}return-1}loadPlaylist(t){const e=this.currentTrack;if(this.shouldLoadPlaylist(e)&&e){super.loadPlaylist();const n=e.id,r=e.groupId;let o=e.url;if(t)try{o=t.addDirectives(o)}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}this.log(`loading audio-track playlist ${n} "${e.name}" lang:${e.lang} group:${r}`),this.clearTimer(),this.hls.trigger(p.AUDIO_TRACK_LOADING,{url:o,id:n,groupId:r,deliveryDirectives:t||null})}}},emeController:si,cmcdController:class{constructor(t){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=t=>{try{this.apply(t,{ot:ui.MANIFEST,su:!this.initialized})}catch(t){b.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=t=>{try{const e=t.frag,n=this.hls.levels[e.level],r=this.getObjectType(e),o={d:1e3*e.duration,ot:r};r!==ui.VIDEO&&r!==ui.AUDIO&&r!=ui.MUXED||(o.br=n.bitrate/1e3,o.tb=this.getTopBandwidth(r)/1e3,o.bl=this.getBufferLength(r)),this.apply(t,o)}catch(t){b.warn("Could not generate segment CMCD data.",t)}},this.hls=t;const e=this.config=t.config,{cmcd:n}=e;null!=n&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||function(){try{return crypto.randomUUID()}catch(t){try{const t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)}catch(t){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}}}(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const t=this.hls;t.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(p.MEDIA_DETACHED,this.onMediaDetached,this),t.on(p.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const t=this.hls;t.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(p.MEDIA_DETACHED,this.onMediaDetached,this),t.off(p.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(t,e){var n,r;this.audioBuffer=null==(n=e.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(r=e.tracks.video)?void 0:r.buffer}createData(){var t;return{v:1,sf:li.HLS,sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(t,e={}){u(e,this.createData());const n=e.ot===ui.INIT||e.ot===ui.VIDEO||e.ot===ui.MUXED;this.starved&&n&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering);const{includeKeys:r}=this;var o;r&&(e=Object.keys(e).reduce(((t,n)=>(r.includes(n)&&(t[n]=e[n]),t)),{})),this.useHeaders?(t.headers||(t.headers={}),u(t.headers,function(t,e={}){if(!t)return{};const n=Object.entries(t),r=Object.entries(hi).concat(Object.entries((null==e?void 0:e.customHeaderMap)||{})),o=n.reduce(((t,e)=>{var n;const[o,i]=e,a=(null==(n=r.find((t=>t[1].includes(o))))?void 0:n[0])||fi.REQUEST;return null!=t[a]||(t[a]={}),t[a][o]=i,t}),{});return Object.entries(o).reduce(((t,[n,r])=>(t[n]=Fi(r,e),t)),{})}(e,o))):t.url=function(t,e,n){const r=function(t,e={}){if(!t)return"";const n=Fi(t,e);return`CMCD=${encodeURIComponent(n)}`}(e,n);if(!r)return t;if(Ui.test(t))return t.replace(Ui,r);const o=t.includes("?")?"&":"?";return`${t}${o}${r}`}(t.url,e)}getObjectType(t){const{type:e}=t;return"subtitle"===e?ui.TIMED_TEXT:"initSegment"===t.sn?ui.INIT:"audio"===e?ui.AUDIO:"main"===e?this.hls.audioTracks.length?ui.VIDEO:ui.MUXED:void 0}getTopBandwidth(t){let e,n=0;const r=this.hls;if(t===ui.AUDIO)e=r.audioTracks;else{const t=r.maxAutoLevel,n=t>-1?t+1:r.levels.length;e=r.levels.slice(0,n)}for(const t of e)t.bitrate>n&&(n=t.bitrate);return n>0?n:NaN}getBufferLength(t){const e=this.hls.media,n=t===ui.AUDIO?this.audioBuffer:this.videoBuffer;return n&&e?1e3*kn.bufferInfo(n,e.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:t}=this.config,e=this.applyPlaylistData,n=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new n(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,n,r){e(t),this.loader.load(t,n,r)}}}createFragmentLoader(){const{fLoader:t}=this.config,e=this.applyFragmentData,n=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new n(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,n,r){e(t),this.loader.load(t,n,r)}}}},contentSteeringController:class{constructor(t){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.log=b.log.bind(b,"[content-steering]:"),this.registerListeners()}registerListeners(){const t=this.hls;t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(p.MANIFEST_PARSED,this.onManifestParsed,this),t.on(p.ERROR,this.onError,this)}unregisterListeners(){const t=this.hls;t&&(t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(p.MANIFEST_PARSED,this.onManifestParsed,this),t.off(p.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const t=1e3*this.timeToLoad-(performance.now()-this.updated);if(t>0)return void this.scheduleRefresh(this.uri,t)}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(t){const e=this.levels;e&&(this.levels=e.filter((e=>e!==t)))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(t,e){const{contentSteering:n}=e;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(t,e){const{errorAction:n}=e;if(2===(null==n?void 0:n.action)&&1===n.flags){const t=this.levels;let r=this.pathwayPriority,o=this.pathwayId;if(e.context){const{groupId:n,pathwayId:r,type:i}=e.context;n&&t?o=this.getPathwayForGroupId(n,i,o):r&&(o=r)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!r&&t&&(r=t.reduce(((t,e)=>(-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t)),[])),r&&r.length>1&&(this.updatePathwayPriority(r),n.resolved=this.pathwayId!==o),n.resolved||b.warn(`Could not resolve ${e.details} ("${e.error.message}") with content-steering for Pathway: ${o} levels: ${t?t.length:t} priorities: ${JSON.stringify(r)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(t){this.levels=t;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const n=t[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),e=this.getLevelsForPathway(n),this.pathwayId=n}return e.length!==t.length?(this.log(`Found ${e.length}/${t.length} levels in Pathway "${this.pathwayId}"`),e):t}getLevelsForPathway(t){return null===this.levels?[]:this.levels.filter((e=>t===e.pathwayId))}updatePathwayPriority(t){let e;this.pathwayPriority=t;const n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach((t=>{r-n[t]>3e5&&delete n[t]}));for(let r=0;r<t.length;r++){const o=t[r];if(o in n)continue;if(o===this.pathwayId)return;const i=this.hls.nextLoadLevel,a=this.hls.levels[i];if(e=this.getLevelsForPathway(o),e.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,ze(e),this.hls.trigger(p.LEVELS_UPDATED,{levels:e});const t=this.hls.levels[i];a&&t&&this.levels&&(t.attrs["STABLE-VARIANT-ID"]!==a.attrs["STABLE-VARIANT-ID"]&&t.bitrate!==a.bitrate&&this.log(`Unstable Pathways change from bitrate ${a.bitrate} to ${t.bitrate}`),this.hls.nextLoadLevel=i);break}}}getPathwayForGroupId(t,e,n){const r=this.getLevelsForPathway(n).concat(this.levels||[]);for(let n=0;n<r.length;n++)if(e===ye&&r[n].hasAudioGroup(t)||e===ve&&r[n].hasSubtitleGroup(t))return r[n].pathwayId;return n}clonePathways(t){const e=this.levels;if(!e)return;const n={},r={};t.forEach((t=>{const{ID:o,"BASE-ID":i,"URI-REPLACEMENT":a}=t;if(e.some((t=>t.pathwayId===o)))return;const s=this.getLevelsForPathway(i).map((t=>{const e=new x(t.attrs);e["PATHWAY-ID"]=o;const i=e.AUDIO&&`${e.AUDIO}_clone_${o}`,s=e.SUBTITLES&&`${e.SUBTITLES}_clone_${o}`;i&&(n[e.AUDIO]=i,e.AUDIO=i),s&&(r[e.SUBTITLES]=s,e.SUBTITLES=s);const c=$i(t.uri,e["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",a),u=new Fe({attrs:e,audioCodec:t.audioCodec,bitrate:t.bitrate,height:t.height,name:t.name,url:c,videoCodec:t.videoCodec,width:t.width});if(t.audioGroups)for(let e=1;e<t.audioGroups.length;e++)u.addGroupId("audio",`${t.audioGroups[e]}_clone_${o}`);if(t.subtitleGroups)for(let e=1;e<t.subtitleGroups.length;e++)u.addGroupId("text",`${t.subtitleGroups[e]}_clone_${o}`);return u}));e.push(...s),Gi(this.audioTracks,n,a,o),Gi(this.subtitleTracks,r,a,o)}))}loadSteeringManifest(t){const e=this.hls.config,n=e.loader;let r;this.loader&&this.loader.destroy(),this.loader=new n(e);try{r=new self.URL(t)}catch(e){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${t}`)}if("data:"!==r.protocol){const t=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);r.searchParams.set("_HLS_pathway",this.pathwayId),r.searchParams.set("_HLS_throughput",""+t)}const o={responseType:"json",url:r.href},i=e.steeringManifestLoadPolicy.default,a=i.errorRetry||i.timeoutRetry||{},s={loadPolicy:i,timeout:i.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(t,e,n,o)=>{this.log(`Loaded steering manifest: "${r}"`);const i=t.data;if(1!==i.VERSION)return void this.log(`Steering VERSION ${i.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=i.TTL;const{"RELOAD-URI":a,"PATHWAY-CLONES":s,"PATHWAY-PRIORITY":c}=i;if(a)try{this.uri=new self.URL(a,r).href}catch(t){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${a}`)}this.scheduleRefresh(this.uri||n.url),s&&this.clonePathways(s);const u={steeringManifest:i,url:r.toString()};this.hls.trigger(p.STEERING_MANIFEST_LOADED,u),c&&this.updatePathwayPriority(c)},onError:(t,e,n,r)=>{if(this.log(`Error loading steering manifest: ${t.code} ${t.text} (${e.url})`),this.stopLoad(),410===t.code)return this.enabled=!1,void this.log(`Steering manifest ${e.url} no longer available`);let o=1e3*this.timeToLoad;if(429!==t.code)this.scheduleRefresh(this.uri||e.url,o);else{const t=this.loader;if("function"==typeof(null==t?void 0:t.getResponseHeader)){const e=t.getResponseHeader("Retry-After");e&&(o=1e3*parseFloat(e))}this.log(`Steering manifest ${e.url} rate limited`)}},onTimeout:(t,e,n)=>{this.log(`Timeout loading steering manifest (${e.url})`),this.scheduleRefresh(this.uri||e.url)}};this.log(`Requesting steering manifest: ${r}`),this.loader.load(o,s,c)}scheduleRefresh(t,e=1e3*this.timeToLoad){this.clearTimeout(),this.reloadTimer=self.setTimeout((()=>{var e;const n=null==(e=this.hls)?void 0:e.media;!n||n.ended?this.scheduleRefresh(t,1e3*this.timeToLoad):this.loadSteeringManifest(t)}),e)}}});function Qi(t){return t&&"object"==typeof t?Array.isArray(t)?t.map(Qi):Object.keys(t).reduce(((e,n)=>(e[n]=Qi(t[n]),e)),{}):t}let Ji;class ta extends rn{constructor(t,e){super(t,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(p.LEVEL_LOADED,this.onLevelLoaded,this),t.on(p.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(p.FRAG_BUFFERED,this.onFragBuffered,this),t.on(p.ERROR,this.onError,this)}_unregisterListeners(){const{hls:t}=this;t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(p.LEVEL_LOADED,this.onLevelLoaded,this),t.off(p.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(p.FRAG_BUFFERED,this.onFragBuffered,this),t.off(p.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach((t=>{t.loadError=0,t.fragmentError=0})),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(t,e){this.resetLevels()}onManifestLoaded(t,e){const n=this.hls.config.preferManagedMediaSource,r=[],o={},i={};let a=!1,s=!1,c=!1;e.levels.forEach((t=>{var e,u;const l=t.attrs;let{audioCodec:f,videoCodec:h}=t;-1!==(null==(e=f)?void 0:e.indexOf("mp4a.40.34"))&&(Ji||(Ji=/chrome|firefox/i.test(navigator.userAgent)),Ji&&(t.audioCodec=f=void 0)),f&&(t.audioCodec=f=Qt(f,n)),0===(null==(u=h)?void 0:u.indexOf("avc1"))&&(h=t.videoCodec=function(t){const e=t.split(".");if(e.length>2){let t=e.shift()+".";return t+=parseInt(e.shift()).toString(16),t+=("000"+parseInt(e.shift()).toString(16)).slice(-4),t}return t}(h));const{width:p,height:d,unknownCodecs:y}=t;if(a||(a=!(!p||!d)),s||(s=!!h),c||(c=!!f),null!=y&&y.length||f&&!Kt(f,"audio",n)||h&&!Kt(h,"video",n))return;const{CODECS:v,"FRAME-RATE":g,"HDCP-LEVEL":m,"PATHWAY-ID":b,RESOLUTION:w,"VIDEO-RANGE":A}=l,x=`${b||"."}-${t.bitrate}-${w}-${g}-${v}-${A}-${m}`;if(o[x])if(o[x].uri===t.url||t.attrs["PATHWAY-ID"])o[x].addGroupId("audio",l.AUDIO),o[x].addGroupId("text",l.SUBTITLES);else{const e=i[x]+=1;t.attrs["PATHWAY-ID"]=new Array(e+1).join(".");const n=new Fe(t);o[x]=n,r.push(n)}else{const e=new Fe(t);o[x]=e,i[x]=1,r.push(e)}})),this.filterAndSortMediaOptions(r,e,a,s,c)}filterAndSortMediaOptions(t,e,n,r,o){let i=[],a=[],s=t;if((n||r)&&o&&(s=s.filter((({videoCodec:t,videoRange:e,width:n,height:r})=>{return(!!t||!(!n||!r))&&!!(o=e)&&Ne.indexOf(o)>-1;var o}))),0===s.length)return void Promise.resolve().then((()=>{if(this.hls){e.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(e.levels[0].attrs)}`);const t=new Error("no level with compatible codecs found in manifest");this.hls.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:t,reason:t.message})}}));if(e.audioTracks){const{preferManagedMediaSource:t}=this.hls.config;i=e.audioTracks.filter((e=>!e.audioCodec||Kt(e.audioCodec,"audio",t))),ea(i)}e.subtitles&&(a=e.subtitles,ea(a));const c=s.slice(0);s.sort(((t,e)=>{if(t.attrs["HDCP-LEVEL"]!==e.attrs["HDCP-LEVEL"])return(t.attrs["HDCP-LEVEL"]||"")>(e.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&t.height!==e.height)return t.height-e.height;if(t.frameRate!==e.frameRate)return t.frameRate-e.frameRate;if(t.videoRange!==e.videoRange)return Ne.indexOf(t.videoRange)-Ne.indexOf(e.videoRange);if(t.videoCodec!==e.videoCodec){const n=Wt(t.videoCodec),r=Wt(e.videoCodec);if(n!==r)return r-n}if(t.uri===e.uri&&t.codecSet!==e.codecSet){const n=Zt(t.codecSet),r=Zt(e.codecSet);if(n!==r)return r-n}return t.averageBitrate!==e.averageBitrate?t.averageBitrate-e.averageBitrate:0}));let u=c[0];if(this.steering&&(s=this.steering.filterParsedLevels(s),s.length!==c.length))for(let t=0;t<c.length;t++)if(c[t].pathwayId===s[0].pathwayId){u=c[t];break}this._levels=s;for(let t=0;t<s.length;t++)if(s[t]===u){var l;this._firstLevel=t;const e=u.bitrate,n=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${s.length} level(s) found, first bitrate: ${e}`),void 0===(null==(l=this.hls.userConfig)?void 0:l.abrEwmaDefaultEstimate)){const t=Math.min(e,this.hls.config.abrEwmaDefaultEstimateMax);t>n&&n===Xi.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=t)}break}const f=o&&!r,h={levels:s,audioTracks:i,subtitleTracks:a,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:o,video:r,altAudio:!f&&i.some((t=>!!t.url))};this.hls.trigger(p.MANIFEST_PARSED,h),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(t){const e=this._levels;if(0===e.length)return;if(t<0||t>=e.length){const n=new Error("invalid level idx"),r=t<0;if(this.hls.trigger(p.ERROR,{type:d.OTHER_ERROR,details:y.LEVEL_SWITCH_ERROR,level:t,fatal:r,error:n,reason:n.message}),r)return;t=Math.min(t,e.length-1)}const n=this.currentLevelIndex,r=this.currentLevel,o=r?r.attrs["PATHWAY-ID"]:void 0,i=e[t],a=i.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=i,n===t&&i.details&&r&&o===a)return;this.log(`Switching to level ${t} (${i.height?i.height+"p ":""}${i.videoRange?i.videoRange+" ":""}${i.codecSet?i.codecSet+" ":""}@${i.bitrate})${a?" with Pathway "+a:""} from level ${n}${o?" with Pathway "+o:""}`);const s={level:t,attrs:i.attrs,details:i.details,bitrate:i.bitrate,averageBitrate:i.averageBitrate,maxBitrate:i.maxBitrate,realBitrate:i.realBitrate,width:i.width,height:i.height,codecSet:i.codecSet,audioCodec:i.audioCodec,videoCodec:i.videoCodec,audioGroups:i.audioGroups,subtitleGroups:i.subtitleGroups,loaded:i.loaded,loadError:i.loadError,fragmentError:i.fragmentError,name:i.name,id:i.id,uri:i.uri,url:i.url,urlId:0,audioGroupIds:i.audioGroupIds,textGroupIds:i.textGroupIds};this.hls.trigger(p.LEVEL_SWITCHING,s);const c=i.details;if(!c||c.live){const t=this.switchParams(i.uri,null==r?void 0:r.details);this.loadPlaylist(t)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}get firstLevel(){return this._firstLevel}set firstLevel(t){this._firstLevel=t}get startLevel(){if(void 0===this._startLevel){const t=this.hls.config.startLevel;return void 0!==t?t:this.hls.firstAutoLevel}return this._startLevel}set startLevel(t){this._startLevel=t}onError(t,e){!e.fatal&&e.context&&e.context.type===de&&e.context.level===this.level&&this.checkRetry(e)}onFragBuffered(t,{frag:e}){if(void 0!==e&&e.type===ge){const t=e.elementaryStreams;if(!Object.keys(t).some((e=>!!t[e])))return;const n=this._levels[e.level];null!=n&&n.loadError&&(this.log(`Resetting level error count of ${n.loadError} on frag buffered`),n.loadError=0)}}onLevelLoaded(t,e){var n;const{level:r,details:o}=e,i=this._levels[r];var a;if(!i)return this.warn(`Invalid level index ${r}`),void(null!=(a=e.deliveryDirectives)&&a.skip&&(o.deltaUpdateFailed=!0));r===this.currentLevelIndex?(0===i.fragmentError&&(i.loadError=0),this.playlistLoaded(r,e,i.details)):null!=(n=e.deliveryDirectives)&&n.skip&&(o.deltaUpdateFailed=!0)}loadPlaylist(t){super.loadPlaylist();const e=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){let r=n.uri;if(t)try{r=t.addDirectives(r)}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}const o=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:""} with${o?" Pathway "+o:""} ${r}`),this.clearTimer(),this.hls.trigger(p.LEVEL_LOADING,{url:r,level:e,pathwayId:n.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}removeLevel(t){var e;const n=this._levels.filter(((e,n)=>n!==t||(this.steering&&this.steering.removeLevel(e),e===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,e.details&&e.details.fragments.forEach((t=>t.level=-1))),!1)));ze(n),this._levels=n,this.currentLevelIndex>-1&&null!=(e=this.currentLevel)&&e.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(p.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(t,{levels:e}){this._levels=e}checkMaxAutoUpdated(){const{autoLevelCapping:t,maxAutoLevel:e,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==e&&(this._maxAutoLevel=e,this.hls.trigger(p.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:t,levels:this.levels,maxAutoLevel:e,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function ea(t){const e={};t.forEach((t=>{const n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++}))}class na{constructor(t){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}abort(t){for(const n in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[n].loader;if(r){var e;if(t&&t!==(null==(e=r.context)?void 0:e.frag.type))return;r.abort()}}}detach(){for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}}destroy(){this.detach();for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(t,e=y.KEY_LOAD_ERROR,n,r,o){return new Bn({type:d.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:o,error:n,networkDetails:r})}loadClear(t,e){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:r}=t;for(let t=0;t<e.length;t++){const o=e[t];if(r<=o.cc&&("initSegment"===n||"initSegment"===o.sn||n<o.sn)){this.emeController.selectKeySystemFormat(o).then((t=>{o.setKeyFormat(t)}));break}}}}load(t){return!t.decryptdata&&t.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(t).then((e=>this.loadInternal(t,e))):this.loadInternal(t)}loadInternal(t,e){var n,r;e&&t.setKeyFormat(e);const o=t.decryptdata;if(!o){const n=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,y.KEY_LOAD_ERROR,n))}const i=o.uri;if(!i)return Promise.reject(this.createKeyLoadError(t,y.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${i}"`)));let a=this.keyUriToKeyInfo[i];if(null!=(n=a)&&n.decryptdata.key)return o.key=a.decryptdata.key,Promise.resolve({frag:t,keyInfo:a});var s;if(null!=(r=a)&&r.keyLoadPromise)switch(null==(s=a.mediaKeySessionContext)?void 0:s.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then((e=>(o.key=e.keyInfo.decryptdata.key,{frag:t,keyInfo:a})))}switch(a=this.keyUriToKeyInfo[i]={decryptdata:o,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},o.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===o.keyFormat?this.loadKeyHTTP(a,t):this.loadKeyEME(a,t);case"AES-128":return this.loadKeyHTTP(a,t);default:return Promise.reject(this.createKeyLoadError(t,y.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${o.method}"`)))}}loadKeyEME(t,e){const n={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){const e=this.emeController.loadKey(n);if(e)return(t.keyLoadPromise=e.then((e=>(t.mediaKeySessionContext=e,n)))).catch((e=>{throw t.keyLoadPromise=null,e}))}return Promise.resolve(n)}loadKeyHTTP(t,e){const n=this.config,r=new(0,n.loader)(n);return e.keyLoader=t.loader=r,t.keyLoadPromise=new Promise(((o,i)=>{const a={keyInfo:t,frag:e,responseType:"arraybuffer",url:t.decryptdata.uri},c=n.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,n,r)=>{const{frag:a,keyInfo:s,url:c}=n;if(!a.decryptdata||s!==this.keyUriToKeyInfo[c])return i(this.createKeyLoadError(a,y.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),r));s.decryptdata.key=a.decryptdata.key=new Uint8Array(t.data),a.keyLoader=null,s.loader=null,o({frag:a,keyInfo:s})},onError:(t,n,r,o)=>{this.resetLoader(n),i(this.createKeyLoadError(e,y.KEY_LOAD_ERROR,new Error(`HTTP Error ${t.code} loading key ${t.text}`),r,s({url:a.url,data:void 0},t)))},onTimeout:(t,n,r)=>{this.resetLoader(n),i(this.createKeyLoadError(e,y.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),r))},onAbort:(t,n,r)=>{this.resetLoader(n),i(this.createKeyLoadError(e,y.INTERNAL_ABORTED,new Error("key loading aborted"),r))}};r.load(a,u,l)}))}resetLoader(t){const{frag:e,keyInfo:n,url:r}=t,o=n.loader;e.keyLoader===o&&(e.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[r],o&&o.destroy()}}function ra(){return self.SourceBuffer||self.WebKitSourceBuffer}function oa(){if(!Vt())return!1;const t=ra();return!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove}class ia{constructor(t,e,n,r){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=e,this.fragmentTracker=n,this.hls=r}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(t,e){const{config:n,media:r,stalled:o}=this;if(null===r)return;const{currentTime:i,seeking:a}=r,s=this.seeking&&!a,c=!this.seeking&&a;if(this.seeking=a,i!==t){if(this.moved=!0,a||(this.nudgeRetry=0),null!==o){if(this.stallReported){const t=self.performance.now()-o;b.warn(`playback not stuck anymore @${i}, after ${Math.round(t)}ms`),this.stallReported=!1}this.stalled=null}return}if(c||s)return void(this.stalled=null);if(r.paused&&!a||r.ended||0===r.playbackRate||!kn.getBuffered(r).length)return void(this.nudgeRetry=0);const u=kn.bufferInfo(r,i,0),l=u.nextStart||0;if(a){const t=u.len>2,n=!l||e&&e.start<=i||l-i>2&&!this.fragmentTracker.getPartialFragment(i);if(t||n)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var f;if(!(u.len>0||l))return;const t=Math.max(l,u.start||0)-i,e=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,n=(null==e||null==(f=e.details)?void 0:f.live)?2*e.details.targetduration:2,o=this.fragmentTracker.getPartialFragment(i);if(t>0&&(t<=n||o))return void(r.paused||this._trySkipBufferHole(o))}const h=self.performance.now();if(null===o)return void(this.stalled=h);const p=h-o;if(!a&&p>=250&&(this._reportStall(u),!this.media))return;const d=kn.bufferInfo(r,i,n.maxBufferHole);this._tryFixBufferStall(d,p)}_tryFixBufferStall(t,e){const{config:n,fragmentTracker:r,media:o}=this;if(null===o)return;const i=o.currentTime,a=r.getPartialFragment(i);(!a||!this._trySkipBufferHole(a)&&this.media)&&(t.len>n.maxBufferHole||t.nextStart&&t.nextStart-i<n.maxBufferHole)&&e>1e3*n.highBufferWatchdogPeriod&&(b.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(t){const{hls:e,media:n,stallReported:r}=this;if(!r&&n){this.stallReported=!0;const r=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(t)})`);b.warn(r.message),e.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:t.len})}}_trySkipBufferHole(t){const{config:e,hls:n,media:r}=this;if(null===r)return 0;const o=r.currentTime,i=kn.bufferInfo(r,o,0),a=o<i.start?i.start:i.nextStart;if(a){const s=i.len<=e.maxBufferHole,c=i.len>0&&i.len<1&&r.readyState<3,u=a-o;if(u>0&&(s||c)){if(u>e.maxBufferHole){const{fragmentTracker:e}=this;let n=!1;if(0===o){const t=e.getAppendedFrag(0,ge);t&&a<t.end&&(n=!0)}if(!n){const n=t||e.getAppendedFrag(o,ge);if(n){let t=!1,r=n.end;for(;r<a;){const n=e.getPartialFragment(r);if(!n){t=!0;break}r+=n.duration}if(t)return 0}}}const i=Math.max(a+.05,o+.1);if(b.warn(`skipping hole, adjusting currentTime from ${o} to ${i}`),this.moved=!0,this.stalled=null,r.currentTime=i,t&&!t.gap){const e=new Error(`fragment loaded with buffer holes, seeking from ${o} to ${i}`);n.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:e,reason:e.message,frag:t})}return i}}return 0}_tryNudgeBuffer(){const{config:t,hls:e,media:n,nudgeRetry:r}=this;if(null===n)return;const o=n.currentTime;if(this.nudgeRetry++,r<t.nudgeMaxRetry){const i=o+(r+1)*t.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${o} to ${i}`);b.warn(a.message),n.currentTime=i,e.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{const n=new Error(`Playhead still not moving while enough data buffered @${o} after ${t.nudgeMaxRetry} nudges`);b.error(n.message),e.trigger(p.ERROR,{type:d.MEDIA_ERROR,details:y.BUFFER_STALLED_ERROR,error:n,fatal:!0})}}}class aa extends Qn{constructor(t,e,n){super(t,e,n,"[stream-controller]",ge),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(p.MANIFEST_LOADING,this.onManifestLoading,this),t.on(p.MANIFEST_PARSED,this.onManifestParsed,this),t.on(p.LEVEL_LOADING,this.onLevelLoading,this),t.on(p.LEVEL_LOADED,this.onLevelLoaded,this),t.on(p.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(p.ERROR,this.onError,this),t.on(p.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(p.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(p.BUFFER_CREATED,this.onBufferCreated,this),t.on(p.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(p.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(p.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(p.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(p.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(p.MANIFEST_LOADING,this.onManifestLoading,this),t.off(p.MANIFEST_PARSED,this.onManifestParsed,this),t.off(p.LEVEL_LOADED,this.onLevelLoaded,this),t.off(p.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(p.ERROR,this.onError,this),t.off(p.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(p.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(p.BUFFER_CREATED,this.onBufferCreated,this),t.off(p.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(p.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(p.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(t){if(this.levels){const{lastCurrentTime:e,hls:n}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let t=n.startLevel;-1===t&&(n.config.testBandwidth&&this.levels.length>1?(t=0,this.bitrateTest=!0):t=n.firstAutoLevel),n.nextLoadLevel=t,this.level=n.loadLevel,this.loadedmetadata=!1}e>0&&-1===t&&(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),t=e),this.state=Gn,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=Un}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Xn:{const{levels:t,level:e}=this,n=null==t?void 0:t[e],r=null==n?void 0:n.details;if(r&&(!r.live||this.levelLastLoaded===n)){if(this.waitForCdnTuneIn(r))break;this.state=Gn;break}if(this.hls.nextLoadLevel!==this.level){this.state=Gn;break}break}case Hn:{var t;const e=self.performance.now(),n=this.retryDate;if(!n||e>=n||null!=(t=this.media)&&t.seeking){const{levels:t,level:e}=this,n=null==t?void 0:t[e];this.resetStartWhenNotLoaded(n||null),this.state=Gn}}}this.state===Gn&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:t,levelLastLoaded:e,levels:n,media:r}=this;if(null===e||!r&&(this.startFragRequested||!t.config.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;const o=t.nextLoadLevel;if(null==n||!n[o])return;const i=n[o],a=this.getMainFwdBufferInfo();if(null===a)return;const s=this.getLevelDetails();if(s&&this._streamEnded(a,s)){const t={};return this.altAudio&&(t.type="video"),this.hls.trigger(p.BUFFER_EOS,t),void(this.state=Wn)}t.loadLevel!==o&&-1===t.manualLevel&&this.log(`Adapting to level ${o} from level ${this.level}`),this.level=t.nextLoadLevel=o;const c=i.details;if(!c||this.state===Xn||c.live&&this.levelLastLoaded!==i)return this.level=o,void(this.state=Xn);const u=a.len,l=this.getMaxBufferLength(i.maxBitrate);if(u>=l)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);const f=this.backtrackFragment?this.backtrackFragment.start:a.end;let h=this.getNextFragment(f,c);if(this.couldBacktrack&&!this.fragPrevious&&h&&"initSegment"!==h.sn&&this.fragmentTracker.getState(h)!==wn){var d;const t=(null!=(d=this.backtrackFragment)?d:h).sn-c.startSN,e=c.fragments[t-1];e&&h.cc===e.cc&&(h=e,this.fragmentTracker.removeFragment(e))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(h&&this.isLoopLoading(h,f)){if(!h.gap){const t=this.audioOnly&&!this.altAudio?L:_,e=(t===_?this.videoBuffer:this.mediaBuffer)||this.media;e&&this.afterBufferFlushed(e,t,ge)}h=this.getNextFragmentLoopLoading(h,c,a,ge,l)}h&&(!h.initSegment||h.initSegment.data||this.bitrateTest||(h=h.initSegment),this.loadFragment(h,i,f))}loadFragment(t,e,n){const r=this.fragmentTracker.getState(t);this.fragCurrent=t,r===gn||r===bn?"initSegment"===t.sn?this._loadInitSegment(t,e):this.bitrateTest?(this.log(`Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(t,e)):(this.startFragRequested=!0,super.loadFragment(t,e,n)):this.clearTrackerIfNeeded(t)}getBufferedFrag(t){return this.fragmentTracker.getBufferedFrag(t,ge)}followingBufferedFrag(t){return t?this.getBufferedFrag(t.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:t,media:e}=this;if(null!=e&&e.readyState){let n;const r=this.getAppendedFrag(e.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);const o=this.getLevelDetails();if(null!=o&&o.live){const t=this.getMainFwdBufferInfo();if(!t||t.len<2*o.targetduration)return}if(!e.paused&&t){const e=t[this.hls.nextLoadLevel],r=this.fragLastKbps;n=r&&this.fragCurrent?this.fragCurrent.duration*e.maxBitrate/(1e3*r)+1:0}else n=0;const i=this.getBufferedFrag(e.currentTime+n);if(i){const t=this.followingBufferedFrag(i);if(t){this.abortCurrentFrag();const e=t.maxStartPTS?t.maxStartPTS:t.start,n=t.duration,r=Math.max(i.end,e+Math.min(Math.max(n-this.config.maxFragLookUpTolerance,n*(this.couldBacktrack?.5:.125)),n*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(r,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case $n:case Vn:case Hn:case Yn:case zn:this.state=Gn}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(t,e){super.flushMainBuffer(t,e,this.altAudio?"video":null)}onMediaAttached(t,e){super.onMediaAttached(t,e);const n=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new ia(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:t}=this;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const t=this.media,e=t?t.currentTime:null;l(e)&&this.log(`Media seeked to ${e.toFixed(3)}`);const n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(p.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(t,e){let n=!1,r=!1;e.levels.forEach((t=>{const e=t.audioCodec;e&&(n=n||-1!==e.indexOf("mp4a.40.2"),r=r||-1!==e.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=n&&r&&!function(){var t;const e=ra();return"function"==typeof(null==e||null==(t=e.prototype)?void 0:t.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(t,e){const{levels:n}=this;if(!n||this.state!==Gn)return;const r=n[e.level];(!r.details||r.details.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(r.details))&&(this.state=Xn)}onLevelLoaded(t,e){var n;const{levels:r}=this,o=e.level,i=e.details,a=i.totalduration;if(!r)return void this.warn(`Levels were reset while loading level ${o}`);this.log(`Level ${o} loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""}, cc [${i.startCC}, ${i.endCC}] duration:${a}`);const s=r[o],c=this.fragCurrent;!c||this.state!==Vn&&this.state!==Hn||c.level!==e.level&&c.loader&&this.abortCurrentFrag();let u=0;if(i.live||null!=(n=s.details)&&n.live){var l;if(this.checkLiveUpdate(i),i.deltaUpdateFailed)return;u=this.alignPlaylists(i,s.details,null==(l=this.levelLastLoaded)?void 0:l.details)}if(s.details=i,this.levelLastLoaded=s,this.hls.trigger(p.LEVEL_UPDATED,{details:i,level:o}),this.state===Xn){if(this.waitForCdnTuneIn(i))return;this.state=Gn}this.startFragRequested?i.live&&this.synchronizeToLiveEdge(i):this.setStartPosition(i,u),this.tick()}_handleFragmentLoadProgress(t){var e;const{frag:n,part:r,payload:o}=t,{levels:i}=this;if(!i)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const a=i[n.level],s=a.details;if(!s)return this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),void this.fragmentTracker.removeFragment(n);const c=a.videoCodec,u=s.PTSKnown||!s.live,l=null==(e=n.initSegment)?void 0:e.data,f=this._getAudioCodec(a),h=this.transmuxer=this.transmuxer||new ro(this.hls,ge,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=r?r.index:-1,d=-1!==p,y=new Ln(n.level,n.sn,n.stats.chunkCount,o.byteLength,p,d),v=this.initPTS[n.cc];h.push(o,l,f,c,n,r,s.totalduration,u,y,v)}onAudioTrackSwitching(t,e){const n=this.altAudio;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const t=this.fragCurrent;t&&(this.log("Switching to main audio track, cancel main fragment load"),t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const t=this.hls;n&&(t.trigger(p.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),t.trigger(p.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(t,e){const n=e.id,r=!!this.hls.audioTracks[n].url;if(r){const t=this.videoBuffer;t&&this.mediaBuffer!==t&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=t)}this.altAudio=r,this.tick()}onBufferCreated(t,e){const n=e.tracks;let r,o,i=!1;for(const t in n){const e=n[t];if("main"===e.id){if(o=t,r=e,"video"===t){const e=n[t];e&&(this.videoBuffer=e.buffer)}}else i=!0}i&&r?(this.log(`Alternate track found, use ${o}.buffered to schedule main fragment loading`),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}onFragBuffered(t,e){const{frag:n,part:r}=e;if(n&&n.type!==ge)return;if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),void(this.state===zn&&(this.state=Gn));const o=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}onError(t,e){var n;if(e.fatal)this.state=Zn;else switch(e.details){case y.FRAG_GAP:case y.FRAG_PARSING_ERROR:case y.FRAG_DECRYPT_ERROR:case y.FRAG_LOAD_ERROR:case y.FRAG_LOAD_TIMEOUT:case y.KEY_LOAD_ERROR:case y.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ge,e);break;case y.LEVEL_LOAD_ERROR:case y.LEVEL_LOAD_TIMEOUT:case y.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==Xn||(null==(n=e.context)?void 0:n.type)!==de||(this.state=Gn);break;case y.BUFFER_APPEND_ERROR:case y.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;if(e.details===y.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case y.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer(){const{media:t,gapController:e}=this;if(t&&e&&t.readyState){if(this.loadedmetadata||!kn.getBuffered(t).length){const t=this.state!==Gn?this.fragCurrent:null;e.poll(this.lastCurrentTime,t)}this.lastCurrentTime=t.currentTime}}onFragLoadEmergencyAborted(){this.state=Gn,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(t,{type:e}){if(e!==L||this.audioOnly&&!this.altAudio){const t=(e===_?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(t,e,ge),this.tick()}}onLevelsUpdated(t,e){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:t}=this;if(!t)return;const e=t.currentTime;let n=this.startPosition;if(n>=0&&e<n){if(t.seeking)return void this.log(`could not seek to ${n}, already seeking at ${e}`);const r=kn.getBuffered(t),o=(r.length?r.start(0):0)-n;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${o} to match buffer start`),n+=o,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${e}`),t.currentTime=n}}_getAudioCodec(t){let e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(t,e){t.bitrateTest=!0,this._doFragLoad(t,e).then((n=>{const{hls:r}=this;if(!n||this.fragContextChanged(t))return;e.fragmentError=0,this.state=Gn,this.startFragRequested=!1,this.bitrateTest=!1;const o=t.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),r.trigger(p.FRAG_LOADED,n),t.bitrateTest=!1}))}_handleTransmuxComplete(t){var e;const n="main",{hls:r}=this,{remuxResult:o,chunkMeta:i}=t,a=this.getCurrentContext(i);if(!a)return void this.resetWhenMissingContext(i);const{frag:s,part:c,level:u}=a,{video:f,text:h,id3:d,initSegment:y}=o,{details:v}=u,g=this.altAudio?void 0:o.audio;if(this.fragContextChanged(s))this.fragmentTracker.removeFragment(s);else{if(this.state=Yn,y){if(null!=y&&y.tracks){const t=s.initSegment||s;this._bufferInitSegment(u,y.tracks,t,i),r.trigger(p.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:n,tracks:y.tracks})}const t=y.initPTS,e=y.timescale;l(t)&&(this.initPTS[s.cc]={baseTime:t,timescale:e},r.trigger(p.INIT_PTS_FOUND,{frag:s,id:n,initPTS:t,timescale:e}))}if(f&&v&&"initSegment"!==s.sn){const t=v.fragments[s.sn-1-v.startSN],e=s.sn===v.startSN,n=!t||s.cc>t.cc;if(!1!==o.independent){const{startPTS:t,endPTS:r,startDTS:o,endDTS:a}=f;if(c)c.elementaryStreams[f.type]={startPTS:t,endPTS:r,startDTS:o,endDTS:a};else if(f.firstKeyFrame&&f.independent&&1===i.id&&!n&&(this.couldBacktrack=!0),f.dropped&&f.independent){const o=this.getMainFwdBufferInfo(),i=(o?o.end:this.getLoadPosition())+this.config.maxBufferHole,c=f.firstKeyFramePTS?f.firstKeyFramePTS:t;if(!e&&i<c-this.config.maxBufferHole&&!n)return void this.backtrack(s);n&&(s.gap=!0),s.setElementaryStreamInfo(f.type,s.start,r,s.start,a,!0)}else e&&t>2&&(s.gap=!0);s.setElementaryStreamInfo(f.type,t,r,o,a),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(f,s,c,i,e||n)}else{if(!e&&!n)return void this.backtrack(s);s.gap=!0}}if(g){const{startPTS:t,endPTS:e,startDTS:n,endDTS:r}=g;c&&(c.elementaryStreams[L]={startPTS:t,endPTS:e,startDTS:n,endDTS:r}),s.setElementaryStreamInfo(L,t,e,n,r),this.bufferFragmentData(g,s,c,i)}if(v&&null!=d&&null!=(e=d.samples)&&e.length){const t={id:n,frag:s,details:v,samples:d.samples};r.trigger(p.FRAG_PARSING_METADATA,t)}if(v&&h){const t={id:n,frag:s,details:v,samples:h.samples};r.trigger(p.FRAG_PARSING_USERDATA,t)}}}_bufferInitSegment(t,e,n,r){if(this.state!==Yn)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:o,video:i,audiovideo:a}=e;if(o){let e=t.audioCodec;const n=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==o.metadata.channelCount&&-1===n.indexOf("firefox")&&(e="mp4a.40.5")),e&&-1!==e.indexOf("mp4a.40.5")&&-1!==n.indexOf("android")&&"audio/mpeg"!==o.container&&(e="mp4a.40.2",this.log(`Android: force audio codec to ${e}`)),t.audioCodec&&t.audioCodec!==e&&this.log(`Swapping manifest audio codec "${t.audioCodec}" for "${e}"`),o.levelCodec=e,o.id="main",this.log(`Init audio buffer, container:${o.container}, codecs[selected/level/parsed]=[${e||""}/${t.audioCodec||""}/${o.codec}]`)}i&&(i.levelCodec=t.videoCodec,i.id="main",this.log(`Init video buffer, container:${i.container}, codecs[level/parsed]=[${t.videoCodec||""}/${i.codec}]`)),a&&this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${t.codecs}/${a.codec}]`),this.hls.trigger(p.BUFFER_CODECS,e),Object.keys(e).forEach((t=>{const o=e[t].initSegment;null!=o&&o.byteLength&&this.hls.trigger(p.BUFFER_APPENDING,{type:t,data:o,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,ge)}backtrack(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=Gn}checkFragmentChanged(){const t=this.media;let e=null;if(t&&t.readyState>1&&!1===t.seeking){const n=t.currentTime;if(kn.isBuffered(t,n)?e=this.getAppendedFrag(n):kn.isBuffered(t,n+.1)&&(e=this.getAppendedFrag(n+.1)),e){this.backtrackFragment=null;const t=this.fragPlaying,n=e.level;t&&e.sn===t.sn&&t.level===n||(this.fragPlaying=e,this.hls.trigger(p.FRAG_CHANGED,{frag:e}),t&&t.level===n||this.hls.trigger(p.LEVEL_SWITCHED,{level:n}))}}}get nextLevel(){const t=this.nextBufferedFrag;return t?t.level:-1}get currentFrag(){const t=this.media;return t?this.fragPlaying||this.getAppendedFrag(t.currentTime):null}get currentProgramDateTime(){const t=this.media;if(t){const e=t.currentTime,n=this.currentFrag;if(n&&l(e)&&l(n.programDateTime)){const t=n.programDateTime+1e3*(e-n.start);return new Date(t)}}return null}get currentLevel(){const t=this.currentFrag;return t?t.level:-1}get nextBufferedFrag(){const t=this.currentFrag;return t?this.followingBufferedFrag(t):null}get forceStartLoad(){return this._forceStartLoad}}class sa{static get version(){return"1.5.7"}static isMSESupported(){return oa()}static isSupported(){return function(){if(!oa())return!1;const t=Vt();return"function"==typeof(null==t?void 0:t.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((e=>t.isTypeSupported(zt(e,"video"))))||["mp4a.40.2","fLaC"].some((e=>t.isTypeSupported(zt(e,"audio")))))}()}static getMediaSource(){return Vt()}static get Events(){return p}static get ErrorTypes(){return d}static get ErrorDetails(){return y}static get DefaultConfig(){return sa.defaultConfig?sa.defaultConfig:Xi}static set DefaultConfig(t){sa.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new no,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,function(t,e){if("object"==typeof console&&!0===t||"object"==typeof t){!function(t,...e){e.forEach((function(e){m[e]=t[e]?t[e].bind(t):function(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):v}(e)}))}(t,"debug","log","info","warn","error");try{m.log('Debug logs enabled for "Hls instance" in hls.js version 1.5.7')}catch(t){m=g}}else m=g}(t.debug||!1);const e=this.config=function(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=Qi(t),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((t=>{const o=`${"level"===t?"playlist":t}LoadPolicy`,i=void 0===e[o],a=[];r.forEach((r=>{const s=`${t}Loading${r}`,c=e[s];if(void 0!==c&&i){a.push(s);const t=n[o].default;switch(e[o]={default:t},r){case"TimeOut":t.maxLoadTimeMs=c,t.maxTimeToFirstByteMs=c;break;case"MaxRetry":t.errorRetry.maxNumRetry=c,t.timeoutRetry.maxNumRetry=c;break;case"RetryDelay":t.errorRetry.retryDelayMs=c,t.timeoutRetry.retryDelayMs=c;break;case"MaxRetryTimeout":t.errorRetry.maxRetryDelayMs=c,t.timeoutRetry.maxRetryDelayMs=c}}})),a.length&&b.warn(`hls.js config: "${a.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(e[o])}`)})),s(s({},n),e)}(sa.DefaultConfig,t);this.userConfig=t,e.progressive&&function(t){const e=t.loader;e!==Yi&&e!==Hi?(b.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}()&&(t.loader=Yi,t.progressive=!0,t.enableSoftwareAES=!0,b.log("[config]: Progressive streaming enabled, using FetchLoader"))}(e);const{abrController:n,bufferController:r,capLevelController:o,errorController:i,fpsController:a}=e,c=new i(this),u=this.abrController=new n(this),l=this.bufferController=new r(this),f=this.capLevelController=new o(this),h=new a(this),d=new xe(this),y=new je(this),w=e.contentSteeringController,A=w?new w(this):null,x=this.levelController=new ta(this,A),E=new An(this),C=new na(this.config),k=this.streamController=new aa(this,E,C);f.setStreamController(k),h.setStreamController(k);const L=[d,x,k];A&&L.splice(1,0,A),this.networkControllers=L;const _=[u,l,f,h,y,E];this.audioTrackController=this.createController(e.audioTrackController,L);const S=e.audioStreamController;S&&L.push(new S(this,E,C)),this.subtitleTrackController=this.createController(e.subtitleTrackController,L);const O=e.subtitleStreamController;O&&L.push(new O(this,E,C)),this.createController(e.timelineController,_),C.emeController=this.emeController=this.createController(e.emeController,_),this.cmcdController=this.createController(e.cmcdController,_),this.latencyController=this.createController(Be,_),this.coreComponents=_,L.push(c);const T=c.onErrorOut;"function"==typeof T&&this.on(p.ERROR,T,c)}createController(t,e){if(t){const n=new t(this);return e&&e.push(n),n}return null}on(t,e,n=this){this._emitter.on(t,e,n)}once(t,e,n=this){this._emitter.once(t,e,n)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,e,n=this,r){this._emitter.off(t,e,n,r)}listeners(t){return this._emitter.listeners(t)}emit(t,e,n){return this._emitter.emit(t,e,n)}trigger(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(e){if(b.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),!this.triggeringException){this.triggeringException=!0;const n=t===p.ERROR;this.trigger(p.ERROR,{type:d.OTHER_ERROR,details:y.INTERNAL_EXCEPTION,fatal:n,event:t,error:e}),this.triggeringException=!1}}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){b.log("destroy"),this.trigger(p.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((t=>t.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((t=>t.destroy())),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){b.log("attachMedia"),this._media=t,this.trigger(p.MEDIA_ATTACHING,{media:t})}detachMedia(){b.log("detachMedia"),this.trigger(p.MEDIA_DETACHING,void 0),this._media=null}loadSource(t){this.stopLoad();const e=this.media,n=this.url,r=this.url=i.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,b.log(`loadSource:${r}`),e&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(p.MANIFEST_LOADING,{url:t})}startLoad(t=-1){b.log(`startLoad(${t})`),this.started=!0,this.networkControllers.forEach((e=>{e.startLoad(t)}))}stopLoad(){b.log("stopLoad"),this.started=!1,this.networkControllers.forEach((t=>{t.stopLoad()}))}resumeBuffering(){this.started&&this.networkControllers.forEach((t=>{"fragmentLoader"in t&&t.startLoad(-1)}))}pauseBuffering(){this.networkControllers.forEach((t=>{"fragmentLoader"in t&&t.stopLoad()}))}swapAudioCodec(){b.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){b.log("recoverMediaError");const t=this._media;this.detachMedia(),t&&this.attachMedia(t)}removeLevel(t){this.levelController.removeLevel(t)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){b.log(`set currentLevel:${t}`),this.levelController.manualLevel=t,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){b.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){b.log(`set loadLevel:${t}`),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){b.log(`set firstLevel:${t}`),this.levelController.firstLevel=t}get startLevel(){const t=this.levelController.startLevel;return-1===t&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:t}set startLevel(t){b.log(`set startLevel:${t}`),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}set bandwidthEstimate(t){this.abrController.resetEstimator(t)}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(b.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){(function(t){return De.indexOf(t)>-1})(t)&&this._maxHdcpLevel!==t&&(this._maxHdcpLevel=t,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:e}}=this;if(!t)return 0;const n=t.length;for(let r=0;r<n;r++)if(t[r].maxBitrate>=e)return r;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:e,maxHdcpLevel:n}=this;let r;if(r=-1===e&&null!=t&&t.length?t.length-1:e,n)for(let e=r;e--;){const r=t[e].attrs["HDCP-LEVEL"];if(r&&r<=n)return e}return r}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(t){this.abrController.nextAutoLevel=t}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(t){var e;return null==(e=this.audioTrackController)?void 0:e.setAudioOption(t)}setSubtitleOption(t){var e;return null==(e=this.subtitleTrackController)||e.setSubtitleOption(t),null}get allAudioTracks(){const t=this.audioTrackController;return t?t.allAudioTracks:[]}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const e=this.audioTrackController;e&&(e.audioTrack=t)}get allSubtitleTracks(){const t=this.subtitleTrackController;return t?t.allSubtitleTracks:[]}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return!!t&&t.subtitleDisplay}set subtitleDisplay(t){const e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}sa.defaultConfig=void 0},8330:t=>{"use strict";t.exports=JSON.parse('{"name":"paella-core","version":"1.49.5","description":"Multistream HTML video player","main":"src/index.js","module":"dist/paella-core.js","scripts":{"build":"webpack --mode production","dev":"webpack serve --mode development --config webpack.debug.js --host 0.0.0.0","captions":"webpack serve --mode development --config webpack.captions.js","eslint":"eslint .","nomanifest":"webpack serve --mode development --config webpack.nomanifest.js","testenv":"webpack serve --mode development --config webpack.test.js --host 0.0.0.0"},"repository":{"type":"git","url":"git+https://github.com/polimediaupv/paella-core.git"},"keywords":["html","player","video","hls"],"author":"Fernando Serrano Carpena <ferserc1@gmail.com>","license":"ECL-2.0","bugs":{"url":"https://github.com/polimediaupv/paella-core/issues"},"homepage":"https://github.com/polimediaupv/paella-core#readme","devDependencies":{"@babel/core":"^7.12.10","@babel/plugin-transform-modules-commonjs":"^7.19.6","@babel/preset-env":"^7.12.11","@playwright/test":"^1.29.2","babel-loader":"^9.0.0","babel-plugin-transform-require-context":"^0.1.1","copy-webpack-plugin":"^11.0.0","css-loader":"^6.6.0","eslint":"^8.29.0","file-loader":"^6.2.0","html-webpack-plugin":"^5.5.0","source-map-loader":"^4.0.0","style-loader":"^3.3.1","svg-inline-loader":"^0.8.2","webpack":"^5.66.0","webpack-cli":"^5.0.0","webpack-dev-server":"^4.7.3"},"dependencies":{"core-js":"^3.8.2","hls.js":"^1.0.4"}}')},5135:t=>{"use strict";t.exports=JSON.parse('{"May the force be with you":"Möge die Macht mit dir sein!","Digit1":"1","Digit2":"2","Digit3":"3","Digit4":"4","Digit5":"5","Digit6":"6","Digit7":"7","Digit8":"8","Digit9":"9","Digit0":"0","KeyA":"A","KeyB":"B","KeyC":"C","KeyD":"D","KeyE":"E","KeyF":"F","KeyG":"G","KeyH":"H","KeyI":"I","KeyJ":"J","KeyK":"K","KeyL":"L","KeyM":"M","KeyN":"N","KeyO":"O","KeyP":"P","KeyQ":"Q","KeyR":"R","KeyS":"S","KeyT":"T","KeyU":"U","KeyV":"V","KeyW":"W","KeyX":"X","KeyY":"Y","KeyZ":"Z","Comma":",","Period":".","Semicolon":";","Quote":"\'","BracketLeft":"[","BracketRight":"]","Backquote":"`","Backslash":"\\\\","Minus":"-","Equal":"=","AltLeft":"Alt","AltRight":"Alt","CapsLock":"Feststelltaste","ControlLeft":"Strg","ControlRight":"Strg","OSLeft":"OSLinks","OSRight":"OSRechts","ShiftLeft":"ShiftLinks","ShiftRight":"ShiftRechts","ContextMenu":"Menü-Taste","Enter":"Enter","Space":"Leertaste","Tab":"Tabulator","Delete":"Entf","End":"Ende","Help":"Hilfe","Home":"Pos1","Insert":"Einf","PageDown":"Bild Unten","PageUp":"Bild Oben","ArrowDown":"Pfeil nach unten","ArrowLeft":"Pfeil nach links","ArrowRight":"Pfeil nach rechts","ArrowUp":"Pfeil nach oben","Escape":"Escape","PrintScreen":"Druck","ScrollLock":"Rollen","Pause":"Pause","Put the videos side by side":"Videos nebeneinander platzieren","Minimize video":"Video minimieren","Close video":"Video schließen","Place the video on the other side of the screen":"Das Video auf die andere Bildschirmseite platzieren","Maximize video":"Video maximieren","Swap position of the videos":"Videopositionen tauschen","loadManifest(): Invalid current player state: $1":"loadManifest(): Aktueller Wiedergabestatus ungültig: $1","loadPlayer(): Invalid current player state: $1":"loadPlayer(): Aktueller Wiedergabestatus ungültig: $1","Could not load player: state transition in progress: $1":"Player konnte nicht geladen werden: Statusübergang in Arbeit: $1","Could not unload player: state transition in progress: $1":"Player konnte nicht entfernt werden: Statusübergang in Arbeit: $1","unloadManifest(): Invalid current player state: $1":"unloadManifest(): Aktuell ungültiger Player-Status: $1","Error loading video manifest: $1 $2":"Fehler beim Laden der Videoinformationen: $1 $2","Play/pause":"Wiedergabe/Pause","Select the active audio track":"Aktive Audiospur auswählen","Toggle audio mute":"Audio-Stummschaltung umschalten","Toggle play/pause":"Wiedergabe/Pause umschalten","Toggle captions":"Untertitel umschalten","Backward $1 seconds":"Zurück $1 Sekunden","Forward $1 seconds":"Vorwärts $1 Sekunden","Volume up 10%":"Lautstärke um 10% erhöhen","Volume down 10%":"Lautstärke um 10% verringern","Close pop-up":"Pop-up Fenster schließen","Decrease playback speed":"Wiedergabegeschwindigkeit verringern","Increase playback speed":"Wiedergabegeschwindigkeit erhöhen","Swap between side by side and minimized video":"Wechsel zwischen Video nebeneinander und minimiert","Swap the position of the videos":"Wechsel der Videopositionen","Dual stream 50%":"Dual-Stream 50%","Two videos 50%":"Zwei Videos 50%","play":"spielen","pause":"pause"}')},7964:t=>{"use strict";t.exports=JSON.parse('{"May the force be with you":"May the force be with you","Digit1":"1","Digit2":"2","Digit3":"3","Digit4":"4","Digit5":"5","Digit6":"6","Digit7":"7","Digit8":"8","Digit9":"9","Digit0":"0","KeyA":"A","KeyB":"B","KeyC":"C","KeyD":"D","KeyE":"E","KeyF":"F","KeyG":"G","KeyH":"H","KeyI":"I","KeyJ":"J","KeyK":"K","KeyL":"L","KeyM":"M","KeyN":"N","KeyO":"O","KeyP":"P","KeyQ":"Q","KeyR":"R","KeyS":"S","KeyT":"T","KeyU":"U","KeyV":"V","KeyW":"W","KeyX":"X","KeyY":"Y","KeyZ":"Z","Comma":",","Period":".","Semicolon":";","Quote":"\'","BracketLeft":"[","BracketRight":"]","Backquote":"`","Backslash":"\\\\","Minus":"-","Equal":"=","AltLeft":"Alt","AltRight":"Alt","CapsLock":"CapsLock","ControlLeft":"ControlLeft","ControlRight":"ControlRight","OSLeft":"OSLeft","OSRight":"OSRight","ShiftLeft":"ShiftLeft","ShiftRight":"ShiftRight","ContextMenu":"ContextMenu","Enter":"Enter","Space":"Space","Tab":"Tab","Delete":"Delete","End":"End","Help":"Help","Home":"Home","Insert":"Insert","PageDown":"PageDown","PageUp":"PageUp","ArrowDown":"ArrowDown","ArrowLeft":"ArrowLeft","ArrowRight":"ArrowRight","ArrowUp":"ArrowUp","Escape":"Escape","PrintScreen":"PrintScreen","ScrollLock":"ScrollLock","Pause":"Pause","Put the videos side by side":"Put the videos side by side","Minimize video":"Minimize video","Close video":"Close video","Place the video on the other side of the screen":"Place the video on the other side of the screen","Maximize video":"Maximize video","Swap position of the videos":"Swap position of the videos","loadManifest(): Invalid current player state: $1":"loadManifest(): Invalid current player state: $1","loadPlayer(): Invalid current player state: $1":"loadPlayer(): Invalid current player state: $1","Could not load player: state transition in progress: $1":"Could not load player: state transition in progress: $1","Could not unload player: state transition in progress: $1":"Could not unload player: state transition in progress: $1","unloadManifest(): Invalid current player state: $1":"unloadManifest(): Invalid current player state: $1","Error loading video manifest: $1 $2":"Error loading video manifest: $1 $2","Play/pause":"Play/pause","Select the active audio track":"Select the active audio track","Toggle audio mute":"Toggle audio mute","Toggle play/pause":"Toggle play/pause","Toggle captions":"Toggle captions","Backward $1 seconds":"Backward $1 seconds","Forward $1 seconds":"Forward $1 seconds","Volume up 10%":"Volume up 10%","Volume down 10%":"Volume down 10%","Close pop-up":"Close pop-up","Decrease playback speed":"Decrease playback speed","Increase playback speed":"Increase playback speed","Swap between side by side and minimized video":"Swap between side by side and minimized video","Swap the position of the videos":"Swap the position of the videos"}')},7105:t=>{"use strict";t.exports=JSON.parse('{"May the force be with you":"Que la fuerza te acompañe","Digit1":"1","Digit2":"2","Digit3":"3","Digit4":"4","Digit5":"5","Digit6":"6","Digit7":"7","Digit8":"8","Digit9":"9","Digit0":"0","KeyA":"A","KeyB":"B","KeyC":"C","KeyD":"D","KeyE":"E","KeyF":"F","KeyG":"G","KeyH":"H","KeyI":"I","KeyJ":"J","KeyK":"K","KeyL":"L","KeyM":"M","KeyN":"N","KeyO":"O","KeyP":"P","KeyQ":"Q","KeyR":"R","KeyS":"S","KeyT":"T","KeyU":"U","KeyV":"V","KeyW":"W","KeyX":"X","KeyY":"Y","KeyZ":"Z","Comma":",","Period":".","Semicolon":";","Quote":"\'","BracketLeft":"[","BracketRight":"]","Backquote":"`","Backslash":"\\\\","Minus":"-","Equal":"=","AltLeft":"Alt","AltRight":"Alt","CapsLock":"Bloqueo May.","ControlLeft":"Ctrl","ControlRight":"Ctrl","OSLeft":"OSLeft","OSRight":"OSRight","ShiftLeft":"Mayúsculas","ShiftRight":"Mayúsculas","ContextMenu":"ContextMenu","Enter":"Intro","Space":"Espacio","Tab":"Tabulador","Delete":"Borrar","End":"Fin","Help":"Ayuda","Home":"Inicio","Insert":"Insertar","PageDown":"Re. Pag","PageUp":"Av. Pag","ArrowDown":"Flecha abajo","ArrowLeft":"Flecha izq.","ArrowRight":"Flecha der.","ArrowUp":"Flecha Arriba","Escape":"Escape","PrintScreen":"PrintScreen","ScrollLock":"ScrollLock","Pause":"Pausa","Put the videos side by side":"Colocar los vídeos uno junto al otro","Minimize video":"Minimizar vídeo","Close video":"Cerrar el video","Place the video on the other side of the screen":"Colocar el vídeo al otro lado de la pantalla","Maximize video":"Maximizar vídeo","Swap position of the videos":"Intercambiar posición de los vídeos","loadManifest(): Invalid current player state: $1":"loadManifest(): Estado actual del reproductor no válido: $1","loadPlayer(): Invalid current player state: $1":"loadPlayer(): Estado actual del reproductor no válido: $1","Could not load player: state transition in progress: $1":"No se puede cargar el reproductor: transición de estado en progreso: $1","Could not unload player: state transition in progress: $1":"No se puede descargar el reproductor: transición de estado en progreso $1","unloadManifest(): Invalid current player state: $1":"unloadManifest(): Estado actual del reprodutor no válido: $1","Error loading video manifest: $1 $2":"Error cargando la información del vídeo: $1 $2","Play/pause":"Reproducir/pausar","Select the active audio track":"Seleccione la pista de audio activa","Toggle audio mute":"Conmutar el silencio de audio","Toggle play/pause":"Activar la reproducción/pausa","Toggle captions":"Alternar subtítulos","Backward $1 seconds":"Volver hacia atrás $1 segundos","Forward $1 seconds":"Ir hacia adelante $1 segundos","Volume up 10%":"Aumenta el volumen un 10%.","Volume down 10%":"Reduce el volumen un 10%.","Close pop-up":"Cerrar ventana emergente","Decrease playback speed":"Reducir la velocidad de reproducción","Increase playback speed":"Aumentar la velocidad de reproducción","Swap between side by side and minimized video":"Cambiar la disposición de los dos vídeos entre minimizado y del mismo tamaño","Swap the position of the videos":"Intercambiar la posición de los vídeos","Dual stream 50%":"Dos streams al 50%","Two videos 50%":"Dos streams al 50%","play":"reproducir","pause":"pausar"}')}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0;var r={};return(()=>{"use strict";n.r(r),n.d(r,{AudioOnlyVideo:()=>oo.AudioOnlyVideo,AudioTrackData:()=>Zr.A,AudioVideoPlugin:()=>oo.default,ButtonGroupPlugin:()=>qr.A,ButtonPlugin:()=>At.Ay,Canvas:()=>at.Hl,CanvasButtonPlugin:()=>yo.Ay,CanvasButtonPosition:()=>at.IY,CanvasPlugin:()=>at.Ay,Captions:()=>to.A,CaptionsPlugin:()=>Je.A,DFXPParser:()=>Jr.A,Data:()=>Qe.A,DataPlugin:()=>Qe.q,DefaultKeyShortcutsPlugin:()=>ao.default,DfxpManifestCaptionsPlugin:()=>ho.default,DomClass:()=>P.hW,DualVideoDynamicLayoutPlugin:()=>uo.default,DualVideoLayoutPlugin:()=>co.default,EventLogPlugin:()=>yn.Ay,Events:()=>st.Ay,HlsSupport:()=>eo.HlsSupport,HlsVideo:()=>eo.HlsVideo,HlsVideoFormatPlugin:()=>eo.default,ImageVideo:()=>ro.ImageVideo,ImageVideoFormatPlugin:()=>ro.default,KeyCodes:()=>vn.cK,KeyShortcutPlugin:()=>vn.Ay,LOG_LEVEL:()=>Tn,Loader:()=>K,Log:()=>Dn,ManifestParser:()=>Lr,MenuButtonPlugin:()=>Yr.A,Mp4Video:()=>no.Mp4Video,Mp4VideoFormatPlugin:()=>no.default,Paella:()=>$r,PlayPauseButtonPlugin:()=>io.default,PlayerResource:()=>ot.A,PlayerState:()=>St.A,PlayerStateNames:()=>Dr,Plugin:()=>Vr.A,PluginModule:()=>Xr.A,PopUp:()=>Me.A,PopUpButtonPlugin:()=>Kr.A,ProgressIndicatorPlugin:()=>zr.A,SingleVideoLayoutPlugin:()=>so.default,TripleVideoLayoutPlugin:()=>lo.default,UserInterfacePlugin:()=>Hr.A,Video:()=>it.Ce,VideoCanvas:()=>po.VideoCanvas,VideoCanvasPlugin:()=>po.default,VideoContainerMessagePosition:()=>_t.$,VideoLayout:()=>rt.Ay,VideoPlugin:()=>it.Ay,VideoQualityItem:()=>Wr.A,VttManifestCaptionsPlugin:()=>fo.default,WebVTTParser:()=>Qr.A,addDictionary:()=>xt.q8,bindEvent:()=>st.e3,checkManifestIntegrity:()=>bt,createElement:()=>P.n,createElementWithHtmlText:()=>P.h6,defaultAddDictionaryFunction:()=>xt.HZ,defaultGetCookieConsentCallback:()=>wn,defaultGetCookieDescriptionCallback:()=>An,defaultGetDefaultLanguageFunction:()=>xt.X5,defaultGetDictionariesFunction:()=>xt.we,defaultGetLanguageFunction:()=>xt.ec,defaultGetManifestFileUrlFunction:()=>_,defaultGetManifestUrlFunction:()=>k,defaultGetVideoIdFunction:()=>E,defaultHlsConfig:()=>eo.defaultHlsConfig,defaultLoadConfigFunction:()=>A,defaultLoadVideoManifestFunction:()=>O,defaultSetLanguageFunction:()=>xt.Uj,defaultTranslateFunction:()=>xt.Gs,getCurrentTabIndex:()=>At.do,getDefaultLanguage:()=>xt.i5,getDictionaries:()=>xt.Ly,getHlsSupport:()=>eo.getHlsSupport,getLanguage:()=>xt.Z0,getNextTabIndex:()=>At.Dg,getPluginsOfType:()=>nt.G8,getShortcuts:()=>vn.iv,importPlugins:()=>nt._W,isVolumeApiAvailable:()=>it.o3,loadPluginsOfType:()=>nt._x,log:()=>Bn,parseDFXP:()=>Jr.k,parseWebVTT:()=>Qr.I,pauseCaptureShortcuts:()=>vn.sd,resumeCaptureShortcuts:()=>vn.hp,setLanguage:()=>xt.xC,supportsVideoType:()=>no.supportsVideoType,translate:()=>xt.Tl,triggerEvent:()=>st.Hl,triggerIfReady:()=>st.V1,utils:()=>v});var t=n(5072),e=n.n(t),o=n(7825),i=n.n(o),a=n(7659),s=n.n(a),c=n(5056),u=n.n(c),l=n(540),f=n.n(l),h=n(1113),p=n.n(h),d=n(4608),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=s().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=f(),e()(d.A,y),d.A&&d.A.locals&&d.A.locals,n(7452);var v=n(8955);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function m(){m=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function b(){}function w(){}function A(){}var x={};u(x,a,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(I([])));C&&C!==n&&r.call(C,a)&&(x=C);var k=A.prototype=b.prototype=Object.create(x);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==g(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function S(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(g(e)+" is not iterable")}return w.prototype=A,o(k,"constructor",{value:A,configurable:!0}),o(A,"constructor",{value:w,configurable:!0}),w.displayName=u(A,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},L(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function b(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){b(i,r,o,a,s,"next",t)}function s(t){b(i,r,o,a,s,"throw",t)}a(void 0)}))}}function A(t,e){return x.apply(this,arguments)}function x(){return(x=w(m().mark((function t(e,n){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.log.debug("Using default configuration loading function."),t.next=3,fetch(e);case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t,e){return C.apply(this,arguments)}function C(){return(C=w(m().mark((function t(e,n){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.log.debug("Using default getVideoId function"),t.abrupt("return",(0,v.getHashParameter)("id")||(0,v.getUrlParameter)("id")||e.fallbackId);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t,e,n,r){return L.apply(this,arguments)}function L(){return(L=w(m().mark((function t(e,n,r,o){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.log.debug("Using default getManifestUrl function"),t.abrupt("return",(0,v.joinPath)([e,n]));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e,n,r){return S.apply(this,arguments)}function S(){return(S=w(m().mark((function t(e,n,r,o){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.log.debug("Using default getManifestFileUrl function"),t.abrupt("return",(0,v.joinPath)([e,n]));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t,e,n){return T.apply(this,arguments)}function T(){return(T=w(m().mark((function t(e,n,r){var o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.log.debug("Using default loadVideoManifest function"),t.next=3,fetch(e);case 3:if(!(o=t.sent).ok){t.next=10;break}return t.next=7,o.json();case 7:return t.abrupt("return",t.sent);case 10:throw new Error(r.translate("Error loading video manifest: $1 $2",[o.status,o.statusText]));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var P=n(4666),R=n(3338),I=n.n(R),j=n(8066),B={};function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function N(){N=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==D(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function _(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(D(e)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function M(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U(r.key),r)}}function U(t){var e=function(t,e){if("object"!=D(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==D(e)?e:String(e)}function G(t,e,n){return e=V(e),function(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$()?Reflect.construct(e,n||[],V(t).constructor):e.apply(t,n))}function $(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($=function(){return!!t})()}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},H(t,e)}B.styleTagTransform=p(),B.setAttributes=u(),B.insert=s().bind(null,"head"),B.domAPI=i(),B.insertStyleElement=f(),e()(j.A,B),j.A&&j.A.locals&&j.A.locals;var K=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=G(this,e,[t,{parent:t.containerElement}])).element.className="loader-container",n}var n,r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(e,t),n=e,r=[{key:"create",value:(o=N().mark((function t(){var e;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.player.getCustomPluginIcon("loader","progressIndicator")||I(),(0,P.h6)("<i>".concat(e,"</i>"),this.element);case 2:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){M(i,n,r,a,s,"next",t)}function s(t){M(i,n,r,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"debug",get:function(){return!1}}],r&&F(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(P.hW),Y=n(101),z=n.n(Y),W=n(8353),Z={};function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function X(t,e,n){return e=J(e),function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Q()?Reflect.construct(e,n||[],J(t).constructor):e.apply(t,n))}function Q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Q=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}Z.styleTagTransform=p(),Z.setAttributes=u(),Z.insert=s().bind(null,"head"),Z.domAPI=i(),Z.insertStyleElement=f(),e()(W.A,Z),W.A&&W.A.locals&&W.A.locals;var et=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=X(this,e,[t,{parent:t.containerElement}])).element.className="error-container",(0,P.h6)("\n            <div>\n                <i>".concat(z(),"</i>\n                <p>").concat(r,"</p>\n            </div>"),n.element),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(P.hW),nt=n(2478),rt=n(6935),ot=n(933),it=n(9506),at=n(7003),st=n(193);function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lt(){lt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ct(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function _(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(ct(e)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function ft(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ht(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ft(i,r,o,a,s,"next",t)}function s(t){ft(i,r,o,a,s,"throw",t)}a(void 0)}))}}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dt(r.key),r)}}function dt(t){var e=function(t,e){if("object"!=ct(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ct(e)?e:String(e)}function yt(t,e,n){return e=gt(e),function(t,e){if(e&&("object"===ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,vt()?Reflect.construct(e,n||[],gt(t).constructor):e.apply(t,n))}function vt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vt=function(){return!!t})()}function gt(t){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gt(t)}function mt(t,e){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mt(t,e)}function bt(t){var e,n=function(t,e){if(!t)throw new Error("Invalid video manifest: ".concat(e))};n(t.streams,"missing 'streams' object."),n(t.streams.length>0,"the 'streams' array is empty."),n(null===(e=t.metadata)||void 0===e?void 0:e.preview,"the 'metadata.preview' field is required.")}var wt=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=yt(this,e,[t,n]))._videoContainer=n,r._streamData=null,r._streams=null,r._players=[],r._mainAudioPlayer=null,r._streamSyncTimer=null,r._trimming={enabled:!1,start:100,end:200},r}var n,r,o,i,a,s,c,u,l,f,h,p,d,y,v,g,m,b,w,A,x,E,C,k;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mt(t,e)}(e,t),n=e,r=[{key:"load",value:function(){var t=ht(lt().mark((function t(e){var n,r,o,i=this;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._streamData=e,this._streams={},n=this.player.config.defaultAudioStream||"presenter",1===this._streamData.length&&(n=this._streamData[0].content),e.some((function(t){if("mainAudio"===t.role)return n=t.content,!0})),this.player.log.debug("Finding compatible video plugins"),t.next=8,(0,at.NN)(this.player);case 8:this._streamData.forEach((function(t){var e=(0,at.W8)(i.player,t);if(!e)throw Error("Canvas plugin not found: ".concat(t.canvas));var r=t.content===n,o=(0,it.Bw)(i.player,t);if(!o)throw Error("Incompatible stream type: ".concat(t.content));i._streams[t.content]={stream:t,isMainAudio:r,videoPlugin:o,canvasPlugin:e}})),t.t0=lt().keys(this._streams);case 11:if((t.t1=t.t0()).done){t.next=29;break}return r=t.t1.value,o=this._streams[r],t.next=16,o.canvasPlugin.getCanvasInstance(this._videoContainer);case 16:return o.canvas=t.sent,t.next=19,o.videoPlugin.getVideoInstance(o.canvas.element,o.isMainAudio);case 19:return o.player=t.sent,n===r?(this._mainAudioPlayer=o.player,o.player.initVolume(1)):o.player.initVolume(0),t.next=23,o.player.load(o.stream,this);case 23:return t.next=25,o.canvas.loadCanvas(o.player);case 25:o.player.onVideoEnded(ht(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.executeAction("pause"),i.executeAction("setCurrentTime",0),(0,st.V1)(i.player,st.Ay.ENDED);case 3:case"end":return t.stop()}}),t)})))),this._players.push(o.player),t.next=11;break;case 29:if(null!==this.mainAudioPlayer){t.next=32;break}throw this.player.log.error("The video stream containing the audio track could not be identified. The `role` attribute must be specified in the main video stream, or the `defaultAudioStream` attribute must be set correctly in the player configuration."),new Error("The video stream containing the audio track could not be identified.");case 32:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"unload",value:(k=ht(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.stopStreamSync(),t.next=3,(0,at.SP)(this.player);case 3:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"players",get:function(){return this._players}},{key:"streamData",get:function(){return this._streamData}},{key:"streams",get:function(){return this._streams}},{key:"mainAudioPlayer",get:function(){return this._mainAudioPlayer}},{key:"isTrimEnabled",get:function(){var t,e,n;return(null===(t=this._trimming)||void 0===t?void 0:t.enabled)&&(null===(e=this._trimming)||void 0===e?void 0:e.end)>(null===(n=this._trimming)||void 0===n?void 0:n.start)}},{key:"trimStart",get:function(){var t;return null===(t=this._trimming)||void 0===t?void 0:t.start}},{key:"trimEnd",get:function(){var t;return null===(t=this._trimming)||void 0===t?void 0:t.end}},{key:"setTrimming",value:(C=ht(lt().mark((function t(e){var n,r,o,i;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.enabled,r=e.start,o=e.end,!(r>=o)){t.next=3;break}throw Error("Error setting trimming: start time (".concat(r,") must be lower than end time ").concat(o));case 3:return this._trimming={enabled:n,start:r,end:o},t.next=6,this.currentTime();case 6:i=t.sent,(0,st.V1)(this.player,st.Ay.TIMEUPDATE,{currentTime:n?r+i:i});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return C.apply(this,arguments)})},{key:"startStreamSync",value:function(){var t,e,n=this,r=null!==(t=null===(e=this.player.config.videoContainer)||void 0===e?void 0:e.multiStreamMaxDesyncTime)&&void 0!==t?t:.2;this.player.log.debug("Max video desynchronization: ".concat(r)),this._timeSync=!0;var o=function(){var t=ht(lt().mark((function t(){var e,i,a,s,c;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n._players.length){t.next=3;break}return n.player.log.warn("Player not yet loaded. Waiting for video sync."),t.abrupt("return");case 3:if(e=n.mainAudioPlayer.currentTimeSync,n.players.length>1)for(i=0;i<n.players.length;++i)(a=n.players[i])!==n.mainAudioPlayer&&(s=a.currentTimeSync,Math.abs(e-s)>r&&(n.player.log.debug("Video synchronization triggered"),a.setCurrentTime(e)));if(!n.isTrimEnabled){t.next=27;break}if(c=e-n.trimStart,!(n.trimEnd<=e)){t.next=18;break}return t.next=10,n.executeAction("pause");case 10:return t.next=12,n.setCurrentTime(0);case 12:return n.stopStreamSync(),e=0,(0,st.V1)(n.player,st.Ay.ENDED,{}),t.abrupt("return");case 18:if(!(e<n.trimStart)){t.next=23;break}return t.next=21,n.setCurrentTime(0);case 21:e=n.trimStart,c=0;case 23:(0,st.V1)(n.player,st.Ay.TIMEUPDATE,{currentTime:c}),n._timeupdateTimer=setTimeout((function(){n._timeSync&&o()}),250),t.next=28;break;case 27:n._timeSync&&((0,st.V1)(n.player,st.Ay.TIMEUPDATE,{currentTime:e}),n._timeupdateTimer=setTimeout((function(){o()}),250));case 28:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o()}},{key:"stopStreamSync",value:function(){this._timeSync=!1,this._timeupdateTimer&&clearTimeout(this._timeupdateTimer)}},{key:"executeAction",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(n)||(n=[n]),new Promise((function(r){var o=[],i=[];e.players.forEach((function(e){i.push(new Promise((function(r){var i;e[t].apply(e,(i=n,function(t){if(Array.isArray(t))return ut(t)}(i)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(t,e){if(t){if("string"==typeof t)return ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(t,e):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).then((function(t){o.push(t),r()}))})))})),Promise.allSettled(i).then((function(){return r(o)}))}))}},{key:"isLiveStream",get:function(){return this._streamData.some((function(t){return-1!==Array.from(Object.keys(t.sources)).indexOf("hlsLive")}))}},{key:"play",value:(E=ht(lt().mark((function t(){var e;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.startStreamSync(),t.next=3,this.executeAction("play");case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)})},{key:"pause",value:(x=ht(lt().mark((function t(){var e;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.stopStreamSync(),t.next=3,this.executeAction("pause");case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"stop",value:(A=ht(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.stopStreamSync(),t.next=3,this.executeAction("pause");case 3:return t.next=5,this.executeAction("setCurrentTime",0);case 5:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)})},{key:"paused",value:(w=ht(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("paused");case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"setCurrentTime",value:(b=ht(lt().mark((function t(e){var n,r,o,i,a,s,c,u;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.duration();case 2:return n=t.sent,e<0?e=0:e>n&&(e=n),t.next=6,this.executeAction("currentTime");case 6:if(r=t.sent[0],o=null,!this.isTrimEnabled){t.next=20;break}return e=(e+=this.trimStart)>=this.trimEnd?this.trimEnd:e,t.next=13,this.executeAction("setCurrentTime",[e]);case 13:return i=t.sent[0],t.next=16,this.executeAction("currentTime");case 16:a=t.sent[0],o={result:i,prevTime:r-this.trimStart,newTime:a-this.trimStart},t.next=27;break;case 20:return t.next=22,this.executeAction("setCurrentTime",[e]);case 22:return s=t.sent[0],t.next=25,this.executeAction("currentTime");case 25:c=t.sent[0],o={result:s,prevTime:r,newTime:c};case 27:return t.next=29,this.currentTime();case 29:return u=t.sent,(0,st.V1)(this.player,st.Ay.TIMEUPDATE,{currentTime:u}),t.abrupt("return",o);case 32:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"currentTime",value:(m=ht(lt().mark((function t(){var e;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mainAudioPlayer.currentTime();case 2:if(e=t.sent,!this.isTrimEnabled){t.next=7;break}return t.abrupt("return",e-this.trimStart);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"currentTimeIgnoringTrimming",value:(g=ht(lt().mark((function t(){var e;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mainAudioPlayer.currentTime();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"volume",value:(v=ht(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.mainAudioPlayer){t.next=6;break}return t.next=3,this.mainAudioPlayer.volume();case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,this.executeAction("volume");case 8:return t.abrupt("return",t.sent[0]);case 9:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"setVolume",value:(y=ht(lt().mark((function t(e){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.mainAudioPlayer){t.next=6;break}return t.next=3,this.mainAudioPlayer.setVolume(e);case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,this.executeAction("setVolume",[e]);case 8:return t.abrupt("return",t.sent[0]);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"duration",value:(d=ht(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isTrimEnabled){t.next=4;break}return t.abrupt("return",this.trimEnd-this.trimStart);case 4:return t.next=6,this.durationIgnoringTrimming();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"durationIgnoringTrimming",value:(p=ht(lt().mark((function t(){var e;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("duration");case 2:return e=t.sent.reduce((function(t,e){return Math.min(t,e)}),Number.MAX_VALUE),t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"playbackRate",value:(h=ht(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("playbackRate");case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"setPlaybackRate",value:(f=ht(lt().mark((function t(e){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.executeAction("setPlaybackRate",[e]);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"getQualityReferencePlayer",value:(l=ht(lt().mark((function t(){var e,n,r,o,i;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null,n=[],!(Object.keys(this.streams).length>0)){t.next=16;break}t.t0=lt().keys(this.streams);case 4:if((t.t1=t.t0()).done){t.next=16;break}return r=t.t1.value,o=this.streams[r],t.next=9,o.player.getQualities();case 9:if(t.t2=t.sent,t.t2){t.next=12;break}t.t2=[];case 12:i=t.t2,!e&&i.length>n.length&&(n=i,e=o.player),t.next=4;break;case 16:return t.abrupt("return",e||this.mainAudioPlayer);case 17:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"getCurrentQuality",value:(u=ht(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getQualityReferencePlayer();case 2:return t.abrupt("return",t.sent.currentQuality);case 3:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getQualities",value:(c=ht(lt().mark((function t(){var e;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getQualityReferencePlayer();case 2:return e=t.sent,t.next=5,e.getQualities();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"setQuality",value:(s=ht(lt().mark((function t(e){var n,r,o,i,a,s,c,u,l,f,h;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getQualityReferencePlayer();case 2:return n=t.sent,t.next=5,this.paused();case 5:if(r=t.sent){t.next=10;break}return this.player.log.debug("Quality change started. Pausing video."),t.next=10,this.pause();case 10:return t.next=12,n.getQualities();case 12:if(o=t.sent,i=o.length,!((a=o.findIndex((function(t){return e.index===t.index})))>=0)){t.next=35;break}s=a/i,t.t0=lt().keys(this.streams);case 18:if((t.t1=t.t0()).done){t.next=35;break}return c=t.t1.value,u=this.streams[c],t.next=23,u.player.getQualities();case 23:if(t.t2=t.sent,t.t2){t.next=26;break}t.t2=[];case 26:if(l=t.t2,this.player.log.debug(l),!(l.length>1)){t.next=33;break}return f=Math.round(l.length*s),h=l[f],t.next=33,u.player.setQuality(h);case 33:t.next=18;break;case 35:if(r){t.next=39;break}return this.player.log.debug("Quality change finished. Resuming video."),t.next=39,this.play();case 39:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"supportsMultiaudio",value:(a=ht(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.mainAudioPlayer.supportsMultiaudio());case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getAudioTracks",value:(i=ht(lt().mark((function t(){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.mainAudioPlayer.getAudioTracks());case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"setCurrentAudioTrack",value:(o=ht(lt().mark((function t(e){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.mainAudioPlayer.setCurrentAudioTrack(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"currentAudioTrack",get:function(){return this.mainAudioPlayer.currentAudioTrack}}],r&&pt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(ot.A),At=n(4319),xt=n(5189),Et=n(5609),Ct={};Ct.styleTagTransform=p(),Ct.setAttributes=u(),Ct.insert=s().bind(null,"head"),Ct.domAPI=i(),Ct.insertStyleElement=f(),e()(Et.A,Ct),Et.A&&Et.A.locals&&Et.A.locals;var kt=n(3956),Lt={};Lt.styleTagTransform=p(),Lt.setAttributes=u(),Lt.insert=s().bind(null,"head"),Lt.domAPI=i(),Lt.insertStyleElement=f(),e()(kt.A,Lt),kt.A&&kt.A.locals&&kt.A.locals;var _t=n(1614),St=n(9372);function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function Tt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rt(){Rt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Ot(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function _(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ot(e)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jt(r.key),r)}}function jt(t){var e=function(t,e){if("object"!=Ot(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ot(e)?e:String(e)}function Bt(t,e,n){return e=Nt(e),function(t,e){if(e&&("object"===Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Dt()?Reflect.construct(e,n||[],Nt(t).constructor):e.apply(t,n))}function Dt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Dt=function(){return!!t})()}function Nt(t){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nt(t)}function Mt(t,e){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mt(t,e)}function Ft(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Ut(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ft(i,r,o,a,s,"next",t)}function s(t){Ft(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Gt(t,e){return Array.isArray[e]||(e=[e]),(0,it.kf)(t,e).getManifestData(e)}function $t(t){return Vt.apply(this,arguments)}function Vt(){return(Vt=Ut(Rt().mark((function t(e){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{w:1280,h:720});case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ht(t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Ut(Rt().mark((function t(e){var n,r,o=this;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Rt().mark((function t(n){var r,i,a;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null!=(null==e||null===(r=e.videos)||void 0===r?void 0:r.find((function(t){return t.content===n}))),a=o.streamProvider.streams[n],!i||a.player.isEnabled){t.next=7;break}return t.next=5,a.player.enable();case 5:t.next=10;break;case 7:if(i||!a.player.isEnabled){t.next=10;break}return t.next=10,a.player.disable();case 10:case"end":return t.stop()}}),t)})),t.t0=Rt().keys(this.streamProvider.streams);case 2:if((t.t1=t.t0()).done){t.next=7;break}return r=t.t1.value,t.delegateYield(n(r),"t2",5);case 5:t.next=2;break;case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Yt(){for(var t in this.streamProvider.streams){var e=this.streamProvider.streams[t];e.canvas.element.style.display="none",this._hiddenVideos.appendChild(e.canvas.element)}}function zt(){return Wt.apply(this,arguments)}function Wt(){return Wt=Ut(Rt().mark((function t(){var e,n,r,o,i,a,s,c,u,l,f,h,p,d,y,v=this;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,rt.su)(this.player,this.streamProvider.streamData,this._layoutId,this._mainLayoutContent),t.next=3,Ht.apply(this,[r]);case 3:return Yt.apply(this),t.next=6,$t(this.player);case 6:if(o=t.sent,i=this.elementSize,a=100/o.w,s=100/o.h,c=i.w/i.h,u=o.w/o.h,l=c>u?{w:i.h*u,h:i.h}:{w:i.w,h:i.w/u},this.baseVideoRect.style.width=l.w+"px",this.baseVideoRect.style.height=l.h+"px",this.baseVideoRect.classList.remove("dynamic"),null==r||null===(e=r.videos)||void 0===e||!e.length){t.next=35;break}f=[],h=Tt(r.videos),t.prev=19,d=Rt().mark((function t(){var e,n,o,i,c,u,l,h,d,y,g,m;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=p.value,(u=v.streamProvider.streams[c.content]).stream,l=u.player,h=u.canvas,t.next=5,l.getDimensions();case 5:return d=t.sent,y=d.w/d.h,g=Number.MAX_VALUE,m=null,h.buttonsArea.innerHTML="",t.t0=f,t.next=13,(0,at.xl)(v.player,r,h,c,c.content);case 13:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),c.rect.forEach((function(t){var e=/^(\d+.?\d*)\/(\d+.?\d*)$/.exec(t.aspectRatio),n=e?Number(e[1])/Number(e[2]):1,r=Math.abs(y-n);r<g&&(m=t,g=r)})),h.element.style.display="block",h.element.style.position="absolute",h.element.style.left="".concat((null===(e=m)||void 0===e?void 0:e.left)*a,"%"),h.element.style.top="".concat((null===(n=m)||void 0===n?void 0:n.top)*s,"%"),h.element.style.width="".concat((null===(o=m)||void 0===o?void 0:o.width)*a,"%"),h.element.style.height="".concat((null===(i=m)||void 0===i?void 0:i.height)*s,"%"),h.element.style.zIndex=c.layer,v.baseVideoRect.appendChild(h.element);case 24:case"end":return t.stop()}}),t)})),h.s();case 22:if((p=h.n()).done){t.next=26;break}return t.delegateYield(d(),"t0",24);case 24:t.next=22;break;case 26:t.next=31;break;case 28:t.prev=28,t.t1=t.catch(19),h.e(t.t1);case 31:return t.prev=31,h.f(),t.finish(31);case 34:setTimeout((function(){(0,at.Mo)(v.player,r,f.flat())}),100);case 35:return y=this.baseVideoRect.getElementsByClassName("video-layout-button"),Array.from(y).forEach((function(t){return v.baseVideoRect.removeChild(t)})),null==r||null===(n=r.buttons)||void 0===n||n.forEach((function(t){var e=(0,P.n)({tag:"button",attributes:{class:"video-layout-button","aria-label":(0,xt.Tl)(t.ariaLabel),title:(0,xt.Tl)(t.title),style:"\n                    left: ".concat(t.rect.left*a,"%;\n                    top: ").concat(t.rect.top*s,"%;\n                    width: ").concat(t.rect.width*a,"%;\n                    height: ").concat(t.rect.height*s,"%;\n                    z-index: ").concat(t.layer,";\n                ")},parent:v.baseVideoRect,children:t.icon});e.layout=r,e.buttonAction=t.onClick,e.addEventListener("click",function(){var t=Ut(Rt().mark((function t(e){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,st.Hl)(v.player,st.Ay.BUTTON_PRESS,{plugin:r.plugin,layoutStructure:r}),t.next=3,e.target.buttonAction.apply(e.target.layout);case 3:e.stopPropagation();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),v._layoutButtons.push(e)})),t.abrupt("return",!0);case 39:case"end":return t.stop()}}),t,this,[[19,28,31,34]])}))),Wt.apply(this,arguments)}function Zt(){return qt.apply(this,arguments)}function qt(){return(qt=Ut(Rt().mark((function t(){var e,n,r,o,i,a,s,c,u,l,f,h,p,d,y,v,g,m,b,w,A,x,E,C,k,L,_,S,O,T,R,I,j,B,D,N,M,F,U,G=this;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,rt.su)(this.player,this.streamProvider.streamData,this._layoutId,this._mainLayoutContent),t.next=3,Ht.apply(this,[r]);case 3:if(Yt.apply(this),o="grid"===r.alignType,this.baseVideoRect.style.width="",this.baseVideoRect.style.height="",this.baseVideoRect.style.display="flex",this.baseVideoRect.classList.add("dynamic"),this.baseVideoRect.innerHTML="",i=this.element.clientWidth,a=this.element.clientHeight,s=i>a,this.baseVideoRect.classList.remove("align-center"),this.baseVideoRect.classList.remove("align-top"),this.baseVideoRect.classList.remove("align-bottom"),this.baseVideoRect.classList.remove("align-left"),this.baseVideoRect.classList.remove("align-right"),s?(u=(null===(c=this.player.config.videoContainer)||void 0===c||null===(c=c.dynamicLayout)||void 0===c?void 0:c.landscapeVerticalAlignment)||"align-center",this.baseVideoRect.classList.remove("portrait"),this.baseVideoRect.classList.add("landscape"),this.baseVideoRect.classList.add(u)):(f=(null===(l=this.player.config.videoContainer)||void 0===l||null===(l=l.dynamicLayout)||void 0===l?void 0:l.portraitHorizontalAlignment)||"align-center",this.baseVideoRect.classList.add("portrait"),this.baseVideoRect.classList.remove("landscape"),this.baseVideoRect.classList.add(f)),h=this.baseVideoRect.clientWidth,p=this.element.clientHeight,1!==(null==r||null===(e=r.videos)||void 0===e?void 0:e.length)){t.next=45;break}return d=[],y=[],v=r.videos[0],(g=this.streamProvider.streams[v.content]).player,(m=g.canvas).buttonsArea.innerHTML="",t.t0=y,t.next=31,(0,at.xl)(this.player,r,m,v,v.content);case 31:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),m.element.style={},m.element.style.display="block",m.element.style.width="100%",m.element.style.height="100%",m.element.style.overflow="hidden",m.element.style.position="relative",d.push(m.element),m.element.sortIndex=0,d.forEach((function(t){return G.baseVideoRect.appendChild(t)})),setTimeout((function(){(0,at.Mo)(G.player,r,y.flat())}),100),t.next=93;break;case 45:if(null==r||null===(n=r.videos)||void 0===n||!n.length){t.next=93;break}b=0,w=[],A=[],x=Tt(r.videos),t.prev=50,x.s();case 52:if((E=x.n()).done){t.next=83;break}return C=E.value,k=this.streamProvider.streams[C.content],L=k.player,_=k.canvas,t.next=58,L.getDimensions();case 58:return S=t.sent,O=S.w/S.h,T=h,R=p,I=(s?T:R)*C.size/100,j=Math.round(s?I:I*O),B=Math.round(s?I/O:I),j>T&&(j=T,B=Math.round(j/O)),B>R&&(B=R,j=Math.round(B*O)),_.buttonsArea.innerHTML="",t.t2=A,t.next=71,(0,at.xl)(this.player,r,_,C,C.content);case 71:t.t3=t.sent,t.t2.push.call(t.t2,t.t3),_.element.style={},_.element.style.display="block",_.element.style.width="".concat(j,"px"),_.element.style.height="".concat(B,"px"),_.element.style.overflow="hidden",_.element.style.position="relative",_.element.sortIndex=b++,w.push(_.element);case 81:t.next=52;break;case 83:t.next=88;break;case 85:t.prev=85,t.t4=t.catch(50),x.e(t.t4);case 88:return t.prev=88,x.f(),t.finish(88);case 91:s?(D=(0,P.h6)('<div class="landscape-container"></div>',this.baseVideoRect),w.forEach((function(t){return D.appendChild(t)})),o&&(M=(null==r||null===(N=r.videos)||void 0===N?void 0:N.length)/2,D.style.display="grid",D.style.gridTemplateColumns="repeat(".concat(M,", 1fr)"))):(o&&(U=(null==r||null===(F=r.videos)||void 0===F?void 0:F.length)/3,this.baseVideoRect.style.display="grid",this.baseVideoRect.style.gridTemplateColumns="repeat(".concat(U,", 1fr)")),w.forEach((function(t){return G.baseVideoRect.appendChild(t)}))),setTimeout((function(){(0,at.Mo)(G.player,r,A.flat())}),100);case 93:return t.abrupt("return",!0);case 94:case"end":return t.stop()}}),t,this,[[50,85,88,91]])})))).apply(this,arguments)}var Xt=function(t){function e(t,n){var r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i="base-video-rect",a={class:"video-container"};null!==(r=t.config.videoContainer)&&void 0!==r&&r.overPlaybackBar&&(a.class+=" over-playback-bar");var s='\n            <div class="'.concat(i,'"></div>\n            <div class="hidden-videos-container" style="display: none"></div>\n        ');return(o=Bt(this,e,[t,{attributes:a,children:s,parent:n}]))._hiddenVideos=o.element.getElementsByClassName("hidden-videos-container")[0],o._baseVideoRect=o.element.getElementsByClassName(i)[0],o.element.addEventListener("click",Ut(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.paused();case 2:if(!t.sent){t.next=7;break}return t.next=5,o.play();case 5:t.next=9;break;case 7:return t.next=9,o.pause();case 9:case"end":return t.stop()}}),t)})))),o._ready=!1,o._players=[],o._streamProvider=new wt(o.player,o.baseVideoRect),o}var n,r,o,i,a,s,c,u,l,f,h,p,d,y,v,g,m,b;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mt(t,e)}(e,t),n=e,r=[{key:"layoutId",get:function(){return this._layoutId}},{key:"mainLayoutContent",get:function(){return this._mainLayoutContent}},{key:"setLayout",value:(b=Ut(Rt().mark((function t(e){var n,r,o,i,a=arguments;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:null,-1!==this.validContentIds.indexOf(e)){t.next=5;break}return t.abrupt("return",!1);case 5:return o=null===(r=this.player.config.videoContainer)||void 0===r||null===(r=r.restoreVideoLayout)||void 0===r?void 0:r.global,t.next=8,this.player.preferences.set("videoLayout",e,{global:o});case 8:return t.next=10,this.player.preferences.set("videoLayoutMainContent",n,{global:o});case 10:return i=this._layoutId,this._layoutId=e,this._mainLayoutContent=n,t.next=15,this.updateLayout();case 15:i!==e&&(0,st.Hl)(this.player,st.Ay.LAYOUT_CHANGED,{prevLayout:i,layoutId:e});case 16:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"validContentIds",get:function(){return this._validContentIds}},{key:"validContentSettings",get:function(){return this._validContentSettings}},{key:"validLayouts",get:function(){return(0,rt._H)(this.player,this.streamData)}},{key:"streamData",get:function(){return this._streamData}},{key:"baseVideoRect",get:function(){return this._baseVideoRect}},{key:"streamProvider",get:function(){return this._streamProvider}},{key:"create",value:(m=Ut(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._baseVideoRect.style.display="none",t.next=3,(0,nt._x)(this.player,"layout");case 3:return t.next=5,(0,it.oV)(this.player);case 5:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"load",value:function(){var t=Ut(Rt().mark((function t(e){var n,r,o,i,a,s,c,u,l,f,h,p,d,y,v,g,m=this;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._streamData=e,null===(n=this.player.config.videoContainer)||void 0===n||null===(n=n.restoreVideoLayout)||void 0===n||!n.enabled){t.next=17;break}return s=null===(a=this.player.config.videoContainer)||void 0===a||null===(a=a.restoreVideoLayout)||void 0===a?void 0:a.global,t.next=5,this.player.preferences.get("videoLayout",{global:s});case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0=this.player.config.defaultLayout;case 8:return this._layoutId=t.t0,t.next=11,this.player.preferences.get("videoLayoutMainContent",{global:s});case 11:if(t.t1=t.sent,t.t1){t.next=14;break}t.t1=null;case 14:this._mainLayoutContent=t.t1,t.next=19;break;case 17:this._layoutId=this.player.config.defaultLayout,this._mainLayoutContent=null;case 19:return t.next=21,this.streamProvider.load(e);case 21:return this._validContentIds=(0,rt.Wx)(this.player,e),this._validContentSettings=(0,rt.FY)(this.player,e),t.next=25,this.updateLayout(null,!0);case 25:return c=(0,P.h6)('<div class="button-plugins left-side"></div>',this.element),u=(0,P.h6)('<div class="button-plugins right-side"></div>',this.element),this._buttonPlugins=[c,u],this.player.log.debug("Loading videoContainer button plugins"),t.next=31,(0,nt._x)(this.player,"button",function(){var t=Ut(Rt().mark((function t(e){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.player.log.debug(" Button plugin: ".concat(e.name)),"left"!==e.side){t.next=6;break}return t.next=4,(0,At.FV)(e,c);case 4:t.next=9;break;case 6:if("right"!==e.side){t.next=9;break}return t.next=9,(0,At.FV)(e,u);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Ut(Rt().mark((function t(e){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("videoContainer"!==e.parentContainer){t.next=6;break}return t.next=3,e.isEnabled();case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 31:return this._baseVideoRect.style.display="",t.next=34,this.player.preferences.get("volume",{global:!0});case 34:return l=t.sent,t.next=37,this.player.preferences.get("playbackRate",{global:!0});case 37:return f=t.sent,t.next=40,this.player.preferences.get("lastKnownTime",{global:!1});case 40:return h=t.sent,t.next=43,this.streamProvider.setVolume(0);case 43:if(!this.player.videoManifest.trimming){t.next=46;break}return t.next=46,this.player.videoContainer.setTrimming(this.player.videoManifest.trimming);case 46:if(null===(r=this.player.config.videoContainer)||void 0===r||!r.restoreVolume||null==l){t.next=51;break}return t.next=49,this.streamProvider.setVolume(l);case 49:t.next=53;break;case 51:return t.next=53,this.streamProvider.setVolume(1);case 53:if(null===(o=this.player.config.videoContainer)||void 0===o||!o.restorePlaybackRate||null==f){t.next=56;break}return t.next=56,this.streamProvider.setPlaybackRate(f);case 56:if(null===(i=this.player.config.videoContainer)||void 0===i||null===(i=i.restoreLastTime)||void 0===i||!i.enabled||this.streamProvider.isLiveStream){t.next=70;break}if(p=function(){var t=Ut(Rt().mark((function t(){var e;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.paused();case 2:if(t.sent){t.next=9;break}return t.next=6,m.currentTime();case 6:return e=t.sent,t.next=9,m.player.preferences.set("lastKnownTime",e,{global:!1});case 9:setTimeout(p,1e3);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),!h){t.next=69;break}return t.next=61,this.player.preferences.get("lastKnownTime",{global:!1});case 61:return y=t.sent,t.next=64,this.duration();case 64:if(v=t.sent,g=null===(d=this.player.config.videoContainer)||void 0===d||null===(d=d.restoreLastTime)||void 0===d?void 0:d.remainingSeconds,!(v-y>g)){t.next=69;break}return t.next=69,this.setCurrentTime(y);case 69:p();case 70:this._messageContainer=new _t.A(this.player,this.element),this._ready=!0;case 72:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"unload",value:(g=Ut(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.removeFromParent(),t.next=3,(0,nt.r8)(this.player,"layout");case 3:return t.next=5,(0,it.LO)(this.player);case 5:return t.next=7,this.streamProvider.unload();case 7:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"updateLayout",value:(v=Ut(Rt().mark((function t(){var e,n,r,o,i=arguments;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i[1],(e=i.length>0&&void 0!==i[0]?i[0]:null)&&(this._mainLayoutContent=e),n||this.player.state===St.A.LOADED){t.next=5;break}return t.abrupt("return");case 5:if(!this._updateInProgress){t.next=8;break}return this.player.log.warn("Recursive update layout detected"),t.abrupt("return",!1);case 8:return this._updateInProgress=!0,r=!0,this._layoutButtons=[],this._layoutId&&-1!==this._validContentIds.indexOf(this._layoutId)||(this._layoutId=this.player.config.defaultLayout,this._mainLayoutContent=null,-1===this._validContentIds.indexOf(this._layoutId)&&(this._layoutId=this._validContentIds[0]),r=!1),"static"===(o=(0,rt.Pu)(this.player,this.streamProvider.streamData,this._layoutId)).layoutType?r=zt.apply(this):"dynamic"===o.layoutType&&(r=Zt.apply(this)),this._updateInProgress=!1,t.abrupt("return",r);case 16:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"hideUserInterface",value:function(){if(this._layoutButtons&&this._buttonPlugins){this.player.log.debug("Hide video container user interface");var t=function(t){t._prevDisplay=t.style.display,t.style.display="none"};for(var e in this._layoutButtons.forEach(t),this._buttonPlugins.forEach(t),this.streamProvider.streams)this.streamProvider.streams[e].canvas.hideButtons()}}},{key:"showUserInterface",value:function(){if(this._layoutButtons&&this._buttonPlugins){var t=function(t){return t.style.display=t._prevDisplay||"block"};for(var e in this._layoutButtons.forEach(t),this._buttonPlugins.forEach(t),this.streamProvider.streams)this.streamProvider.streams[e].canvas.showButtons()}}},{key:"message",get:function(){return this._messageContainer}},{key:"elementSize",get:function(){return{w:this.element.offsetWidth,h:this.element.offsetHeight}}},{key:"ready",get:function(){return this._ready}},{key:"isLiveStream",get:function(){return this.streamProvider.isLiveStream}},{key:"play",value:(y=Ut(Rt().mark((function t(){var e;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.play();case 2:return e=t.sent,(0,st.Hl)(this.player,st.Ay.PLAY),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"pause",value:(d=Ut(Rt().mark((function t(){var e;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.pause();case 2:return e=t.sent,(0,st.Hl)(this.player,st.Ay.PAUSE),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"stop",value:(p=Ut(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.streamProvider.stop(),(0,st.Hl)(this.player,st.Ay.STOP);case 2:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"paused",value:(h=Ut(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.streamProvider.paused());case 1:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"setCurrentTime",value:(f=Ut(Rt().mark((function t(e){var n;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.setCurrentTime(e);case 2:return n=t.sent,(0,st.Hl)(this.player,st.Ay.SEEK,{prevTime:n.prevTime,newTime:n.newTime}),t.abrupt("return",n.result);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"currentTime",value:(l=Ut(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.streamProvider.currentTime());case 1:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"volume",value:(u=Ut(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.streamProvider.volume());case 1:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setVolume",value:(c=Ut(Rt().mark((function t(e){var n;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.setVolume(e);case 2:return n=t.sent,(0,st.Hl)(this.player,st.Ay.VOLUME_CHANGED,{volume:e}),t.next=6,this.player.preferences.set("volume",e,{global:!0});case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"duration",value:(s=Ut(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.duration();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"playbackRate",value:(a=Ut(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.playbackRate();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"setPlaybackRate",value:(i=Ut(Rt().mark((function t(e){var n;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.streamProvider.setPlaybackRate(e);case 2:return n=t.sent,(0,st.Hl)(this.player,st.Ay.PLAYBACK_RATE_CHANGED,{newPlaybackRate:e}),t.next=6,this.player.preferences.set("playbackRate",e,{global:!0});case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"isTrimEnabled",get:function(){return this.streamProvider.isTrimEnabled}},{key:"trimStart",get:function(){return this.streamProvider.trimStart}},{key:"trimEnd",get:function(){return this.streamProvider.trimEnd}},{key:"setTrimming",value:(o=Ut(Rt().mark((function t(e){var n,r,o,i;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.enabled,r=e.start,o=e.end,t.next=3,this.streamProvider.setTrimming({enabled:n,start:r,end:o});case 3:return i=t.sent,(0,st.Hl)(this.player,st.Ay.TRIMMING_CHANGED,{enabled:n,start:r,end:o}),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"getVideoRect",value:function(){var t,e,n,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=this.baseVideoRect;return"string"==typeof i&&(a=null===(o=this.streamProvider.streams[i])||void 0===o?void 0:o.canvas.element),{x:null===(t=a)||void 0===t?void 0:t.offsetLeft,y:null===(e=a)||void 0===e?void 0:e.offsetTop,width:null===(n=a)||void 0===n?void 0:n.offsetWidth,height:null===(r=a)||void 0===r?void 0:r.offsetHeight,element:a}}},{key:"appendChild",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){var r=this.getVideoRect(),o=r.width,i=r.height;e.x=100*e.x/o,e.width=100*e.width/o,e.y=100*e.y/i,e.height=100*e.height/i,t.style.position="absolute",t.style.left="".concat(e.x,"%"),t.style.top="".concat(e.y,"%"),t.style.width="".concat(e.width,"%"),t.style.height="".concat(e.height,"%"),null!==n&&(t.style.zIndex=n)}return this.baseVideoRect.appendChild(t),t}},{key:"removeChild",value:function(t){this.baseVideoRect.removeChild(t)}}],r&&It(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(P.hW),Qt=n(3274),Jt={};Jt.styleTagTransform=p(),Jt.setAttributes=u(),Jt.insert=s().bind(null,"head"),Jt.domAPI=i(),Jt.insertStyleElement=f(),e()(Qt.A,Jt),Qt.A&&Qt.A.locals&&Qt.A.locals;var te=n(4943),ee=n.n(te);function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oe(r.key),r)}}function oe(t){var e=function(t,e){if("object"!=ne(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ne(e)?e:String(e)}function ie(t,e,n){return e=se(e),function(t,e){if(e&&("object"===ne(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ae()?Reflect.construct(e,n||[],se(t).constructor):e.apply(t,n))}function ae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ae=function(){return!!t})()}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},se(t)}function ce(t,e){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ce(t,e)}var ue="\n    width: 100%;\n",le=function(t){function e(t,n,r,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=(i=ie(this,e,[t,{attributes:{class:"preview-container",role:"button","aria-label":"Play video"},parent:n}])).player.getCustomPluginIcon("previewContainer","play")||ee();i._img=(0,P.h6)('\n        <div style="'.concat(ue,'">\n            ').concat(r?'<img style="'.concat(ue,'" src="').concat(r,'" class="preview-image-landscape" alt=""/>'):"","\n            ").concat(o?'<img style="'.concat(ue,'" src="').concat(o,'" class="preview-image-portrait" alt=""/>'):"",'\n            <div style="').concat("\n    position: absolute; \n    top: 0px; \n    left: 0px; \n    right: 0px; \n    bottom: 0px; \n    display: flex;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n",'">\n                <button style="').concat("\n    display: block;\n    width: 20%;\n    background: none;\n    border: none;\n    cursor: pointer;\n",'" role="button" aria-label="Play video">\n                    <i class="preview-play-icon" style="').concat("\n    pointer-events: none;\n    width: 20%;\n    max-width: 400px;\n    min-width: 100px;\n    opacity: 0.6;\n",'">').concat(a,"</i>\n                </button>\n            </div>\n        </div>\n        "),i.element),i.element.setAttribute("id","playerContainerClickArea"),i.element.addEventListener("click",(function(e){t.play()}));var s=r&&o,c=function(){if(s){var t=i.element.clientWidth/i.element.clientHeight,e=Array.from(i.element.getElementsByClassName("preview-image-landscape")),n=Array.from(i.element.getElementsByClassName("preview-image-portrait"));t>=1?(e.forEach((function(t){return t.style.display=""})),n.forEach((function(t){return t.style.display="none"}))):(e.forEach((function(t){return t.style.display="none"})),n.forEach((function(t){return t.style.display=""})))}};return window.addEventListener("resize",(function(){c()})),c(),i}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ce(t,e)}(e,t),n=e,(r=[{key:"loadBackgroundImage",value:function(t){this._img.setAttribute("src",t)}}])&&re(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(P.hW);function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function he(){he=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==fe(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function _(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(fe(e)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function pe(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function de(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){pe(i,r,o,a,s,"next",t)}function s(t){pe(i,r,o,a,s,"throw",t)}a(void 0)}))}}function ye(t,e,n){return e=ge(e),function(t,e){if(e&&("object"===fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ve()?Reflect.construct(e,n||[],ge(t).constructor):e.apply(t,n))}function ve(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ve=function(){return!!t})()}function ge(t){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ge(t)}function me(t,e){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},me(t,e)}var be=function(t){function e(t,n){var r,o,i,a,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s=ye(this,e,[t,{attributes:{class:"progress-indicator-timer"},parent:n}]);var c=null===(r=t.config.progressIndicator)||void 0===r?void 0:r.showTotal;s.element.innerHTML="00:00",!1===(null===(o=t.config.progressIndicator)||void 0===o?void 0:o.visible)&&s.hide();var u=function(){var e=de(he().mark((function e(n){var r,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,v.secondsToTime)(n),!1!==c){e.next=5;break}s.element.innerHTML=r,e.next=11;break;case 5:return e.t0=v.secondsToTime,e.next=8,t.videoContainer.duration();case 8:e.t1=e.sent,o=(0,e.t0)(e.t1),s.element.innerHTML="".concat(r," / ").concat(o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.bindEvent(st.Ay.TIMEUPDATE,function(){var t=de(he().mark((function t(e){var n;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.currentTime,t.next=3,u(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.bindEvent(st.Ay.SEEK,function(){var t=de(he().mark((function t(e){var n;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.newTime,t.next=3,u(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.bindEvent(st.Ay.STOP,de(he().mark((function t(){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));var l=null===(i=t.config.progressIndicator)||void 0===i?void 0:i.parentContainer,f=(null===(a=t.config.progressIndicator)||void 0===a?void 0:a.side)||"left";return"progressIndicator"===l&&s.element.classList.add("".concat(f,"-side")),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(P.hW);function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function Ae(){Ae=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==we(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function _(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(we(e)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function xe(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Ee(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){xe(i,r,o,a,s,"next",t)}function s(t){xe(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ke(r.key),r)}}function ke(t){var e=function(t,e){if("object"!=we(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==we(e)?e:String(e)}function Le(t,e,n){return e=Se(e),function(t,e){if(e&&("object"===we(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Oe(t)}(t,_e()?Reflect.construct(e,n||[],Se(t).constructor):e.apply(t,n))}function _e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_e=function(){return!!t})()}function Se(t){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Se(t)}function Oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Te(t,e){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Te(t,e)}function Pe(t,e){var n=function(t,e){if(!t||0===t.length)return null;var n=t[0],r=n.time;return t.forEach((function(t){t.time>r&&t.time<Math.floor(e)&&(r=(n=t).time)})),n}(this.frameList,e);if(n){this._frameThumbnail.style.display="block";var r=this._frameThumbnail.getBoundingClientRect().width,o=this.playbackBar.getBoundingClientRect(),i=(o.top,o.left,o.bottom,o.width),a=o.height,s=i/2;this.frameThumbnail.style.bottom="".concat(a,"px"),this.frameThumbnail.style.left="".concat(s>t?t:t-r,"px");var c=(0,v.resolveResourcePath)(this.player,n.url),u=this.frameThumbnail.getElementsByClassName("thumbnail-image")[0],l=this.frameThumbnail.getElementsByClassName("thumbnail-time")[0];c!==this._prevFrameImage&&(u.src=c,u.alt=n.id,this._prevFrameImage=c),l.innerHTML=(0,v.secondsToTime)(e)}}function Re(){var t=this;if(Array.isArray(this._canvasPlugins)){var e=this._canvasContext[0],n=this._canvasContext[1],r=this._canvas[0].clientWidth,o=this._canvas[0].clientHeight;this._canvasPlugins.forEach((function(i){i.drawForeground(n,r,o,t._isHover),i.drawBackground(e,r,o,t._isHover)})),this._updateCanvas=!1}}function Ie(){var t=this,e={w:this.element.offsetWidth,h:this.element.offsetHeight};this._canvas.forEach((function(t){t.width=e.w,t.height=e.h}));var n=this._isHover?this._minHeightHover:this._minHeight;this.element.style.minHeight="".concat(n,"px"),this._canvas.forEach((function(e){return e.height=t.element.clientHeight})),Re.apply(this)}function je(t,e){var n,r,o=(null===(n=t.progressIndicator)||void 0===n?void 0:n.parentContainer)||"progressIndicator",i=(null===(r=t.progressIndicator)||void 0===r?void 0:r.side)||"left";if("progressIndicator"===o)return this.element;if("buttonArea"===o){var a=e.timerContainer;return a.classList.add("".concat(i,"-side")),a}throw new Error("Error in player configuration: invalid progress indicator parent container: ".concat(o,". Valid values are 'progressIndicator' or 'buttonArea'"))}var Be=function(t){function e(t,n){var r,o,i,a,s,c,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=n.element,f=null!==(r=null===(o=t.config.progressIndicator)||void 0===o?void 0:o.inlineMode)&&void 0!==r&&r,h={class:"progress-indicator".concat(f?" inline-mode":" top-mode")},p=null!==(i=t.config.progressIndicator)&&void 0!==i&&i.showHandler?'<i class="progress-indicator-handler" style="pointer-events: none"></i>':"",d='\n\t\t<canvas class="progress-canvas canvas-layer-0"></canvas>\n\t\t<div class="progress-indicator-container">\n\t\t\t<div style="width: 0px;" class="progress-indicator-content"></div>\n\t\t\t'.concat(p,'\n\t\t\t<div class="progress-indicator-remaining"></div>\n\t\t</div>\n\t\t<canvas class="progress-canvas canvas-layer-1"></canvas>\n\t\t');u=Le(this,e,[t,{attributes:h,children:d,parent:l}]);var y=je.apply(Oe(u),[t.config,n]);u._progressIndicatorTimer=new be(t,y),u._frameThumbnail=(0,P.h6)('\n\t\t\t<div class="frame-thumbnail">\n\t\t\t\t<img src="" alt="" class="thumbnail-image" />\n\t\t\t\t<p class="thumbnail-time">00:00</p>\n\t\t\t</div>',t.containerElement),u._frameThumbnail.style.display="none",u._frameThumbnail.style.position="absolute",u._isHover=!1,u._canvas=[0,1].map((function(t){return u.element.getElementsByClassName("progress-canvas")[t]})),u._canvasContext=u._canvas.map((function(t){return t.getContext("2d")})),u._progressContainer=u.element.getElementsByClassName("progress-indicator-container")[0],u._progressIndicator=u.element.getElementsByClassName("progress-indicator-content")[0],u._handler=u.element.getElementsByClassName("progress-indicator-handler")[0],u._remainingContainer=u.element.getElementsByClassName("progress-indicator-remaining")[0],u.handler&&null!==(a=t.config.progressIndicator)&&void 0!==a&&a.hideHandlerOnMouseOut&&(u.handler.style.display="none"),null!==(s=t.config.progressIndicator)&&void 0!==s&&s.showRemainingProgress||(u._remainingContainer.style.display="none"),u._frameList=t.frameList.frames,null===(c=u._frameList)||void 0===c||c.sort((function(t,e){return t.time-e.time})),u.onResize();var v=!1,g=function(){var e=Ee(Ae().mark((function e(n){var r,o,i,a,s,c;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.progressContainer.clientWidth,i=(null===(r=u.handler)||void 0===r?void 0:r.clientWidth)||0,e.next=4,t.videoContainer.duration();case 4:a=e.sent,s=100*n/a,u.progressIndicator.style.width="".concat(s,"%"),u.handler&&(c=s/100*o,u.handler.style.left="".concat(c-i/2,"px"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Ee(Ae().mark((function e(n){var r,o;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.element.offsetWidth,e.next=3,t.videoContainer.duration();case 3:return o=e.sent,e.abrupt("return",n*o/r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,st.e3)(u.player,st.Ay.TIMEUPDATE,function(){var t=Ee(Ae().mark((function t(e){var n;return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.currentTime,v){t.next=4;break}return t.next=4,g(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,st.e3)(u.player,st.Ay.SEEK,function(){var t=Ee(Ae().mark((function t(e){var n;return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.prevTime,n=e.newTime,v){t.next=4;break}return t.next=4,g(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,st.e3)(u.player,st.Ay.STOP,Ee(Ae().mark((function t(){return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(0);case 2:case"end":return t.stop()}}),t)})))),u.progressContainer.addEventListener("mousedown",function(){var t=Ee(Ae().mark((function t(e){var n;return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v=!0,t.next=3,m(e.offsetX);case 3:return n=t.sent,t.next=6,g(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),u.progressContainer.addEventListener("mouseover",(function(e){var n;u._isHover=!0,Ie.apply(Oe(u)),u.handler&&null!==(n=t.config.progressIndicator)&&void 0!==n&&n.hideHandlerOnMouseOut&&(u.handler.style.display="")})),u.progressContainer._progressIndicator=Oe(u),u.progressContainer.addEventListener("mousemove",function(){var t=Ee(Ae().mark((function t(e){var n,r,o,i,a;return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.player.videoContainer,r=n.isTrimEnabled,o=n.trimStart,i=r?o:0,t.next=4,m(e.offsetX);case 4:if(a=t.sent,!v){t.next=8;break}return t.next=8,g(a);case 8:Pe.apply(Oe(u),[e.offsetX,a+i]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),u.progressContainer.addEventListener("mouseup",function(){var e=Ee(Ae().mark((function e(n){var r;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n.offsetX);case 2:return r=e.sent,e.next=5,g(r);case 5:return e.next=7,t.videoContainer.setCurrentTime(r);case 7:v=!1;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u.progressContainer.addEventListener("mouseleave",function(){var e=Ee(Ae().mark((function e(n){var r,o;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=7;break}return e.next=3,m(n.offsetX);case 3:return o=e.sent,e.next=6,t.videoContainer.setCurrentTime(o);case 6:v=!1;case 7:u.frameThumbnail.style.display="none",u._isHover=!1,Ie.apply(Oe(u)),u.handler&&null!==(r=t.config.progressIndicator)&&void 0!==r&&r.hideHandlerOnMouseOut&&(u.handler.style.display="none");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u._updateCanvas=!0,function t(){u._updateCanvasTimer=setTimeout((function(){u._updateCanvas&&Ie.apply(Oe(u)),t()}),250)}(),u}var n,r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Te(t,e)}(e,t),n=e,r=[{key:"requestUpdateCanvas",value:function(){this._updateCanvas=!0}},{key:"loadPlugins",value:(i=Ee(Ae().mark((function t(){var e,n,r=this;return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,n=0,this._canvasPlugins=[],t.next=5,(0,nt._x)(this.player,"progressIndicator",function(){var t=Ee(Ae().mark((function t(o){return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.player.log.debug(" Progress indicator plugin: ".concat(o.name)),e=e<o.minHeight?o.minHeight:e,n=n<o.minHeightHover?o.minHeightHover:n,r._canvasPlugins.push(o);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=Ee(Ae().mark((function t(e){return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.isEnabled();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:this._minHeight=e,this._minHeightHover=n,Ie.apply(this);case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"unloadPlugins",value:(o=Ee(Ae().mark((function t(){return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._canvasPlugins=[],t.next=3,(0,nt.r8)(this.player,"progressIndicator");case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"hideTimeLine",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.hideProgressTimer(),this.hideProgressContainer()}},{key:"hideProgressContainer",value:function(){this.progressContainer.style.display="none"}},{key:"hideProgressTimer",value:function(){this.progressTimer.style.display="none"}},{key:"showTimeLine",value:function(){this.showProgressContainer(),this.showProgressTimer()}},{key:"showProgressContainer",value:function(){this.progressContainer.style.display=""}},{key:"showProgressTimer",value:function(){this.progressTimer.style.display=""}},{key:"playbackBar",get:function(){return this.element.parentElement}},{key:"canvasLayer0",get:function(){return this._canvas[0]}},{key:"canvasLayer1",get:function(){return this._canvas[1]}},{key:"progressIndicator",get:function(){return this._progressIndicator}},{key:"handler",get:function(){return this._handler}},{key:"progressTimer",get:function(){return this._progressIndicatorTimer.element}},{key:"progressContainer",get:function(){return this._progressContainer}},{key:"frameThumbnail",get:function(){return this._frameThumbnail}},{key:"frameList",get:function(){return this._frameList}},{key:"onResize",value:function(){this.requestUpdateCanvas()}}],r&&Ce(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(P.hW),De=n(2753),Ne={};Ne.styleTagTransform=p(),Ne.setAttributes=u(),Ne.insert=s().bind(null,"head"),Ne.domAPI=i(),Ne.insertStyleElement=f(),e()(De.A,Ne),De.A&&De.A.locals&&De.A.locals;var Me=n(3118);function Fe(t){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(t)}function Ue(){Ue=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Fe(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function _(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Fe(e)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Ge(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function $e(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ge(i,r,o,a,s,"next",t)}function s(t){Ge(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,He(r.key),r)}}function He(t){var e=function(t,e){if("object"!=Fe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Fe(e)?e:String(e)}function Ke(t,e,n){return e=ze(e),function(t,e){if(e&&("object"===Fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return We(t)}(t,Ye()?Reflect.construct(e,n||[],ze(t).constructor):e.apply(t,n))}function Ye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ye=function(){return!!t})()}function ze(t){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ze(t)}function We(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(t,e){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ze(t,e)}var qe=function(t){function e(t,n){var r,o,i,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=null!==(r=null===(o=t.config.progressIndicator)||void 0===o?void 0:o.inlineMode)&&void 0!==r&&r;(a=Ke(this,e,[t,{attributes:{class:s?"playback-bar inline-mode":"playback-bar top-mode"},parent:n}])).element.addEventListener("mouseenter",(function(){return(0,v.pauseAutoHideUiTimer)(t)})),a.element.addEventListener("mouseleave",(function(){return(0,v.resumeAutoHideUiTimer)(t)})),a._buttonPluginsLeft=(0,P.h6)('<div class="button-plugins left-side"></div>'),a._timerContainer=(0,P.h6)('<div class="timer-container"></div>'),a._buttonPluginsRight=(0,P.h6)('<div class="button-plugins right-side"></div>');var c=(null===(i=t.config.progressIndicator)||void 0===i?void 0:i.side)||"left";return s?(a.element.appendChild(a._buttonPluginsLeft),"left"===c?(a.element.appendChild(a._timerContainer),a._progressIndicator=new Be(t,We(a)),a.element.appendChild(a._buttonPluginsRight)):(a._progressIndicator=new Be(t,We(a)),a.element.appendChild(a._timerContainer),a.element.appendChild(a._buttonPluginsRight))):(a._progressIndicator=new Be(t,We(a)),a.element.appendChild(a._buttonPluginsLeft),"left"===c?(a.element.appendChild(a._timerContainer),a.element.appendChild(a._buttonPluginsRight)):(a.element.appendChild(a._buttonPluginsRight),a.element.appendChild(a._timerContainer))),a.element.addEventListener("click",(function(){Me.A.HideAllPopUps(!1)})),a._enabled=!0,a}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ze(t,e)}(e,t),n=e,r=[{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._enabled?this.showUserInterface():this.hide()}},{key:"load",value:function(){var t=$e(Ue().mark((function t(){var e=this;return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._enabledPlugins=[],this.player.log.debug("Loading button plugins"),t.next=4,(0,nt._x)(this.player,"button",function(){var t=$e(Ue().mark((function t(n){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.player.log.debug(" Button plugin: ".concat(n.name)),e._enabledPlugins.push(n),"left"!==n.side){t.next=7;break}return t.next=5,(0,At.FV)(n,e.buttonPluginsLeft);case 5:t.next=10;break;case 7:if("right"!==n.side){t.next=10;break}return t.next=10,(0,At.FV)(n,e.buttonPluginsRight);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),function(){var t=$e(Ue().mark((function t(e){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("playbackBar"!==e.parentContainer){t.next=6;break}return t.next=3,e.isEnabled();case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:return t.next=6,this._progressIndicator.loadPlugins();case 6:this.onResize();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"unload",value:(o=$e(Ue().mark((function t(){return Ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.removeFromParent(),t.next=3,(0,nt.r8)(this.player,"button");case 3:return this._buttonPluginsLeft.innerHTML="",this._buttonPluginsRight.innerHTML="",t.next=7,this._progressIndicator.unloadPlugins();case 7:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"hideUserInterface",value:function(){this.player.log.debug("Hide playback bar user interface"),this.hide()}},{key:"showUserInterface",value:function(){if(this._enabled){var t,e,n=null!==(t=null===(e=this.player.config.progressIndicator)||void 0===e?void 0:e.inlineMode)&&void 0!==t&&t?"flex":"block";this.show(n),this.onResize()}}},{key:"buttonPluginsRight",get:function(){return this._buttonPluginsRight}},{key:"buttonPluginsLeft",get:function(){return this._buttonPluginsLeft}},{key:"timerContainer",get:function(){return this._timerContainer}},{key:"progressIndicator",get:function(){return this._progressIndicator}},{key:"containerSize",get:function(){return{width:this.element.clientWidth,height:this.element.clientHeight}}},{key:"onResize",value:function(){var t=this.containerSize;this._enabledPlugins.forEach((function(e){return e.onResize(t)})),this.progressIndicator.onResize()}}],r&&Ve(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(P.hW),Xe=n(7100),Qe=n(1224),Je=n(20),tn=n(4201),en={};function nn(t){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(t)}function rn(){rn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==nn(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function _(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(nn(e)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function on(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function an(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){on(i,r,o,a,s,"next",t)}function s(t){on(i,r,o,a,s,"throw",t)}a(void 0)}))}}function sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cn(r.key),r)}}function cn(t){var e=function(t,e){if("object"!=nn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==nn(e)?e:String(e)}function un(t,e,n){return e=fn(e),function(t,e){if(e&&("object"===nn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ln()?Reflect.construct(e,n||[],fn(t).constructor):e.apply(t,n))}function ln(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ln=function(){return!!t})()}function fn(t){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fn(t)}function hn(t,e){return hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hn(t,e)}en.styleTagTransform=p(),en.setAttributes=u(),en.insert=s().bind(null,"head"),en.domAPI=i(),en.insertStyleElement=f(),e()(tn.A,en),tn.A&&tn.A.locals&&tn.A.locals;var pn=[{maxWidth:400,className:"size-s"},{maxWidth:600,className:"size-m"},{maxWidth:900,className:"size-l"},{maxWidth:1100,className:"size-xl"},{className:"size-xxl"}],dn=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=un(this,e,[t,{tag:"div",attributes:{class:"captions-canvas visible-ui"},parent:n}]))._captionsContainer=(0,P.h6)('\n            <div class="text-container">\n            </div>\n        ',r.element),r._captions=[],r.hide(),r._currentCaptions=null;var o=function(){var e=an(rn().mark((function e(n){var o,i,a;return rn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.videoContainer.isTrimEnabled?t.videoContainer.trimStart:0,i=o+(n.currentTime||n.newTime||0),r._currentCaptions&&(a=r._currentCaptions.getCue(i),r._captionsContainer.innerHTML="",a&&a.captions.forEach((function(t){r._captionsContainer.innerHTML+=t,r._captionsContainer.innerHTML+="<br/>"})),r._captionsContainer.style.display=a?null:"none",r.resize());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,st.e3)(r.player,st.Ay.TIMEUPDATE,o),(0,st.e3)(r.player,st.Ay.SEEK,o),(0,st.e3)(r.player,st.Ay.RESIZE,(function(){return r.resize()})),(0,st.e3)(r.player,st.Ay.SHOW_UI,(function(){return r.element.classList.add("visible-ui")})),(0,st.e3)(r.player,st.Ay.HIDE_UI,(function(){return r.element.classList.remove("visible-ui")})),r}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hn(t,e)}(e,t),n=e,r=[{key:"load",value:function(){var t=an(rn().mark((function t(){return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Je.k)(this.player);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"unload",value:function(){}},{key:"resize",value:function(){var t,e=this,n=(t=this._captionsContainer.clientWidth,pn.find((function(e){return e.maxWidth&&e.maxWidth>=t||void 0===e.maxWidth})).className);pn.forEach((function(t){return e.element.classList.remove(t.className)})),this.element.classList.add(n)}},{key:"addCaptions",value:function(t){this._captions.push(t),(0,st.Hl)(this.player,st.Ay.CAPTIONS_CHANGED,{captions:this._captions})}},{key:"captions",get:function(){return this._captions}},{key:"currentCaptions",get:function(){return this._currentCaptions}},{key:"getCaptions",value:function(t){var e=t.label,n=t.index,r=t.lang;if(void 0===e&&void 0===n&&void 0===r)throw Error("Could not find captions: you must specify the label, the index or the language");return void 0!==n?this._captions[n]:this._captions.find((function(t){return void 0!==e?t.label===e:void 0!==r?t.language===r:void 0}))}},{key:"enableCaptions",value:function(t){var e=this.getCaptions(t);if(e!==this._currentCaptions&&(this._currentCaptions=e,this.currentCaptions)){var n=this.currentCaptions,r=n.language,o=n.label;(0,st.Hl)(this.player,st.Ay.CAPTIONS_ENABLED,{language:r,label:o})}this.show()}},{key:"disableCaptions",value:function(){this.currentCaptions&&(0,st.Hl)(this.player,st.Ay.CAPTIONS_DISABLED),this._currentCaptions=null,this.hide()}}],r&&sn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(P.hW),yn=n(7917),vn=n(6684);function gn(t){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bn(r.key),r)}}function bn(t){var e=function(t,e){if("object"!=gn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==gn(e)?e:String(e)}var wn=function(t){return!1},An=function(t){return t.description},xn=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=e,this._cookieConsentData=e.config.cookieConsent||[],this._getConsentCallback=n.getConsent||wn,this._getDescriptionCallback=n.getDescription||An,this._cookieConsentData.forEach((function(t){t.description=r._getDescriptionCallback(t)})),this.updateConsentData()}var e,n;return e=t,(n=[{key:"updateConsentData",value:function(){var t=this;this._cookieConsentData.forEach((function(e){e.value=t._getConsentCallback(e.type)||e.required})),(0,st.Hl)(this._player,st.Ay.COOKIE_CONSENT_CHANGED,{cookieConsent:this})}},{key:"getConsentForType",value:function(t){var e=this._cookieConsentData.find((function(e){return e.type===t}));return(null==e?void 0:e.value)||!1}}])&&mn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),En=n(7347),Cn={};Cn.styleTagTransform=p(),Cn.setAttributes=u(),Cn.insert=s().bind(null,"head"),Cn.domAPI=i(),Cn.insertStyleElement=f(),e()(En.A,Cn),En.A&&En.A.locals&&En.A.locals;var kn=n(7289),Ln={};function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function Sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,On(r.key),r)}}function On(t){var e=function(t,e){if("object"!=_n(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=_n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_n(e)?e:String(e)}Ln.styleTagTransform=p(),Ln.setAttributes=u(),Ln.insert=s().bind(null,"head"),Ln.domAPI=i(),Ln.insertStyleElement=f(),e()(kn.A,Ln),kn.A&&kn.A.locals&&kn.A.locals;var Tn=Object.freeze({DISABLED:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,VERBOSE:5}),Pn=Tn.INFO,Rn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="string"==typeof t?Tn[t.toUpperCase()]:t;if(n<Tn.DISABLED||n>Tn.VERBOSE)throw Error("setLogLevel: invalid log level ".concat(n));e?(e.__logSettings=e.__logSettings||{},e.__logSettings.logLevel=n):Pn=n},In=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?t.__logSettings.logLevel:Pn},jn=function(t){var e=t.msg,n=t.level,r=void 0===n?Tn.INFO:n,o=t.player,i=void 0===o?null:o,a=t.context,s=void 0===a?"paella-core":a;i&&!i.__logSettings&&Rn(i,Tn.INFO);var c=In(i);if(r<Tn.DISABLED)throw Error("printMessage: invalid log level ".concat(r));if(i&&(0,st.Hl)(i,st.Ay.LOG,{severity:r,context:s,message:e,currentLogLevel:c}),r<=c)switch(r){case Tn.ERROR:console.error("".concat(s," - Error: ").concat(e));break;case Tn.WARN:console.warn("".concat(s," - Warning: ").concat(e));break;case Tn.INFO:console.info("".concat(s," - Info: ").concat(e));break;case Tn.DEBUG:console.debug("".concat(s," - Debug: ").concat(e));break;case Tn.VERBOSE:console.log("".concat(s," - Verbose: ").concat(e))}},Bn={setLevel:function(t){Rn(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)},currentLevel:function(){return In(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)},error:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";jn({msg:t,level:Tn.ERROR,player:e,context:n})},warn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";jn({msg:t,level:Tn.WARN,player:e,context:n})},info:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";jn({msg:t,level:Tn.INFO,player:e,context:n})},debug:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";jn({msg:t,level:Tn.DEBUG,player:e,context:n})},verbose:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"paella-core";jn({msg:t,level:Tn.VERBOSE,player:e,context:n})}},Dn=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"paella-core";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=e,this._context=n}var e,n;return e=t,n=[{key:"context",get:function(){return this._context}},{key:"player",get:function(){return this._player}},{key:"setLevel",value:function(t){Bn.setLevel(t,this._player)}},{key:"currentLevel",value:function(){return Bn.currentLevel(this._player)}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Bn.error(t,this._player,e||this._context)}},{key:"warn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Bn.warn(t,this._player,e||this._context)}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Bn.info(t,this._player,e||this._context)}},{key:"debug",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Bn.debug(t,this._player,e||this._context)}},{key:"verbose",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Bn.verbose(t,this._player,e||this._context)}}],n&&Sn(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Nn={},Mn=n(4824);Mn.keys().forEach((function(t){var e=/([a-z-]+[A-Z_]+)\.json/.exec(t),n=e&&e[1];if(n){var r=Mn(t);Nn[n]=r;var o=n.substr(0,2);o in Nn||(Nn[o]=r)}}));const Fn=Nn;function Un(t){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(t)}function Gn(){Gn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Un(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function _(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Un(e)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function $n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vn(r.key),r)}}function Vn(t){var e=function(t,e){if("object"!=Un(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Un(e)?e:String(e)}function Hn(t,e,n){return e=Yn(e),function(t,e){if(e&&("object"===Un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Kn()?Reflect.construct(e,n||[],Yn(t).constructor):e.apply(t,n))}function Kn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Kn=function(){return!!t})()}function Yn(t){return Yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yn(t)}function zn(t,e){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zn(t,e)}function Wn(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Zn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Wn(i,r,o,a,s,"next",t)}function s(t){Wn(i,r,o,a,s,"throw",t)}a(void 0)}))}}var qn='{ "global": {}, "videos": {} }';function Xn(){return Qn.apply(this,arguments)}function Qn(){return(Qn=Zn(Gn().mark((function t(){var e;return Gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.source.name,t.next="cookie"===t.t0?3:"dataPlugin"===t.t0?10:20;break;case 3:return t.prev=3,t.abrupt("return",JSON.parse((0,v.getCookie)("preferences")));case 7:return t.prev=7,t.t1=t.catch(3),t.abrupt("return",JSON.parse(qn));case 10:return t.prev=10,t.next=13,this.player.data.read(this.source.context,{});case 13:return e=t.sent,t.abrupt("return",e||JSON.parse(qn));case 17:return t.prev=17,t.t2=t.catch(10),t.abrupt("return",JSON.parse(qn));case 20:case"end":return t.stop()}}),t,this,[[3,7],[10,17]])})))).apply(this,arguments)}function Jn(t){return tr.apply(this,arguments)}function tr(){return(tr=Zn(Gn().mark((function t(e){return Gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.source.name,t.next="cookie"===t.t0?3:"dataPlugin"===t.t0?5:8;break;case 3:return(0,v.setCookieIfAllowed)(this.player,this.source.consentType,"preferences",JSON.stringify(e)),t.abrupt("break",8);case 5:return t.next=7,this.player.data.write(this.source.context,{},e);case 7:return t.abrupt("break",8);case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var er=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Hn(this,e,[t]);var r=t.config.preferences||{currentSource:"cookie",sources:{cookie:{consentType:"necessary"}}},o=r.currentSource,i=r.sources;if(n.source=i[o],n.source.name=o,n._loaded=!1,!n.source)throw Error("Invalid configuration in preferences. Check the configuration file.");return n}var n,r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zn(t,e)}(e,t),n=e,r=[{key:"set",value:(i=Zn(Gn().mark((function t(e,n){var r,o,i,a=arguments;return Gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(a.length>2&&void 0!==a[2]?a[2]:{}).global,o=void 0!==r&&r,t.next=3,Xn.apply(this);case 3:return i=t.sent,o?i.global[e]=n:(i.videos[this.player.videoId]=i.videos[this.player.videoId]||{},i.videos[this.player.videoId][e]=n),t.next=7,Jn.apply(this,[i]);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"get",value:(o=Zn(Gn().mark((function t(e){var n,r,o,i=arguments;return Gn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(i.length>1&&void 0!==i[1]?i[1]:{}).global,r=void 0!==n&&n,t.next=3,Xn.apply(this);case 3:if(o=t.sent,!r){t.next=8;break}return t.abrupt("return",o.global[e]);case 8:return t.abrupt("return",o.videos[this.player.videoId]&&o.videos[this.player.videoId][e]||void 0);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})}],r&&$n(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(ot.A);function nr(){nr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==rr(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function _(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(rr(e)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function rr(t){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rr(t)}function or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ir(r.key),r)}}function ir(t){var e=function(t,e){if("object"!=rr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==rr(e)?e:String(e)}function ar(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function sr(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ar(i,r,o,a,s,"next",t)}function s(t){ar(i,r,o,a,s,"throw",t)}a(void 0)}))}}function cr(t){var e;null!==(e=this._skinData)&&void 0!==e&&e.configOverrides&&(0,v.mergeObjects)(t,this._skinData.configOverrides)}function ur(){return lr.apply(this,arguments)}function lr(){return lr=sr(nr().mark((function t(){var e,n,r=this;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=this._skinData)||void 0===e||!e.styleSheets){t.next=5;break}return n=[],this._skinData.styleSheets.forEach((function(t){if(/\{.*/.test(t));else{if(!r._externalResourcesAllowed)throw new Error("No external resources allowed loading skin object");var e=(0,v.joinPath)([r._skinUrl,t]);n.push(new Promise(function(){var t=sr(nr().mark((function t(n){return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.loadStyle)(e,!1);case 2:n();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}})),t.next=5,Promise.allSettled(n);case 5:case"end":return t.stop()}}),t,this)}))),lr.apply(this,arguments)}function fr(){return hr.apply(this,arguments)}function hr(){return hr=sr(nr().mark((function t(){var e,n,r=this;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.player.__skinStyleSheets__=this.player.__skinStyleSheets__||[],null===(e=this._skinData)||void 0===e||!e.styleSheets){t.next=6;break}return n=[],this._skinData.styleSheets.forEach((function(t){if(/\{.*/.test(t))n.push(new Promise((function(e){var n=document.createElement("style");n.innerHTML=t,r.player.__skinStyleSheets__.push(n),document.head.appendChild(n),e()})));else{var e=(0,v.joinPath)([r._skinUrl,t]);n.push(new Promise(function(){var t=sr(nr().mark((function t(n){var o;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.loadStyle)(e);case 2:o=t.sent,r.player.__skinStyleSheets__.push(o),n();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}})),t.next=6,Promise.allSettled(n);case 6:case"end":return t.stop()}}),t,this)}))),hr.apply(this,arguments)}function pr(){this.player.__skinStyleSheets__=this.player.__skinStyleSheets__||[],this.player.__skinStyleSheets__.forEach((function(t){(0,v.unloadStyle)(t)})),this.player.__skinStyleSheets__=[]}function dr(){return yr.apply(this,arguments)}function yr(){return yr=sr(nr().mark((function t(){var e,n=this;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Array.isArray(null===(e=this._skinData)||void 0===e?void 0:e.icons)){t.next=3;break}return t.next=3,Promise.all(this._skinData.icons.map((function(t){t.plugin,t.identifier;var e=t.icon;return new Promise(function(){var t=sr(nr().mark((function t(r,o){var i,a;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=document.createElement("div")).innerHTML=e,!i.children[0]||"svg"!==i.children[0].tagName){t.next=6;break}r(),t.next=15;break;case 6:if(!n._externalResourcesAllowed){t.next=14;break}return a=(0,v.joinPath)([n._skinUrl,e]),t.next=10,fetch(a);case 10:t.sent.ok?r():o(new Error("Skin icon not found at URL '".concat(a,"'"))),t.next=15;break;case 14:throw new Error("No external resources allowed loading skin object");case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 3:case"end":return t.stop()}}),t,this)}))),yr.apply(this,arguments)}function vr(){return gr.apply(this,arguments)}function gr(){return gr=sr(nr().mark((function t(){var e,n=this;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Array.isArray(null===(e=this._skinData)||void 0===e?void 0:e.icons)){t.next=3;break}return t.next=3,Promise.all(this._skinData.icons.map((function(t){var e=t.plugin,r=t.identifier,o=t.icon;return new Promise(function(){var t=sr(nr().mark((function t(i,a){var s,c,u,l;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((s=document.createElement("div")).innerHTML=o,!s.children[0]||"svg"!==s.children[0].tagName){t.next=7;break}n.player.addCustomPluginIcon(e,r,o),i(),t.next=20;break;case 7:return c=(0,v.joinPath)([n._skinUrl,o]),t.next=10,fetch(c);case 10:if(!(u=t.sent).ok){t.next=19;break}return t.next=14,u.text();case 14:l=t.sent,n.player.addCustomPluginIcon(e,r,l),i(),t.next=20;break;case 19:a(new Error("Skin icon not found at URL '".concat(c,"'")));case 20:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})));case 3:case"end":return t.stop()}}),t,this)}))),gr.apply(this,arguments)}var mr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=e}var e,n,r;return e=t,n=[{key:"player",get:function(){return this._player}},{key:"loadSkin",value:(r=sr(nr().mark((function t(e){var n;return nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof e){t.next=13;break}return this._skinUrl=(0,v.removeFileName)(e),this._externalResourcesAllowed=!0,t.next=5,fetch(e);case 5:if((n=t.sent).ok){t.next=8;break}throw new Error("Error loading skin from URL ".concat(e));case 8:return t.next=10,n.json();case 10:this._skinData=t.sent,t.next=14;break;case 13:"object"===rr(e)&&(this._skinUrl="",this._externalResourcesAllowed=!1,this._skinData=e);case 14:return t.prev=14,t.next=17,ur.apply(this);case 17:return t.next=19,dr.apply(this);case 19:if(this._player.state!==St.A.LOADED&&this._player.state!==St.A.MANIFEST){t.next=22;break}return t.next=22,this._player.reload();case 22:t.next=30;break;case 24:throw t.prev=24,t.t0=t.catch(14),this._skinUrl="",this._externalResourcesAllowed=!0,this._skinData={},t.t0;case 30:case"end":return t.stop()}}),t,this,[[14,24]])}))),function(t){return r.apply(this,arguments)})},{key:"unloadSkin",value:function(){var t,e,n=this;Array.isArray(null===(t=this._skinData)||void 0===t?void 0:t.icons)&&(null===(e=this._skinData)||void 0===e||e.icons.forEach((function(t){var e=t.plugin,r=t.identifier;n.player.removeCustomPluginIcon(e,r)}))),this._skinUrl=null,this._skinData={},this._player.state!==St.A.LOADED&&this._player.state!==St.A.MANIFEST||this._player.reload()}}],n&&or(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),br=n(748),wr={};wr.styleTagTransform=p(),wr.setAttributes=u(),wr.insert=s().bind(null,"head"),wr.domAPI=i(),wr.insertStyleElement=f(),e()(br.A,wr),br.A&&br.A.locals&&br.A.locals;var Ar=n(8330);function xr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Er(t){return Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Er(t)}function Cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kr(r.key),r)}}function kr(t){var e=function(t,e){if("object"!=Er(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Er(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Er(e)?e:String(e)}var Lr=function(){function t(e,n){var r=this;function o(){if(1!==this.streams.length)return null;if(this.isAudioOnly)return this.audioOnlySource.src;var t=this.streams[0];if(!(t.sources.mp4||t.sources.hls||t.sources.hlsLive))return null;var e=document.createElement("video");if(t.sources.mp4&&t.sources.mp4.length&&"probably"===e.canPlayType(t.sources.mp4[0].mimetype||"video/mp4"))return t.sources.mp4[0].src;var n=t.sources.hls||t.sources.hlsLive;return n&&n.length&&""!==e.canPlayType(n[0].mimetype||"application/vnd.apple.mpegurl")&&/safari/i.test(navigator.userAgent)?n[0].src:null}!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._player=n,this._videoManifest=JSON.parse(JSON.stringify(e)),this._metadata=this._videoManifest.metadata||{},this._streams={},this._frameList={frames:[]},this._trimming=this._videoManifest.trimming,this._captions=this._videoManifest.captions,this._visibleTimeLine=this._videoManifest.visibleTimeLine,this._streams={streams:this._videoManifest.streams,get contents(){return this.streams.map((function(t){return t.content}))},getStream:function(t){return this.streams.find((function(e){return e.content===t}))},getSourceTypes:function(t){var e=this.getStream(t);return e&&Object.keys(e.sources)||null},getCanvasTypes:function(t){var e=this.getStream(t);return e?e.canvas||["video"]:null},get isAudioOnly(){var t=1===this.contents.length&&this.contents[0],e=t&&this.getCanvasTypes(t)||[],n=this.getStream(t);return 1===e.length&&"audio"===e[0]&&n.sources.audio&&n.sources.audio.length>0},get audioOnlySource(){return this.isAudioOnly?this.getStream(this.contents[0]).sources.audio[0]:null},get isNativelyPlayable(){return null!==o.apply(this)},get nativeSource(){return o.apply(this)},get nativeType(){return this.isNativelyPlayable?this.isAudioOnly?"audio":"video":null},get nativePlayer(){var t=this.nativeType;if(t){var e=document.createElement(t);return e.src=this.nativeSource,e}return null}},this._videoManifest.frameList&&!Array.isArray(this._videoManifest.frameList)&&"object"===Er(this._videoManifest.frameList)&&"string"==typeof this._videoManifest.frameList.targetContent&&Array.isArray(this._videoManifest.frameList.frames)?this._frameList=this._videoManifest.frameList:Array.isArray(this._videoManifest.frameList)&&(this._frameList={targetContent:null,frames:this._videoManifest.frameList}),this._frameList.getImage=function(t){var e,n,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null!==(e=r._player)&&void 0!==e&&e.videoContainer&&r._player._videoContainer.isTrimEnabled&&!i?t+=r._player.videoContainer.trimStart:null!==(n=r._player)&&void 0!==n&&n._videoContainer||i||console.warn("frameList.getImage(): player instance is null. The trimming information will be ignored."),(o=r._frameList.frames,function(t){if(Array.isArray(t))return xr(t)}(o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return xr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xr(t,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(t,e){return e.time-t.time})).find((function(e){return e.time<t}))},Object.defineProperty(this._frameList,"isEmpty",{get:function(){return Array.isArray(e.frameList)&&0===e.frameList.length||!e.frameList}}),Object.freeze(this._metadata),Object.freeze(this._streams),Object.freeze(this._trimming),Object.freeze(this._captions)}var e,n;return e=t,(n=[{key:"metadata",get:function(){return this._metadata}},{key:"streams",get:function(){return this._streams}},{key:"frameList",get:function(){return this._frameList}},{key:"captions",get:function(){return this._captions}},{key:"trimming",get:function(){return this._trimming}},{key:"visibleTimeLine",get:function(){return this._visibleTimeLine}}])&&Cr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _r(t){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(t)}function Sr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Or(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Or(t,e){if(t){if("string"==typeof t)return Tr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tr(t,e):void 0}}function Tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pr(){Pr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new T(r||[]);return o(a,"_invoke",{value:L(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",y="completed",v={};function g(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var E=b.prototype=g.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==_r(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=h;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?y:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function _(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(_r(e)+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},C(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(E),u(E,c,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ir(r.key),r)}}function Ir(t){var e=function(t,e){if("object"!=_r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=_r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_r(e)?e:String(e)}function jr(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Br(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){jr(i,r,o,a,s,"next",t)}function s(t){jr(i,r,o,a,s,"throw",t)}a(void 0)}))}}var Dr=Object.freeze(["UNLOADED","LOADING_MANIFEST","MANIFEST","LOADING_PLAYER","LOADED","UNLOADING_MANIFEST","UNLOADING_PLAYER","ERROR"]);function Nr(){var t,e,n,r,o=(null===(t=this.videoManifest)||void 0===t||null===(t=t.metadata)||void 0===t?void 0:t.preview)&&(0,v.resolveResourcePath)(this,null===(e=this.videoManifest)||void 0===e||null===(e=e.metadata)||void 0===e?void 0:e.preview)||this.defaultVideoPreview,i=(null===(n=this.videoManifest)||void 0===n||null===(n=n.metadata)||void 0===n?void 0:n.previewPortrait)&&(0,v.resolveResourcePath)(this,null===(r=this.videoManifest)||void 0===r||null===(r=r.metadata)||void 0===r?void 0:r.previewPortrait)||this.defaultVideoPreviewPortrait;this._previewContainer=new le(this,this._containerElement,o,i)}function Mr(){return Fr.apply(this,arguments)}function Fr(){return Fr=Br(Pr().mark((function t(){var e,n,r,o,i,a,s,c,u,l,f,h,p,d;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._playerState=St.A.LOADING_MANIFEST,this._manifestLoaded=!0,this.log.debug("Loading paella player"),t.next=5,this.initParams.loadConfig(this.configUrl,this);case 5:this._config=t.sent,cr.apply(this.skin,[this._config]),(0,xt.$R)(this),this._defaultVideoPreview=this._config.defaultVideoPreview||this._initParams.defaultVideoPreview||"",this._defaultVideoPreviewPortrait=this._config.defaultVideoPreviewPortrait||this._initParams.defaultVideoPreviewPortrait||"",this._cookieConsent=new xn(this,{getConsent:this._initParams.getCookieConsentFunction,getDescription:this._initParams.getCookieDescriptionFunction}),this._preferences=new er(this),e=new URLSearchParams(window.location.search),n=new URLSearchParams,r=Sr(e);try{for(r.s();!(o=r.n()).done;)y=o.value,v=2,i=function(t){if(Array.isArray(t))return t}(y)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(y,v)||Or(y,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],s=i[1],n.append(a.toLowerCase(),s)}catch(t){r.e(t)}finally{r.f()}return c=n.get("loglevel"),u=c&&-1!==Array.from(Object.keys(Tn)).indexOf(c.toUpperCase())?c.toUpperCase():this._config.logLevel||"INFO",this._log.setLevel(u),t.next=21,this._initParams.loadDictionaries(this);case 21:return(0,nt.I1)(this),t.next=24,(0,yn.fp)(this);case 24:return t.next=26,(0,vn.K$)(this);case 26:return this._videoContainer=new Xt(this,this._containerElement),t.next=29,this.videoContainer.create();case 29:l=Sr(this.pluginModules),t.prev=30,l.s();case 32:if((f=l.n()).done){t.next=43;break}if(h=f.value,t.t0=h.getDictionaries,!t.t0){t.next=39;break}return t.next=38,h.getDictionaries();case 38:t.t0=t.sent;case 39:if(p=t.t0)for(d in p)(0,xt.q8)(d,p[d]);case 41:t.next=32;break;case 43:t.next=48;break;case 45:t.prev=45,t.t1=t.catch(30),l.e(t.t1);case 48:return t.prev=48,l.f(),t.finish(48);case 51:case"end":return t.stop()}var y,v}),t,this,[[30,45,48,51]])}))),Fr.apply(this,arguments)}function Ur(){return Gr.apply(this,arguments)}function Gr(){return Gr=Br(Pr().mark((function t(){var e,n,r,o=this;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n in this.log.debug("Video manifest loaded:"),this.log.debug(this.videoManifest),this._data=new Qe.A(this),Fn)r=Fn[n],(0,xt.q8)(n,r);if(this._playerState=St.A.MANIFEST,(0,st.Hl)(this,st.Ay.MANIFEST_LOADED),null!==(e=this.videoManifest)&&void 0!==e&&null!==(e=e.metadata)&&void 0!==e&&e.preview){t.next=10;break}throw new Error("No preview image found in video manifest, and no default preview image defined.");case 10:Nr.apply(this);case 11:bt(this._videoManifest),1===__paella_instances__.length&&(this._loadKeypressHandler=this._loadKeypressHandler||function(){var t=Br(Pr().mark((function t(e){return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!/space/i.test(e.code)){t.next=3;break}return t.next=3,o.play();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),window.addEventListener("keypress",this._loadKeypressHandler,!0));case 13:case"end":return t.stop()}}),t,this)}))),Gr.apply(this,arguments)}var $r=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._log=new Dn(this),this._packageData=Ar,this._log.setLevel(Tn.VERBOSE),window.__paella_instances__=window.__paella_instances__||[],window.__paella_instances__.push(this),this.log.debug("New paella player instance"),"string"==typeof e&&(e=document.getElementById(e)),e.classList.add("player-container"),this.log.debug("Loading skin manager"),this._skin=new mr(this),this._containerElement=e,this._initParams=r,this._initParams.manifestFileName=this._initParams.manifestFileName||"data.json",this._initParams.loadConfig=this._initParams.loadConfig||A,this._initParams.getVideoId=this._initParams.getVideoId||E,this._initParams.getManifestUrl=this._initParams.getManifestUrl||k,this._initParams.getManifestFileUrl=this._initParams.getManifestFileUrl||_,this._initParams.loadVideoManifest=this._initParams.loadVideoManifest||O,this._initParams.customPluginContext=this._initParams.customPluginContext||[],this._initParams.translateFunction=this._initParams.translateFunction||xt.Gs,this._initParams.getLanguageFunction=this._initParams.getLanguageFunction||xt.ec,this._initParams.setLanguageFunction=this._initParams.setLanguageFunction||xt.Uj,this._initParams.addDictionaryFunction=this._initParams.addDictionaryFunction||xt.HZ,this._initParams.getDictionariesFunction=this._initParams.getDictionariesFunction||xt.we,this._initParams.getDefaultLanguageFunction=this._initParams.getDefaultLanguageFunction||xt.X5,this._initParams.Loader=this._initParams.customLoader||K,this._initParams.getCookieConsentFunction=this._initParams.getCookieConsentFunction||wn,this._initParams.getCookieDescriptionFunction=this._initParams.getCookieDescriptionFunction||An,this._initParams.loadDictionaries=this._initParams.loadDictionaries||function(){var t=Br(Pr().mark((function t(e){return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,xt.q8)("en",{Hello:"Hello",World:"World"}),(0,xt.q8)("es",{Hello:"Hola",World:"Mundo"}),(0,xt.xC)(navigator.language.substring(0,2));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var o,i=this._initParams.plugins||[];this._initParams.plugins=function(t){if(Array.isArray(t))return Tr(t)}(o=i)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||Or(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),(0,xt.zO)(this._initParams.translateFunction),(0,xt.lh)(this._initParams.setLanguageFunction),(0,xt.Xu)(this._initParams.getLanguageFunction),(0,xt.Ay)(this._initParams.addDictionaryFunction),(0,xt.p)(this._initParams.getDictionariesFunction),(0,xt.Sm)(this._initParams.getDefaultLanguageFunction),this._config=null,this._defaultVideoPreview="",this._defaultVideoPreviewPortrait="",this._videoId=null,this._manifestUrl=null,this._manifestFileUrl=null,this._manifestData=null,this._videoManifest=null,this._playerLoaded=!1,this._resizeEventListener=function(){n.resize()},window.addEventListener("resize",this._resizeEventListener),this.containerElement.addEventListener("fullscreenchange",(function(){(0,st.Hl)(n,st.Ay.FULLSCREEN_CHANGED,{status:n.isFullscreen}),n.isFullscreen?(0,st.Hl)(n,st.Ay.ENTER_FULLSCREEN):(0,st.Hl)(n,st.Ay.EXIT_FULLSCREEN)})),this._playerState=St.A.UNLOADED,this._customPluginIcons={}}var e,n,r,o,i,a,s,c,u,l,f,h,p,d,y,g,m,b,w;return e=t,n=[{key:"version",get:function(){return this._packageData.version}},{key:"pluginModules",get:function(){return this.__pluginModules||[]}},{key:"log",get:function(){return this._log}},{key:"ready",get:function(){return this._playerState===St.A.LOADED}},{key:"state",get:function(){return this._playerState}},{key:"stateText",get:function(){return Dr[this.state]}},{key:"Events",get:function(){return st.Ay}},{key:"preferences",get:function(){return this._preferences}},{key:"skin",get:function(){return this._skin}},{key:"translate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,xt.Tl)(t,e)}},{key:"setLanguage",value:function(t){(0,xt.xC)(t)}},{key:"getLanguage",value:function(){return(0,xt.Z0)()}},{key:"addDictionary",value:function(t,e){(0,xt.q8)(t,e)}},{key:"getDictionaries",value:function(){return(0,xt.Ly)()}},{key:"getDefaultLanguage",value:function(){return(0,xt.i5)(this)}},{key:"bindEvent",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,st.e3)(this,t,(function(t){return e(t)}),n)}},{key:"getShortcuts",value:function(){return(0,vn.iv)(this)}},{key:"pauseCaptureShortcuts",value:function(){return(0,vn.sd)(this)}},{key:"resumeCaptureShortcuts",value:function(){return(0,vn.hp)(this)}},{key:"getPlugin",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e){var n={};for(var r in this.__pluginData__.pluginInstances){var o=this.__pluginData__.pluginInstances[r].find((function(e){if(e.name===t)return e}));o&&(n[r]=o)}return n}var i=this.__pluginData__.pluginInstances[e];if(i)return i.find((function(e){if(e.name===t)return e}))}},{key:"hideUiTime",get:function(){return this._hideUiTime},set:function(t){this._hideUiTime=t}},{key:"containerSize",get:function(){return{w:this._containerElement.offsetWidth,h:this._containerElement.offsetHeight}}},{key:"containerElement",get:function(){return this._containerElement}},{key:"initParams",get:function(){return this._initParams}},{key:"cookieConsent",get:function(){return this._cookieConsent}},{key:"configLoaded",get:function(){return null!==this.configUrl}},{key:"videoManifestLoaded",get:function(){return null!==this.videoManifest}},{key:"videoLoaded",get:function(){var t;return(null===(t=this.videoContainer)||void 0===t?void 0:t.ready)||!1}},{key:"playerLoaded",get:function(){return this._playerLoaded}},{key:"configResourcesUrl",get:function(){var t;return(null===(t=this._initParams)||void 0===t?void 0:t.configResourcesUrl)||"config/"}},{key:"configUrl",get:function(){var t;return(null===(t=this._initParams)||void 0===t?void 0:t.configUrl)||"config/config.json"}},{key:"config",get:function(){return this._config}},{key:"defaultVideoPreview",get:function(){return this._defaultVideoPreview}},{key:"defaultVideoPreviewPortrait",get:function(){return this._defaultVideoPreviewPortrait}},{key:"videoId",get:function(){return this._videoId}},{key:"repositoryUrl",get:function(){var t,e;return(null===(t=this._initParams)||void 0===t?void 0:t.repositoryUrl)||(null===(e=this.config)||void 0===e?void 0:e.repositoryUrl)||""}},{key:"manifestUrl",get:function(){return this._manifestUrl}},{key:"manifestFileName",get:function(){var t,e;return(null===(t=this.config)||void 0===t?void 0:t.manifestFileName)||(null===(e=this._initParams)||void 0===e?void 0:e.manifestFileName)||""}},{key:"manifestFileUrl",get:function(){return this._manifestFileUrl}},{key:"videoManifest",get:function(){return this._videoManifest}},{key:"previewContainer",get:function(){return this._previewContainer}},{key:"videoContainer",get:function(){return this._videoContainer}},{key:"playbackBar",get:function(){return this._playbackBar}},{key:"captionsCanvas",get:function(){return this._captionsCanvas}},{key:"data",get:function(){return this._data}},{key:"PlayerState",get:function(){return St.A}},{key:"PlayerStateNames",get:function(){return Dr}},{key:"metadata",get:function(){return this._manifestParser.metadata}},{key:"streams",get:function(){return this._manifestParser.streams}},{key:"frameList",get:function(){return this._manifestParser.frameList}},{key:"captions",get:function(){return this._manifestParser.captions}},{key:"trimming",get:function(){return this._manifestParser.trimming}},{key:"visibleTimeLine",get:function(){return this._manifestParser.visibleTimeLine}},{key:"waitState",value:function(t){var e=this;return new Promise((function(n,r){"string"==typeof t&&(t=St.A[t]),(t<0||t>Object.values(St.A).length)&&r(Error("Invalid player state '".concat(t,"'"))),function r(){e.state===t?n():setTimeout(r,50)}()}))}},{key:"loadUrl",value:(w=Br(Pr().mark((function t(e){var n,r,o,i,a,s,c=this,u=arguments;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(n=u.length>1&&void 0!==u[1]?u[1]:{}).title,o=n.duration,i=n.preview,a=n.previewPortrait,this._playerState===St.A.UNLOADED){t.next=3;break}throw new Error(this.translate("loadUrl(): Invalid current player state: $1",[Dr[this._playerState]]));case 3:if(!this._manifestLoaded){t.next=5;break}throw new Error(this.translate("loadUrl(): Invalid current player state: $1",[Dr[this._playerState]]));case 5:if(e){t.next=7;break}throw new Error(this.translate("loadUrl(): No URL specified."));case 7:return Array.isArray(e)||(e=[e]),r||(r=(0,v.getUrlFileName)(e[0]),this.log.warn("Paella.loadUrl(): no title specified. Using URL file name as video name.")),t.prev=9,t.next=12,Mr.apply(this);case 12:if(i||""===this.defaultVideoPreview&&""===this.defaultVideoPreviewPortrait){t.next=18;break}i=this.defaultVideoPreview,a=this.defaultVideoPreviewPortrait,this.log.warn("Paella.loadUrl(): no preview image specified. Using default preview image."),t.next=20;break;case 18:if(i||a){t.next=20;break}throw new Error("Paella.loadUrl(): no preview image specified and no default preview image configured.");case 20:return this._videoId=(0,v.removeExtension)((0,v.getUrlFileName)(e[0])),this._manifestUrl=(0,v.removeFileName)(e[0]),this._manifestFileUrl=e[0],this.log.debug("Loading video with identifier '".concat(this.videoId,"' from URL '").concat(this.manifestFileUrl,"'")),this._manifestParser=new Lr(this.videoManifest,this),s=(0,rt.DU)(this,e.length)[0],this._videoManifest={metadata:{duration:o,title:r,preview:i,previewPortrait:a},streams:e.map((function(t,e){return{sources:Gt(c,t),content:s[e],role:0===e?"mainAudio":null}}))},t.next=29,Ur.apply(this);case 29:t.next=37;break;case 31:throw t.prev=31,t.t0=t.catch(9),this._playerState=St.A.ERROR,this.log.error(t.t0),this._errorContainer=new et(this,this.translate(t.t0.message)),t.t0;case 37:case"end":return t.stop()}}),t,this,[[9,31]])}))),function(t){return w.apply(this,arguments)})},{key:"loadManifest",value:(b=Br(Pr().mark((function t(){return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._playerState===St.A.UNLOADED){t.next=2;break}throw new Error(this.translate("loadManifest(): Invalid current player state: $1",[Dr[this._playerState]]));case 2:if(!this._manifestLoaded){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,Mr.apply(this);case 7:return t.next=9,this.initParams.getVideoId(this._config,this);case 9:if(this._videoId=t.sent,null!==this.videoId){t.next=12;break}throw new Error("No video identifier specified");case 12:return t.next=14,this.initParams.getManifestUrl(this.repositoryUrl,this.videoId,this._config,this);case 14:return this._manifestUrl=t.sent,t.next=17,this.initParams.getManifestFileUrl(this._manifestUrl,this.manifestFileName,this._config,this);case 17:return this._manifestFileUrl=t.sent,this.log.debug("Loading video with identifier '".concat(this.videoId,"' from URL '").concat(this.manifestFileUrl,"'")),t.next=21,this.initParams.loadVideoManifest(this.manifestFileUrl,this._config,this);case 21:return this._videoManifest=t.sent,this._videoManifest.metadata=this._videoManifest.metadata||{},this._videoManifest.metadata.preview||""===this.defaultVideoPreview&&""===this.defaultVideoPreviewPortrait||(this._videoManifest.metadata.preview=this.defaultVideoPreview,this._videoManifest.metadata.previewPortrait=this.defaultVideoPreviewPortrait,this.log.warn("Paella.loadUrl(): no preview image specified. Using default preview image.")),this._manifestParser=new Lr(this.videoManifest,this),pr.apply(this.skin),t.next=28,vr.apply(this.skin);case 28:return t.next=30,fr.apply(this.skin);case 30:return t.next=32,Ur.apply(this);case 32:t.next=40;break;case 34:throw t.prev=34,t.t0=t.catch(4),this._playerState=St.A.ERROR,this.log.error(t.t0),this._errorContainer=new et(this,this.translate(t.t0.message)),t.t0;case 40:case"end":return t.stop()}}),t,this,[[4,34]])}))),function(){return b.apply(this,arguments)})},{key:"loadPlayer",value:(m=Br(Pr().mark((function t(){var e,n,r,o,i;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this._captionsCanvas=new dn(this,this._containerElement),this._playerState===St.A.MANIFEST){t.next=4;break}throw new Error(this.translate("loadPlayer(): Invalid current player state: $1",[Dr[this._playerState]]));case 4:return this._playerState=St.A.LOADING_PLAYER,null===(e=this._previewContainer)||void 0===e||e.removeFromParent(),this._loader=new this.initParams.Loader(this),t.next=9,this._loader.create();case 9:return t.next=11,this.videoContainer.load(null===(n=this.videoManifest)||void 0===n?void 0:n.streams);case 11:return(0,st.Hl)(this,st.Ay.STREAM_LOADED),this._playbackBar=new qe(this,this.containerElement),t.next=15,this._playbackBar.load();case 15:this._hideUiTime=null!==(r=null===(o=this.config.ui)||void 0===o?void 0:o.hideUITimer)&&void 0!==r?r:5e3,(0,v.setupAutoHideUiTimer)(this),this._captionsCanvas.load(),this._playerState=St.A.LOADED,(0,st.Hl)(this,st.Ay.PLAYER_LOADED),!(null===(i=this.videoManifest.metadata.visibleTimeLine)||void 0===i||i)&&this.playbackBar.progressIndicator.hideTimeLine(),this._loader.debug||(this._loader.removeFromParent(),this._loader=null),t.next=31;break;case 25:throw t.prev=25,t.t0=t.catch(0),this._playerState=St.A.ERROR,this._loader&&(this._loader.removeFromParent(),this._loader=null),this._errorContainer=new et(this,t.t0.message),t.t0;case 31:case"end":return t.stop()}}),t,this,[[0,25]])}))),function(){return m.apply(this,arguments)})},{key:"load",value:function(){var t=Br(Pr().mark((function t(){return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.state,t.next=t.t0===St.A.UNLOADED?3:t.t0===St.A.MANIFEST?8:t.t0===St.A.LOADED?11:12;break;case 3:return t.next=5,this.loadManifest();case 5:return t.next=7,this.loadPlayer();case 7:case 10:case 11:return t.abrupt("break",13);case 8:return t.next=10,this.loadPlayer();case 12:throw new Error(this.translate("Could not load player: state transition in progress: $1",[Dr[this.state]]));case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"unload",value:(g=Br(Pr().mark((function t(){return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.state,t.next=t.t0===St.A.UNLOADED?3:t.t0===St.A.MANIFEST?4:t.t0===St.A.LOADED||t.t0===St.A.ERROR?7:12;break;case 3:case 6:case 11:return t.abrupt("break",13);case 4:return t.next=6,this.unloadManifest();case 7:return t.next=9,this.unloadPlayer();case 9:return t.next=11,this.unloadManifest();case 12:throw new Error(this.translate("Could not unload player: state transition in progress: $1",[Dr[this.state]]));case 13:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"unloadManifest",value:(y=Br(Pr().mark((function t(){var e;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._playerState===St.A.MANIFEST||this._playerState===St.A.ERROR){t.next=2;break}throw new Error(this.translate("unloadManifest(): Invalid current player state: $1",[Dr[this._playerState]]));case 2:return this._errorContainer&&(this._errorContainer.removeFromParent(),this._errorContainer=null),this._playerState=St.A.UNLOADING_MANIFEST,this.log.debug("Unloading paella player"),t.next=7,(0,yn.uQ)(this);case 7:return t.next=9,(0,vn.xy)(this);case 9:return t.next=11,(0,nt.jx)(this);case 11:this._manifestLoaded=!1,null===(e=this._previewContainer)||void 0===e||e.removeFromParent(),this._preferences=null,this._playerState=St.A.UNLOADED,pr.apply(this.skin);case 16:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"unloadPlayer",value:(d=Br(Pr().mark((function t(){var e,n,r,o;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._playerState===St.A.LOADED||this._playerState===St.A.ERROR){t.next=2;break}throw new Error(this.translate("unloadManifest(): Invalid current player state: $1",[Dr[this._playerState]]));case 2:return this._errorContainer&&(this._errorContainer.removeFromParent(),this._errorContainer=null),this._playerState=St.A.UNLOADING_PLAYER,t.next=6,null===(e=this._videoContainer)||void 0===e?void 0:e.unload();case 6:return this._videoContainer=null,t.next=9,null===(n=this._playbackBar)||void 0===n?void 0:n.unload();case 9:this._playbackBar=null,null===(r=this._captionsCanvas)||void 0===r||r.unload(),this._captionsCanvas=null,(0,v.clearAutoHideTimer)(this),(0,st.Hl)(this,st.Ay.PLAYER_UNLOADED),Me.A.Unload(),Xe.A.Unload(this),null!==(o=this.videoManifest)&&void 0!==o&&null!==(o=o.metadata)&&void 0!==o&&o.preview&&Nr.apply(this),(0,st.q7)(this),this._playerState=St.A.MANIFEST;case 19:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"destroy",value:(p=Br(Pr().mark((function t(){var e;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.unload();case 2:window.removeEventListener("resize",this._resizeEventListener),(0,xt.zO)(xt.Gs),(0,xt.lh)(xt.Uj),(0,xt.Xu)(xt.ec),(0,xt.Ay)(xt.HZ),(0,xt.p)(xt.we),(0,xt.Sm)(xt.X5),window.__paella_instances__&&"array"==typeof window.__paella_instances__&&(e=window.__paella_instances__.indexOf(this))>-1&&window.__paella_instances__.splice(e,1);case 10:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"reload",value:(h=Br(Pr().mark((function t(){var e,n=arguments;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=n.length>0&&void 0!==n[0]?n[0]:null,t.t0=this.state,t.next=t.t0===St.A.UNLOADED?4:t.t0===St.A.MANIFEST?5:t.t0===St.A.LOADED?8:11;break;case 4:case 7:case 10:return t.abrupt("break",11);case 5:return t.next=7,this.unloadManifest();case 8:return t.next=10,this.unload();case 11:if("function"!=typeof e){t.next=14;break}return t.next=14,e();case 14:return t.next=16,this.load();case 16:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"resize",value:(f=Br(Pr().mark((function t(){var e,n,r,o=this;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.videoContainer)||void 0===e||e.updateLayout(),null===(n=this.playbackBar)||void 0===n||n.onResize(),this.videoContainer&&(r=function(){return{w:o.videoContainer.element.offsetWidth,h:o.videoContainer.element.offsetHeight}},(0,st.Hl)(this,st.Ay.RESIZE,{size:r()}),this._resizeEndTimer&&clearTimeout(this._resizeEndTimer),this._resizeEndTimer=setTimeout((function(){(0,st.Hl)(o,st.Ay.RESIZE_END,{size:r()})}),1e3));case 3:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"hideUserInterface",value:(l=Br(Pr().mark((function t(){var e,n,r;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.videoContainer)||void 0===e?void 0:e.paused();case 2:if(t.sent){t.next=8;break}this._uiHidden=!0,null===(n=this.videoContainer)||void 0===n||n.hideUserInterface(),null===(r=this.playbackBar)||void 0===r||r.hideUserInterface(),Xe.A.HideUserInterface(this),(0,st.Hl)(this,st.Ay.HIDE_UI);case 8:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"showUserInterface",value:(u=Br(Pr().mark((function t(){var e,n;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.videoContainer)||void 0===e||e.showUserInterface(),null===(n=this.playbackBar)||void 0===n||n.showUserInterface(),Xe.A.ShowUserInterface(this),this._uiHidden&&(0,st.Hl)(this,st.Ay.SHOW_UI),this._uiHidden=!1;case 5:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"play",value:(c=Br(Pr().mark((function t(){return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._loadKeypressHandler&&(window.removeEventListener("keypress",this._loadKeypressHandler,!0),this._loadKeypressHandler=null),this.videoContainer.ready){t.next=4;break}return t.next=4,this.loadPlayer();case 4:return t.next=6,this.videoContainer.play();case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"pause",value:(s=Br(Pr().mark((function t(){var e;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.videoContainer)||void 0===e?void 0:e.pause();case 2:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"paused",value:(a=Br(Pr().mark((function t(){return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.videoContainer){t.next=4;break}return t.abrupt("return",!0);case 4:return t.abrupt("return",this.videoContainer.paused());case 5:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"stop",value:(i=Br(Pr().mark((function t(){var e;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.videoContainer)||void 0===e?void 0:e.stop();case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"isFullScreenSupported",value:function(){var t=window.document.fullscreenEnabled||window.document.webkitFullscreenEnabled,e=this.containerElement.requestFullscreen||this.containerElement.webkitRequestFullScreen;return t&&e}},{key:"enterFullscreen",value:(o=Br(Pr().mark((function t(){var e,n=this;return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,this.containerElement.requestFullscreen?e=this.containerElement.requestFullscreen():this.containerElement.webkitRequestFullScreen&&(this.log.debug("Safari enter fullscreen"),e=this.containerElement.webkitRequestFullScreen()),setTimeout((function(){return n.resize()}),500),t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:(r=Br(Pr().mark((function t(){return Pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!document.exitFullscreen||!this.isFullscreen){t.next=4;break}return t.abrupt("return",document.exitFullscreen());case 4:if(!document.webkitCancelFullScreen||!this.isFullscreen){t.next=7;break}return this.log.debug("Safari exit fullscreen"),t.abrupt("return",document.webkitCancelFullScreen());case 7:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"isFullscreen",get:function(){return document.fullscreenElement===this.containerElement||document.webkitFullscreenElement===this.containerElement}},{key:"addCustomPluginIcon",value:function(t,e,n){this._customPluginIcons["".concat(t,"-").concat(e)]=n}},{key:"removeCustomPluginIcon",value:function(t,e){this._customPluginIcons["".concat(t,"-").concat(e)]=null}},{key:"getCustomPluginIcon",value:function(t,e){return this._requestedCustomIcons=this._requestedCustomIcons||[],this._requestedCustomIcons.find((function(n){return n.pluginName===t&&n.iconName===e}))||this._requestedCustomIcons.push({pluginName:t,iconName:e}),this._customPluginIcons["".concat(t,"-").concat(e)]}},{key:"requestedCustomIcons",get:function(){return this._requestedCustomIcons||[]}}],n&&Rr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Vr=n(5151),Hr=n(463),Kr=n(383),Yr=n(3282),zr=n(7125),Wr=n(5803),Zr=n(8657),qr=n(8047),Xr=n(5911),Qr=n(3107),Jr=n(5005),to=n(1307),eo=n(9805),no=n(1175),ro=n(4273),oo=n(4504),io=n(5943),ao=n(4807),so=n(135),co=n(7837),uo=n(7812),lo=n(1467),fo=n(6664),ho=n(2740),po=n(9550),yo=n(9643)})(),r})(),t.exports=e()},646:(t,e,n)=>{var r;self,t.exports=(r=n(351),(()=>{var t={650:(t,e,n)=>{"use strict";function r(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,c,"next",t)}function c(t){r(a,o,i,s,c,"throw",t)}s(void 0)}))}}function i(t){return a(t).length>0}function a(t){var e,n=(null===(e=t.videoManifest)||void 0===e?void 0:e.frameList)||[];return n.sort((function(t,e){return t.time-e.time})),n}function s(t){return c.apply(this,arguments)}function c(){return(c=o(regeneratorRuntime.mark((function t(e){var n,r,o,i,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a(e),r=e.videoContainer,o=r.isTrimEnabled?r.trimStart:0,t.t0=o,t.t1=Math,t.next=7,r.duration();case 7:return t.t2=t.sent,t.t3=t.t1.trunc.call(t.t1,t.t2),i=t.t0+t.t3,t.t4=o,t.t5=Math,t.next=14,r.currentTime();case 14:if(t.t6=t.sent,t.t7=t.t5.trunc.call(t.t5,t.t6),s=t.t4+t.t7,c=null,n.some((function(t){return t.time>s&&t.time<i&&(c=t),null!==c})),!c){t.next=22;break}return t.next=22,e.videoContainer.setCurrentTime(c.time-o);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(t){return l.apply(this,arguments)}function l(){return(l=o(regeneratorRuntime.mark((function t(e){var n,r,o,i,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a(e),r=e.videoContainer,o=r.isTrimEnabled?r.trimStart:0,t.t0=Math,t.next=6,r.currentTime();case 6:if(t.t1=t.sent,t.t2=t.t0.trunc.call(t.t0,t.t1),t.t3=o,i=t.t2+t.t3,s=null,n.some((function(t){return t.time<i&&(s=t),t.time>=i})),!s){t.next=16;break}return c=s.time<o?o:s.time,t.next=16,e.videoContainer.setCurrentTime(c-o);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n.d(e,{$D:()=>i,Xs:()=>a,oy:()=>s,V4:()=>u})},769:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(995);const o=JSON.parse('{"u2":"paella-slide-plugins","i8":"1.8.1"}');var i={},a=n(456);a.keys().forEach((function(t){var e=/([a-z-]+[A-Z_]+)\.json/.exec(t),n=e&&e[1];if(n){var r=a(t);i[n]=r;var o=n.substring(0,2);o in i||(i[o]=r)}}));const s=i;function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(d,t);var e,n,r,i,a,c,p=(a=d,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(a);if(c){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),p.apply(this,arguments)}return e=d,n=[{key:"moduleName",get:function(){return o.u2}},{key:"moduleVersion",get:function(){return o.i8}},{key:"getDictionaries",value:(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s);case 1:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){u(i,n,o,a,s,"next",t)}function s(t){u(i,n,o,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),d}(r.PluginModule)},516:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(995),o=n(650),i=n(379),a=n.n(i),s=n(35);a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;var c=n(259),u=n.n(c),l=n(722),f=n.n(l);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function p(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){p(i,r,o,a,s,"next",t)}function s(t){p(i,r,o,a,s,"throw",t)}a(void 0)}))}}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(l,t);var e,n,i,a,s,c=(a=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(a);if(s){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),c.apply(this,arguments)}return e=l,n=[{key:"events",get:function(){return[r.Events.PLAYER_LOADED]}},{key:"onEvent",value:(i=d(regeneratorRuntime.mark((function t(e){var n,i,a,s,c,l,h,p,y=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=this.player.getCustomPluginIcon(this.name,"arrowLeftIcon")||u(),a=this.player.getCustomPluginIcon(this.name,"arrowRightIcon")||f(),console.debug("Loading arrow slides navigation plugin"),s=Array.isArray(this.config.target)?this.config.target:[this.config.target],c=this.player.videoContainer.streamProvider.streams,l=s.find((function(t){return null!==c[t]})),h=c[l],this.frames=(0,o.Xs)(this.player),h&&null!==(n=this.frames)&&void 0!==n&&n.length?(p=(0,r.createElementWithHtmlText)('<div class="arrow-slides-navigator"></div>',h.canvas.userArea),(0,r.createElementWithHtmlText)('\n            <button class="button-prev"><i>'.concat(i,"</i></button>\n            "),p).addEventListener("click",function(){var t=d(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stopPropagation(),t.next=3,(0,o.V4)(y.player);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,r.createElementWithHtmlText)('\n            <button class="button-next"><i>'.concat(a,"</i></button>\n            "),p).addEventListener("click",function(){var t=d(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stopPropagation(),t.next=3,(0,o.oy)(y.player);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):console.warn("No matching stream content or frames found for arrow slides navigator plugin");case 9:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),l}(r.EventLogPlugin)},588:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>A});var r=n(995),o=n(741),i=n.n(o),a=n(259),s=n.n(a),c=n(722),u=n.n(c),l=n(379),f=n.n(l),h=n(895);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)}))}}function v(t,e,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},v(t,e,n||t)}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function m(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t,e){null==e||e.forEach((function(t){return t.classList.remove("selected")})),t.classList.add("selected")}f()(h.Z,{insert:"head",singleton:!1}),h.Z.locals;var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(p,t);var e,n,o,a,c,l,f,h=(l=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(l);if(f){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return m(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),h.apply(this,arguments)}return e=p,n=[{key:"getAriaLabel",value:function(){return"Show slides"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"popUpType",get:function(){return"timeline"}},{key:"isEnabled",value:(c=y(regeneratorRuntime.mark((function t(){var e,n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(b(p.prototype),"isEnabled",this).call(this);case 2:return o=t.sent,this.frames=null===(e=this.player.videoManifest)||void 0===e?void 0:e.frameList,null===(n=this.frames)||void 0===n||n.sort((function(t,e){return t.time-e.time})),t.abrupt("return",o&&(null===(r=this.frames)||void 0===r?void 0:r.length));case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getContent",value:(a=y(regeneratorRuntime.mark((function t(){var e,n,o,i,a,c,l,f,h,p,d,v,g,m=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.player.getCustomPluginIcon(this.name,"arrowLeftIcon")||s(),n=this.player.getCustomPluginIcon(this.name,"arrowRightIcon")||u(),o=this.config.targetContent||"presentation",i=(0,r.createElementWithHtmlText)('<div class="frame-control-plugin-container"></div>'),a=(0,r.createElementWithHtmlText)('<div class="image-list"></div>',i),c=(0,r.createElementWithHtmlText)('<button class="btn-left"><i class="button-icon">'.concat(e,"</i></button>"),i),l=(0,r.createElementWithHtmlText)('<button class="btn-right"><i class="button-icon">'.concat(n,"</i></button>"),i),f=this.player.videoContainer,t.next=10,f.duration();case 10:return h=t.sent,p=f.isTrimEnabled?f.trimStart:0,d=f.isTrimEnabled?f.trimEnd:h,v=function(t){return t=m.player.videoContainer.isTrimEnabled?t-m.player.videoContainer.trimStart:t,r.utils.secondsToTime(t<0?0:t)},this.frameElements=this.frames.filter((function(t,e){var n=m.frames[e+1];return((null==n?void 0:n.time)>=p||t.time>=p)&&t.time<=d})).map((function(t){var e="".concat(m.player.translate("go to")," ").concat(v(t.time)),n=(0,r.createElementWithHtmlText)('\n                <button id="frame_'.concat(t.id,'" aria-label="').concat(e,'" title="').concat(e,'"><img src="').concat(t.thumb,'" alt="').concat(t.id,'"/></button>\n                '),a);return n.__data=t,n.addEventListener("click",function(){var t=y(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.currentTarget.__data.time-p,t.next=3,m.player.videoContainer.setCurrentTime(n>=0?n:0);case 3:w(e.currentTarget,m.frameElements);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.addEventListener("mouseover",function(){var e=y(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m._currentFrame&&m.player.videoContainer.removeChild(m._currentFrame),(r=document.createElement("img")).className="frame-control-preview",r.src=t.url,i=m.player.videoContainer.getVideoRect(o),m._currentFrame=m.player.videoContainer.appendChild(r,i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.addEventListener("mouseout",function(){var t=y(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m._currentFrame&&(m.player.videoContainer.removeChild(m._currentFrame),m._currentFrame=null);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n})),g=function(){return 20*a.offsetWidth/100},c.addEventListener("click",(function(){a.scrollLeft-=g()})),l.addEventListener("click",(function(){a.scrollLeft+=g()})),setTimeout((function(){return m.frameElements[0]&&m.frameElements[0].focus()}),50),t.abrupt("return",i);case 20:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(o=y(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"photoIcon")||i(),(0,r.bindEvent)(this.player,r.Events.TIMEUPDATE,function(){var t=y(regeneratorRuntime.mark((function t(n){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.player.videoContainer.isTrimEnabled?e.player.videoContainer.trimStart:0,i=e.frameElements&&e.frameElements[0],null===(r=e.frameElements)||void 0===r||r.some((function(t){if(t.__data.time>Math.floor(n.currentTime+o+3))return!0;i=t})),i&&w(i,e.frameElements);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,r.bindEvent)(this.player,r.Events.TRIMMING_CHANGED,(function(t){e.refreshContent=!0}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),p}(r.PopUpButtonPlugin)},797:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(995),o=n(650),i=n(722),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},l(t,e,n||t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,t);var e,n,r,i,s,c,d,y=(c=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(c);if(d){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,n=[{key:"getAriaLabel",value:function(){return this.getDescription()}},{key:"getDescription",value:function(){return"Seek video to the next slide"}},{key:"isEnabled",value:(s=u(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(p(v.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&(0,o.$D)(this.player));case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(i=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"arrowRightIcon")||a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.oy)(this.player);case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.CanvasButtonPlugin)},835:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(995),o=n(650),i=n(259),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},l(t,e,n||t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,t);var e,n,r,i,s,c,d,y=(c=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(c);if(d){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,n=[{key:"getAriaLabel",value:function(){return this.getDescription()}},{key:"getDescription",value:function(){return"Seek video to the previous slide"}},{key:"isEnabled",value:(s=u(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(p(v.prototype),"isEnabled",this).call(this);case 2:return e=t.sent,t.abrupt("return",e&&(0,o.$D)(this.player));case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(i=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"arrowLeftIcon")||a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.V4)(this.player);case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.CanvasButtonPlugin)},244:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,c,"next",t)}function c(t){o(a,r,i,s,c,"throw",t)}s(void 0)}))}}function a(t,e,n){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},a(t,e,n||t)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,n,r,o,l,f,h=(l=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(l);if(f){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),h.apply(this,arguments)}return e=p,n=[{key:"isEnabled",value:(o=i(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(u(p.prototype),"isEnabled",this).call(this);case 2:return n=t.sent,t.abrupt("return",n&&(null===(e=this.player.videoManifest.frameList)||void 0===e?void 0:e.length)>0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"load",value:(r=i(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._drawBackground=this.config.drawBackground||!1,this.strokeOut=(null===(e=this.config.markColor)||void 0===e?void 0:e.mouseOut)||"#0A0A0A",this.strokeHover=(null===(n=this.config.markColor)||void 0===n?void 0:n.mouseHover)||"#A9A9A9",this.strokeWidth=this.config.markWidth||3,t.next=6,this.player.videoContainer.duration();case 6:r=t.sent,this._frames=this.player.videoManifest.frameList.map((function(t){return t.time/r}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"drawForeground",value:function(t,e,n,r){this._drawBackground||(t.strokeStyle=r?this.strokeHover:this.strokeOut,t.lineWidth=this.strokeWidth,this._frames.forEach((function(r){var o=r*e;t.beginPath(),t.moveTo(o,0),t.lineTo(o,n),t.stroke()})))}},{key:"drawBackground",value:function(t,e,n,r){this._drawBackground&&(t.strokeStyle=r?this.strokeHover:this.strokeOut,t.lineWidth=this.strokeWidth,this._frames.forEach((function(r){var o=r*e;t.beginPath(),t.moveTo(o,0),t.lineTo(o,n),t.stroke()})))}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),p}(n(995).ProgressIndicatorPlugin)},35:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"\n.arrow-slides-navigator {\n    pointer-events: all;\n    display: flex;\n    justify-content: space-between;\n    height: 100%;\n}\n\n.arrow-slides-navigator button.button-prev:hover {\n    background: linear-gradient(-90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button.button-next:hover {\n    background: linear-gradient(90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button {\n    background: none;\n    border: none;\n    outline: none;\n}\n\n.arrow-slides-navigator button i {\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.arrow-slides-navigator button i svg {\n    fill: black;\n    stroke: white;\n    stroke-width: 4px;\n}","",{version:3,sources:["webpack://./src/styles/arrowSlidesNavigator.css"],names:[],mappings:";AACA;IACI,mBAAmB;IACnB,aAAa;IACb,8BAA8B;IAC9B,YAAY;AAChB;;AAEA;IACI;AACJ;;AAEA;IACI;AACJ;;AAEA;IACI,gBAAgB;IAChB,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,cAAc;AAClB;;AAEA;IACI,WAAW;IACX,aAAa;IACb,iBAAiB;AACrB",sourcesContent:["\n.arrow-slides-navigator {\n    pointer-events: all;\n    display: flex;\n    justify-content: space-between;\n    height: 100%;\n}\n\n.arrow-slides-navigator button.button-prev:hover {\n    background: linear-gradient(-90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button.button-next:hover {\n    background: linear-gradient(90deg, rgba(-1,0,0,0) 0%, rgba(0,0,0,0.1) 100%)\n}\n\n.arrow-slides-navigator button {\n    background: none;\n    border: none;\n    outline: none;\n}\n\n.arrow-slides-navigator button i {\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.arrow-slides-navigator button i svg {\n    fill: black;\n    stroke: white;\n    stroke-width: 4px;\n}"],sourceRoot:""}]);const s=a},895:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"\n.frame-control-plugin-container {\n    position: relative;\n    height: 100px;\n}\n\n.frame-control-plugin-container .btn-left {\n    position: absolute;\n    left: 0px;\n    top: -10px;\n    bottom: -10px;\n    background: linear-gradient(\n        90deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list {\n    display: flex;\n    flex-wrap: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden;\n    padding-left: 30px;\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    bottom: 0px;\n}\n\n.frame-control-plugin-container .btn-right {\n    position: absolute;\n    right: 0px;\n    top: -11px;\n    bottom: -10px;\n    background: linear-gradient(\n        270deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list a {\n    margin: 3px;\n    min-width: 160px;\n}\n\n.frame-control-plugin-container .image-list a:last-child {\n    border-right: 110px solid transparent;\n}\n\n.frame-control-plugin-container .image-list img {\n    pointer-events: none;\n}\n\n.frame-control-plugin-container .image-list a {\n    opacity: 0.5;\n    overflow: hidden;\n}\n\n.frame-control-plugin-container .image-list a:hover {\n    opacity: 1;\n    cursor: pointer;\n}\n\n.frame-control-plugin-container button {\n    background-color: transparent;\n    border: 0px;\n}\n\n.frame-control-plugin-container .button-icon {\n    display: block;\n    width: 15px;\n}\n\n.frame-control-plugin-container .button-icon svg {\n    fill: white;\n}\n\n.frame-control-plugin-container .image-list a.selected {\n    border: 2px solid red;\n    opacity: 0.8;\n}\n\n.frame-control-plugin-container .image-list a.selected:hover {\n    border: 2px solid red;\n    opacity: 1;\n}","",{version:3,sources:["webpack://./src/styles/frameControlButton.css"],names:[],mappings:";AACA;IACI,kBAAkB;IAClB,aAAa;AACjB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,aAAa;IACb;;kDAE8C;IAC9C,kBAAkB;AACtB;;AAEA;IACI,aAAa;IACb,iBAAiB;IACjB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,SAAS;IACT,UAAU;IACV,QAAQ;IACR,WAAW;AACf;;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,UAAU;IACV,aAAa;IACb;;kDAE8C;IAC9C,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,qCAAqC;AACzC;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI,YAAY;IACZ,gBAAgB;AACpB;;AAEA;IACI,UAAU;IACV,eAAe;AACnB;;AAEA;IACI,6BAA6B;IAC7B,WAAW;AACf;;AAEA;IACI,cAAc;IACd,WAAW;AACf;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,qBAAqB;IACrB,YAAY;AAChB;;AAEA;IACI,qBAAqB;IACrB,UAAU;AACd",sourcesContent:["\n.frame-control-plugin-container {\n    position: relative;\n    height: 100px;\n}\n\n.frame-control-plugin-container .btn-left {\n    position: absolute;\n    left: 0px;\n    top: -10px;\n    bottom: -10px;\n    background: linear-gradient(\n        90deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list {\n    display: flex;\n    flex-wrap: nowrap;\n    overflow-y: hidden;\n    overflow-x: hidden;\n    padding-left: 30px;\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    bottom: 0px;\n}\n\n.frame-control-plugin-container .btn-right {\n    position: absolute;\n    right: 0px;\n    top: -11px;\n    bottom: -10px;\n    background: linear-gradient(\n        270deg\n        , rgba(65,65,65,1) 0%, rgba(0,0,0,0) 100%);\n    border-radius: 6px;\n}\n\n.frame-control-plugin-container .image-list a {\n    margin: 3px;\n    min-width: 160px;\n}\n\n.frame-control-plugin-container .image-list a:last-child {\n    border-right: 110px solid transparent;\n}\n\n.frame-control-plugin-container .image-list img {\n    pointer-events: none;\n}\n\n.frame-control-plugin-container .image-list a {\n    opacity: 0.5;\n    overflow: hidden;\n}\n\n.frame-control-plugin-container .image-list a:hover {\n    opacity: 1;\n    cursor: pointer;\n}\n\n.frame-control-plugin-container button {\n    background-color: transparent;\n    border: 0px;\n}\n\n.frame-control-plugin-container .button-icon {\n    display: block;\n    width: 15px;\n}\n\n.frame-control-plugin-container .button-icon svg {\n    fill: white;\n}\n\n.frame-control-plugin-container .image-list a.selected {\n    border: 2px solid red;\n    opacity: 0.8;\n}\n\n.frame-control-plugin-container .image-list a.selected:hover {\n    border: 2px solid red;\n    opacity: 1;\n}"],sourceRoot:""}]);const s=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},15:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r=(4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),4!==n.length);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,4);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,4):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[1],i=r[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),c="/*# ".concat(s," */"),u=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([c]).join("\n")}return[o].join("\n")}},379:(t,e,n)=>{"use strict";var r,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],o=0;o<t.length;o++){var s=t[o],c=e.base?s[0]+e.base:s[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var f=a(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(i[f].references++,i[f].updater(h)):i.push({identifier:l,updater:y(h,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function f(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function h(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function y(t,e){var n,r,o;if(e.singleton){var i=d++;n=p||(p=c(e)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=c(e),r=h.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var c=s(t,e),u=0;u<n.length;u++){var l=a(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=c}}}},259:t=>{t.exports='<svg viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(4.38063e-16,11.4236,8.46191,-3.24491e-16,68.8773,-7740.5)"><g id="arrow-right" serif:id="arrow right"><path d="M698.36,2.82C698.726,2.08 699.341,1.636 700,1.636C700.659,1.636 701.274,2.08 701.64,2.82C705.27,10.172 713.981,27.811 717.958,35.864C718.361,36.68 718.398,37.73 718.055,38.595C717.712,39.46 717.045,40 716.318,40L683.682,40C682.955,40 682.288,39.46 681.945,38.595C681.602,37.73 681.639,36.68 682.042,35.864C686.019,27.811 694.73,10.172 698.36,2.82Z"></path></g></g></svg>'},722:t=>{t.exports='<svg viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g transform="matrix(-1.83705e-15,-11.4236,-8.46191,1.36078e-15,452.158,8252.5)"><g id="arrow-right" serif:id="arrow right"><path d="M698.36,2.82C698.726,2.08 699.341,1.636 700,1.636C700.659,1.636 701.274,2.08 701.64,2.82C705.27,10.172 713.981,27.811 717.958,35.864C718.361,36.68 718.398,37.73 718.055,38.595C717.712,39.46 717.045,40 716.318,40L683.682,40C682.955,40 682.288,39.46 681.945,38.595C681.602,37.73 681.639,36.68 682.042,35.864C686.019,27.811 694.73,10.172 698.36,2.82Z"></path></g></g></svg>'},741:t=>{t.exports='<svg viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M23,29.888L0,29.888L0,7.888L23,7.888L23,29.888ZM11,6.888L8.903,6.888L10.5,0L33,5.817L27,27.888L24,27.388L23.994,20.288L27,20.888L30.519,7.199L11.933,2.394L11,6.888ZM21,9.888L1.969,9.888L1.969,23.888L21,23.888L21,9.888ZM7.912,19.349L10.236,15.813L12.561,18.017L15.757,13.49L19,21.888L3.939,21.888L6.169,17.726L7.912,19.349ZM6.473,15.608C5.647,15.608 4.977,14.966 4.977,14.173C4.977,13.381 5.647,12.739 6.473,12.739C7.299,12.739 7.969,13.381 7.969,14.173C7.969,14.966 7.299,15.608 6.473,15.608Z"></path></svg>'},456:(t,e,n)=>{var r={"./en-US.json":263,"./es-ES.json":992};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=456},757:(t,e,n)=>{var r={"./SlidePluginsModule.js":769,"./es.upv.paella.arrowSlidesNavigator.js":516,"./es.upv.paella.frameControlButtonPlugin.js":588,"./es.upv.paella.nextSlideNavigatorButton.js":797,"./es.upv.paella.prevSlideNavigatorButton.js":835,"./es.upv.paella.slideMapProgressBarPlugin.js":244};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757},995:t=>{"use strict";t.exports=r},263:t=>{"use strict";t.exports=JSON.parse('{"Show slides":"Show slides","go to":"go to"}')},992:t=>{"use strict";t.exports=JSON.parse('{"Show slides":"Mostrar diapositivas del vídeo","go to":"ir a"}')}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{default:()=>c,ArrowSlidesPlugin:()=>u,FrameControlButtonPlugin:()=>l,SlideMapProgressBarPlugin:()=>f,NextSlideNavigatorButtonPlugin:()=>h,PrevSlideNavigatorButtonPlugin:()=>p,utils:()=>d});var t=n(516),e=n(588),r=n(244),i=n(797),a=n(835),s=n(650);function c(){return n(757)}var u=t.default,l=e.default,f=r.default,h=i.default,p=a.default,d={nextSlide:s.oy,previousSlide:s.V4,checkSlides:s.$D,getFrames:s.Xs}})(),o})())},509:(t,e,n)=>{var r;self,r=t=>(()=>{var e={111:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}n.r(e),n.d(e,{default:()=>a});var a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,t);var e,n,a,s,c=(a=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=i(a);if(s){var n=i(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"moduleName",get:function(){return"paella-teltek-plugins"}},{key:"moduleVersion",get:function(){return"1.0.16"}}])&&function(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(995).PluginModule)},249:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>L});var r=n(995),o=n(379),i=n.n(o),a=n(795),s=n.n(a),c=n(569),u=n.n(c),l=n(565),f=n.n(l),h=n(216),p=n.n(h),d=n(589),y=n.n(d),v=n(707),g={};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(){b=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==e&&n.call(g,i)&&(y=g);var w=d.prototype=h.prototype=Object.create(y);function A(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==m(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(w,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),c(w,s,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function w(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function A(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){w(i,r,o,a,s,"next",t)}function s(t){w(i,r,o,a,s,"throw",t)}a(void 0)}))}}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},x.apply(this,arguments)}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function k(){this.liveIndicatorContainer.innerHTML="",(0,r.createElementWithHtmlText)('\n    <div class="live-indicator-block-parent">\n      <span class="live-indicator">\n          <i class="fa fa-circle blink" aria-hidden="true"></i>Live\n      </span>\n    </div>\n    ',this.liveIndicatorContainer),this.liveIndicatorContainer.style.display="inline-block"}g.styleTagTransform=y(),g.setAttributes=f(),g.insert=u().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),i()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(l,t);var e,n,o,i,a,s,c,u=(s=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=C(s);if(c){var n=C(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),u.apply(this,arguments)}return e=l,n=[{key:"getContent",value:(a=A(b().mark((function t(){var e;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoManifest;case 2:return e=t.sent,t.abrupt("return",(0,r.createElementWithHtmlText)("<p>"+e.metadata.title+"</p>"));case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"popUpType",get:function(){return"modal"}},{key:"getAriaLabel",value:function(){return"Live streaming"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"className",get:function(){return"live-indicator-block"}},{key:"liveIndicatorContainer",get:function(){return this.leftArea}},{key:"isEnabled",value:(i=A(b().mark((function t(){var e;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(C(l.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.player.videoManifest;case 6:return e=t.sent,t.abrupt("return",void 0!==e.metadata.isStreaming&&!0===e.metadata.isStreaming);case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"load",value:(o=A(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k.apply(this);case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.PopUpButtonPlugin)},48:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>_});var r=n(995),o=n(819),i=n.n(o),a=n(379),s=n.n(a),c=n(795),u=n.n(c),l=n(569),f=n.n(l),h=n(565),p=n.n(h),d=n(216),y=n.n(d),v=n(589),g=n.n(v),m=n(314),b={};function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function A(){A=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==w(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function x(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,s,"next",t)}function s(t){x(i,r,o,a,s,"throw",t)}a(void 0)}))}}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},C.apply(this,arguments)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}b.styleTagTransform=g(),b.setAttributes=p(),b.insert=f().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=y(),s()(m.Z,b),m.Z&&m.Z.locals&&m.Z.locals;var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(l,t);var e,n,r,o,a,s,c,u=(s=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=L(s);if(c){var n=L(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),u.apply(this,arguments)}return e=l,n=[{key:"getAriaLabel",value:function(){return"Picture in picture mode"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"className",get:function(){return"pip-block"}},{key:"isEnabled",value:(a=E(A().mark((function t(){var e;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(L(l.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return e=document.body.getElementsByClassName("video-player"),t.abrupt("return",1===e.length);case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"load",value:(o=E(A().mark((function t(){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=i();case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"action",value:(r=E(A().mark((function t(){var e;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=document.body.getElementsByClassName("video-player")[0]).webkitSetPresentationMode?"picture-in-picture"===e.webkitPresentationMode?e.webkitSetPresentationMode("inline"):e.webkitSetPresentationMode("picture-in-picture"):"pictureInPictureEnabled"in document&&(e!==document.pictureInPictureElement?e.requestPictureInPicture():document.exitPictureInPicture());case 2:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==w(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===w(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.ButtonPlugin)},717:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>_});var r=n(995),o=n(897),i=n.n(o),a=n(379),s=n.n(a),c=n(795),u=n.n(c),l=n(569),f=n.n(l),h=n(565),p=n.n(h),d=n(216),y=n.n(d),v=n(589),g=n.n(v),m=n(638),b={};function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function A(){A=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==w(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function x(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,s,"next",t)}function s(t){x(i,r,o,a,s,"throw",t)}a(void 0)}))}}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},C.apply(this,arguments)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}b.styleTagTransform=g(),b.setAttributes=p(),b.insert=f().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=y(),s()(m.Z,b),m.Z&&m.Z.locals&&m.Z.locals;var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(h,t);var e,n,o,a,s,c,u,l,f=(u=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=L(u);if(l){var n=L(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),f.apply(this,arguments)}return e=h,n=[{key:"getMenu",value:(c=E(A().mark((function t(){var e,n;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoManifest;case 2:return e=t.sent,n=[],e.playlist.videos.forEach((function(t){n.push({id:t.videoURL,title:t.title,pos:t.pos})})),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getAriaLabel",value:function(){return"Video playlist"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"className",get:function(){return"playlist-button"}},{key:"isEnabled",value:(s=E(A().mark((function t(){var e;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(L(h.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.player.videoManifest;case 6:return e=t.sent,t.abrupt("return",void 0!==e.playlist&&e.playlist.videos&&e.playlist.videos.length>0);case 8:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(a=E(A().mark((function t(){var e;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.icon=i(),t.next=3,this.player.videoManifest;case 3:e=t.sent,(0,r.bindEvent)(this.player,r.Events.ENDED,(function(){var t=S(e);!1!==t&&(window.location.href=t)}),!1);case 5:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"itemSelected",value:(o=E(A().mark((function t(e){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.location.href=e.id;case 1:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==w(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===w(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),h}(r.MenuButtonPlugin);function S(t){var e=new URL(window.location.href),n=new URLSearchParams(e.search).get("pos");null===n&&(n=t.playlist.playlistPos);var r=parseInt(n)+1;return t.playlist.videos.length>n&&t.playlist.videos.find((function(t){return parseInt(t.pos)===r})).videoURL}},371:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(995);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,a,s,c){var u=h(t[r],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c)}),(function(t){i("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,c)}))}c(u.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=h(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function a(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,c,"next",t)}function c(t){a(i,r,o,s,c,"throw",t)}s(void 0)}))}}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(d,t);var e,n,a,l,f,h,p=(f=d,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(f);if(h){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),p.apply(this,arguments)}return e=d,n=[{key:"load",value:(l=s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})},{key:"events",get:function(){return[r.Events.PLAYER_LOADED]}},{key:"onEvent",value:(a=s(i().mark((function t(e,n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.player.videoManifest;case 2:r=t.sent,fetch("/mediaplayed/"+r.metadata.id).then((function(t){console.log("Increase view for video with ID: "+r.metadata.id)}));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),d}(r.EventLogPlugin)},730:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>k,loadBreaks:()=>C});var r=n(995),o=n(379),i=n.n(o),a=n(795),s=n.n(a),c=n(569),u=n.n(c),l=n(565),f=n.n(l),h=n(216),p=n.n(h),d=n(589),y=n.n(d),v=n(705),g={};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function A(){A=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==e&&n.call(g,i)&&(y=g);var b=d.prototype=h.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==m(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),c(b,s,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function x(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,s,"next",t)}function s(t){x(i,r,o,a,s,"throw",t)}a(void 0)}))}}g.styleTagTransform=y(),g.setAttributes=f(),g.insert=u().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),i()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var C=function(){var t=E(A().mark((function t(e,n){var r,o,i,a,s,c,u;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,fetch("/annotation/annotations.json?episode=".concat(n)+"&type=paella%2Fbreaks&day=&limit=1&offset=0");case 3:if(!(o=t.sent).ok){t.next=16;break}return t.prev=5,t.next=8,o.json();case 8:c=t.sent,u=Array.isArray(null===(i=c.annotations)||void 0===i?void 0:i.annotation)?null===(a=c.annotations)||void 0===a?void 0:a.annotation[0]:null===(s=c.annotations)||void 0===s?void 0:s.annotation,JSON.parse(u.value).breaks.forEach((function(t){var e=t.id,n=t.e,o=t.s,i=t.text;r.push({id:e,s:o,e:n,text:i})})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e.log.warn("Error loading breaks annotations");case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}(),k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(f,t);var e,n,o,i,a,s,c,u,l=(c=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(c);if(u){var n=w(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),l.apply(this,arguments)}return e=f,n=[{key:"load",value:(s=E(A().mark((function t(){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})},{key:"events",get:function(){return[r.Events.PLAYER_LOADED,r.Events.TIMEUPDATE,r.Events.SEEK]}},{key:"onEvent",value:(a=E(A().mark((function t(e,n){var o;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(null==n?void 0:n.currentTime)||n.newTime,e!==r.Events.PLAYER_LOADED){t.next=8;break}return t.next=4,C(this.player,this.player.videoId);case 4:this._breaks=t.sent,this._breaks.sort((function(t,e){return t.s-e.s})),t.next=17;break;case 8:if(!this._breaks||!o){t.next=17;break}if(e!==r.Events.TIMEUPDATE){t.next=14;break}return t.next=12,this.checkTimeupdate(o);case 12:t.next=17;break;case 14:if(e!==r.Events.SEEK){t.next=17;break}return t.next=17,this.checkSeek(o);case 17:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"checkTimeupdate",value:(i=E(A().mark((function t(e){var n,r;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.currentBreak(e),t.next=3,this.player.paused();case 3:if(r=t.sent,!n||r){t.next=7;break}return t.next=7,this.player.videoContainer.setCurrentTime(this.trimTime(n.e+.1));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"checkSeek",value:(o=E(A().mark((function t(e){var n,r;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.currentBreak(e),t.next=3,this.player.paused();case 3:r=t.sent,this.clearPausedMessage(),n&&r&&this.setPausedMessage(n.text);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"currentBreak",value:function(t){return t=this.untrimTime(t),this._breaks.find((function(e){return e.s<=t&&e.e>=t}))}},{key:"untrimTime",value:function(t){return this.player.videoContainer.isTrimEnabled&&this.player.videoContainer.trimStart>t?this.player.videoContainer.trimStart:t}},{key:"trimTime",value:function(t){return this.player.videoContainer.isTrimEnabled&&this.player.videoContainer.trimEnd<t?(this.player.stop(),this.player.videoContainer.trimEnd):t}},{key:"clearPausedMessage",value:function(){}},{key:"setPausedMessage",value:function(t){}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),f}(r.EventLogPlugin)},705:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(537),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,".breaks-plugin-message {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    padding: 25% 0;\n    z-index: 100;\n    font-size: 40px;\n    background-color: rgba(0,0,0,0.6);\n    color: white;\n    box-sizing: border-box;\n}\n","",{version:3,sources:["webpack://./src/css/BreaksPlugin.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,MAAM;IACN,OAAO;IACP,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,cAAc;IACd,YAAY;IACZ,eAAe;IACf,iCAAiC;IACjC,YAAY;IACZ,sBAAsB;AAC1B",sourcesContent:[".breaks-plugin-message {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    padding: 25% 0;\n    z-index: 100;\n    font-size: 40px;\n    background-color: rgba(0,0,0,0.6);\n    color: white;\n    box-sizing: border-box;\n}\n"],sourceRoot:""}]);const s=a},707:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(537),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,".live-indicator-block {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n}\n.live-indicator {\n    font-family: 'Roboto', sans-serif;\n    background: transparent;\n    color: #fff;\n    padding: 6px 7px;\n    line-height: 1;\n    border-radius: 6px;\n    text-transform: uppercase;\n    display: inline-block;\n    vertical-align: middle;\n    font-size: 12px;\n    font-weight: bold;\n    width: auto;\n}\n.blink {\n    animation: blinker 1s cubic-bezier(0.5, 0, 1, 1) infinite alternate;\n    font-size: 10px;\n    margin-right: 5px;\n    vertical-align: baseline;\n}\n\n@keyframes blinker {\n    from { opacity: 1; }\n    to { opacity: 0; }\n}\n\n.live-indicator-block i {\n    display: none !important;\n}\n\n.live-indicator-block:hover {\n    background-color: transparent !important;\n}\n","",{version:3,sources:["webpack://./src/css/liveIndicatorButton.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,SAAS;IACT,QAAQ;IACR,gCAAgC;AACpC;AACA;IACI,iCAAiC;IACjC,uBAAuB;IACvB,WAAW;IACX,gBAAgB;IAChB,cAAc;IACd,kBAAkB;IAClB,yBAAyB;IACzB,qBAAqB;IACrB,sBAAsB;IACtB,eAAe;IACf,iBAAiB;IACjB,WAAW;AACf;AACA;IACI,mEAAmE;IACnE,eAAe;IACf,iBAAiB;IACjB,wBAAwB;AAC5B;;AAEA;IACI,OAAO,UAAU,EAAE;IACnB,KAAK,UAAU,EAAE;AACrB;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI,wCAAwC;AAC5C",sourcesContent:[".live-indicator-block {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n}\n.live-indicator {\n    font-family: 'Roboto', sans-serif;\n    background: transparent;\n    color: #fff;\n    padding: 6px 7px;\n    line-height: 1;\n    border-radius: 6px;\n    text-transform: uppercase;\n    display: inline-block;\n    vertical-align: middle;\n    font-size: 12px;\n    font-weight: bold;\n    width: auto;\n}\n.blink {\n    animation: blinker 1s cubic-bezier(0.5, 0, 1, 1) infinite alternate;\n    font-size: 10px;\n    margin-right: 5px;\n    vertical-align: baseline;\n}\n\n@keyframes blinker {\n    from { opacity: 1; }\n    to { opacity: 0; }\n}\n\n.live-indicator-block i {\n    display: none !important;\n}\n\n.live-indicator-block:hover {\n    background-color: transparent !important;\n}\n"],sourceRoot:""}]);const s=a},314:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(537),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const s=a},638:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(537),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const s=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],u=r.base?c[0]+r.base:c[0],l=i[u]||0,f="".concat(u," ").concat(l);i[u]=l+1;var h=n(f),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var d=o(p,r);r.byIndex=s,e.splice(s,0,{identifier:f,updater:d,references:1})}a.push(f)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var c=r(t,o),u=0;u<i.length;u++){var l=n(i[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},819:t=>{t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="#000000" class="bi bi-pip"><path d="M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5v-9zM1.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z"></path><path d="M8 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-3z"></path></svg>'},897:t=>{t.exports='<svg fill="#000000" viewBox="0 0 32 32" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:serif="http://www.serif.com/" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icon"><path d="M5.011,19l21.989,-0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1l-21.989,0c-0.552,0 -1,0.448 -1,1c-0,0.552 0.448,1 1,1Z"></path><path d="M5.019,28l21.981,-0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1l-21.981,0c-0.552,0 -1,0.448 -1,1c0,0.552 0.448,1 1,1Z"></path><path d="M15.994,10l11.006,0c0.552,-0 1,-0.448 1,-1c-0,-0.552 -0.448,-1 -1,-1l-11.006,0c-0.552,-0 -1,0.448 -1,1c-0,0.552 0.448,1 1,1Z"></path><path d="M12.496,9.868c0.312,-0.178 0.504,-0.509 0.504,-0.868c-0,-0.359 -0.192,-0.69 -0.504,-0.868l-7,-4c-0.309,-0.177 -0.69,-0.176 -0.998,0.003c-0.308,0.179 -0.498,0.509 -0.498,0.865l0,8c0,0.356 0.19,0.686 0.498,0.865c0.308,0.179 0.689,0.18 0.998,0.003l7,-4Zm-2.512,-0.868l-3.984,2.277c0,-0 0,-4.554 0,-4.554l3.984,2.277Z"></path></g></svg>'},757:(t,e,n)=>{var r={"./TeltekPluginsModule.js":111,"./es.teltek.paella.liveIndicatorButtonPlugin.js":249,"./es.teltek.paella.pipButtonPlugin.js":48,"./es.teltek.paella.playlistButtonPlugin.js":717,"./es.teltek.paella.viewsPlugin.js":371,"./org.opencast.paella.breaksPlugin.js":730};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757},995:e=>{"use strict";e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nc=void 0;var o={};return(()=>{"use strict";r.r(o),r.d(o,{BreaksPlugin:()=>f,LiveIndicatorPlugin:()=>l,PipButtonPlugin:()=>c,PlaylistButtonPlugin:()=>u,ViewsPlugin:()=>h,default:()=>s});var t=r(48),e=r(717),n=r(249),i=r(730),a=r(371);function s(){return r(757)}var c=t.default,u=e.default,l=n.default,f=i.default,h=a.default})(),o})(),t.exports=r(n(351))},109:(t,e,n)=>{var r;self,r=t=>(()=>{var e={263:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}n.r(e),n.d(e,{default:()=>s});var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(u,t);var e,n,r,s,c=(r=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=a(r);if(s){var n=a(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return i(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"moduleName",get:function(){return"paella-user-tracking"}},{key:"moduleVersion",get:function(){return"1.8.0"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(995).PluginModule)},561:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){o=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new _(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=h(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return y.prototype=v,i(w,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function i(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)}))}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(p,t);var e,n,r,i,l,f,h=(l=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(l);if(f){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),h.apply(this,arguments)}return e=p,n=[{key:"load",value:(i=a(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.config.trackingId,n=this.config.domain||"auto",e?(this.player.log.debug("Google Analytics Enabled"),function(t,e,n,r,o,i,a){t.GoogleAnalyticsObject=o,t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments)},t[o].l=1*new Date,i=e.createElement(n),a=e.getElementsByTagName(n)[0],i.async=1,i.src="//www.google-analytics.com/analytics.js",a.parentNode.insertBefore(i,a)}(window,document,"script",0,"__gaTracker"),__gaTracker("create",e,n),__gaTracker("send","pageview")):this.player.log.debug("No Google Tracking ID found in config file. Disabling Google Analytics");case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"write",value:(r=a(o().mark((function t(e,n,r){var i,a,s,c,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.id,void 0===this.config.category||!0===this.config.category){a=this.config.category||"PaellaPlayer",s=r.event,c={videoId:i,plugin:r.plugin};try{JSON.stringify(r.params),c.params=r.params}catch(t){}u=JSON.stringify(c),__gaTracker(" send","event",a,s,u)}case 2:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),p}(n(995).DataPlugin)},931:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){o=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new _(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=h(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return y.prototype=v,i(w,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function i(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}n.r(e),n.d(e,{default:()=>u});var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(p,t);var e,n,r,u,l,f,h=(l=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(l);if(f){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return s(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),h.apply(this,arguments)}return e=p,n=[{key:"write",value:(r=o().mark((function t(e,n,r){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.id,console.log("id: ".concat(i),e,r);case 2:case"end":return t.stop()}}),t)})),u=function(){var t=this,e=arguments;return new Promise((function(n,o){var a=r.apply(t,e);function s(t){i(a,n,o,s,c,"next",t)}function c(t){i(a,n,o,s,c,"throw",t)}s(void 0)}))},function(t,e,n){return u.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),p}(n(995).DataPlugin)},484:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){o=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new _(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,s,c){var u=h(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,s,c)}),(function(t){o("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return o("throw",t,s,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return y.prototype=v,i(w,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function i(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)}))}}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}n.r(e),n.d(e,{default:()=>l});var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(p,t);var e,n,r,i,l,f,h=(l=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(l);if(f){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),h.apply(this,arguments)}return e=p,n=[{key:"load",value:(i=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.config.tagId&&(this._elem=document.getElementById(this.config.tagId));case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"write",value:(r=a(o().mark((function t(e,n,r){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.id,this._elem&&(this._elem.innerHTML+="<br/>"+i+" "+r.event);case 2:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),p}(n(995).DataPlugin)},685:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(995);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(){a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,a,s,c){var u=h(t[r],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c)}),(function(t){i("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,c)}))}c(u.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},u.apply(this,arguments)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(w,t);var e,n,o,s,p,d,y,v,g,m,b=(g=w,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(g);if(m){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function w(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,w),b.apply(this,arguments)}return e=w,n=[{key:"isEnabled",value:(v=c(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(h(w.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=6;break}return t.abrupt("return",!1);case 6:if(this.matomoGlobalLoaded=null!==(e=this.config.matomoGlobalLoaded)&&void 0!==e&&e,this.server=this.config.server,this.siteId=this.config.siteId,this.events=this.config.events,this.matomoGlobalLoaded||this.server&&this.siteId){t.next=13;break}return this.player.log.warn("Matomo plugin: Plugin is enabled, but is not configured correctly. Please configue `matomoGlobalLoaded`, `server`and `siteId` parameters."),t.abrupt("return",!1);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"getCurrentUserId",value:(y=c(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return y.apply(this,arguments)})},{key:"trackCustomDimensions",value:(d=c(a().mark((function t(){var e,n,r,o=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTemplateVars();case 2:n=t.sent,r=null!==(e=this.config.customDimensions)&&void 0!==e?e:{};try{Object.entries(r).forEach((function(t){var e,r=function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e)||function(t,e){if(t){if("string"==typeof t)return i(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=r[0],s=r[1],c=o.applyTemplate(s,n);_paq.push(["setCustomDimension",a,c]),o.player.log.debug("Matomo plugin: setting custom dimension id=".concat(a," to '").concat(c,"'"))}))}catch(t){}case 5:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"getTemplateVars",value:(p=c(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getEventData(e),t.abrupt("return",{videoId:this.player._videoId,metadata:this.player.videoManifest.metadata,event:(null==e?void 0:e.event)||"",eventData:n});case 2:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"getEventData",value:function(t){switch(null==t?void 0:t.event){case r.Events.SEEK:return Math.round(t.params.newTime);case r.Events.VOLUME_CHANGED:return 100*t.params.volume;case r.Events.BUTTON_PRESS:case r.Events.SHOW_POPUP:case r.Events.HIDE_POPUP:return t.params.plugin.name;case r.Events.RESIZE_END:return"".concat(t.params.size.w,"x").concat(t.params.size.h);case r.Events.LAYOUT_CHANGED:return t.params.layoutId;case r.Events.PLAYBACK_RATE_CHANGED:return t.params.newPlaybackRate;case r.Events.CAPTIONS_ENABLED:return t.params.language}return""}},{key:"load",value:(s=c(a().mark((function t(){var e,n,o,i,s,c=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.config.heartBeatTime||15,(n=window._paq=window._paq||[]).push(["requireCookieConsent"]),(0,r.bindEvent)(this.player,r.Events.COOKIE_CONSENT_CHANGED,(function(){c.player.log.debug("Matomo: Cookie consent changed."),c.player.cookieConsent.getConsentForType(c.config.cookieType)?n.push(["rememberCookieConsentGiven"]):n.push(["forgetCookieConsentGiven"])})),!this.matomoGlobalLoaded){t.next=11;break}n=window._paq=window._paq||[],this.player.log.debug("Assuming Matomo analytics is initialized globaly."),server&&this.player.log.warn("Matomo plugin: `server` parameter is defined, but never used because Matomo is loaded globaly in the page. Is it an error? Please check it."),siteId&&this.player.log.warn("Matomo plugin: `siteId` parameter is defined, but never used because Matomo is loaded globaly in the page. Is it an error? Please check it."),t.next=22;break;case 11:return o=this.server,i=this.siteId,this.player.log.debug("Matomo analytics plugin enabled."),this.trackCustomDimensions(),t.next=17,this.getCurrentUserId();case 17:(s=t.sent)&&n.push(["setUserId",s]),n.push(["trackPageView"]),n.push(["enableLinkTracking"]),function(){var t=o;n.push(["setTrackerUrl",t+"matomo.php"]),n.push(["setSiteId",i]);var e=document,r=e.createElement("script"),a=e.getElementsByTagName("script")[0];r.type="text/javascript",r.async=!0,r.src=t+"matomo.js",a.parentNode.insertBefore(r,a)}();case 22:n.push(["enableHeartBeatTimer",e]),this.trackCustomDimensions(),(0,r.bindEvent)(this.player,r.Events.STREAM_LOADED,(function(){n.push(["MediaAnalytics::scanForMedia"])}));case 25:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"applyTemplate",value:function(t,e){return t.replace(/\${[^{]*}/g,(function(t){return t.substring(2,t.length-1).split(".").reduce((function(t,e){return t[e]}),e)}))}},{key:"write",value:(o=c(a().mark((function t(e,n,r){var o,i,s,c,u,l,f;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.id,!this.events){t.next=13;break}return o=this.events.category||"PaellaPlayer",i=this.events.action||"${event}",s=this.events.name||"${eventData}",t.next=7,this.getTemplateVars(r);case 7:c=t.sent,u=this.applyTemplate(o,c),l=this.applyTemplate(i,c),f=this.applyTemplate(s,c),_paq.push(["trackEvent",u,l,f]),this.player.log.debug("Matomo plugin: track event category='".concat(u,"', action='").concat(l,"', name='").concat(f,"'"));case 13:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return o.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),w}(r.DataPlugin)},11:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(995);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new _(o||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var p={};function d(){}function y(){}function v(){}var g={};l(g,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(S([])));b&&b!==e&&n.call(b,s)&&(g=b);var w=v.prototype=d.prototype=Object.create(g);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,a,s,c){var u=h(t[r],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,s,c)}),(function(t){i("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,c)}))}c(u.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return y.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function a(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function c(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(d,t);var e,n,o,l,f,h,p=(f=d,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(f);if(h){var n=u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),p.apply(this,arguments)}return e=d,n=[{key:"events",get:function(){return this.config.events?this.config.events.map((function(t){return r.Events[t]})):[r.Events.PLAY,r.Events.PAUSE,r.Events.SEEK,r.Events.STOP,r.Events.ENDED,r.Events.FULLSCREEN_CHANGED,r.Events.VOLUME_CHANGED,r.Events.BUTTON_PRESS,r.Events.RESIZE_END]}},{key:"onEvent",value:(o=i().mark((function t(e,n){var o,a,s,c,u,l,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:switch(a=this.player.videoId,n.plugin&&(s=n.plugin,c=s.name,u=s.config,n.plugin={name:c,config:u}),l={event:e,params:n},e){case r.Events.SHOW_POPUP:case r.Events.HIDE_POPUP:case r.Events.BUTTON_PRESS:l.plugin=(null===(o=n.plugin)||void 0===o?void 0:o.name)||null}return f=this.config.context||"userTracking",t.next=7,this.player.data.write(f,{id:a},l);case 7:case"end":return t.stop()}}),t,this)})),l=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function s(t){a(i,n,r,s,c,"next",t)}function c(t){a(i,n,r,s,c,"throw",t)}s(void 0)}))},function(t,e){return l.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),d}(r.EventLogPlugin)},757:(t,e,n)=>{var r={"./UserTrackingPlugins.js":263,"./es.upv.paella.analytics.userTrackingDataPlugin.js":561,"./es.upv.paella.debug.userTrackingDataPlugin.js":931,"./es.upv.paella.debugTag.userTrackingDataPlugin.js":484,"./es.upv.paella.matomo.userTrackingDataPlugin.js":685,"./es.upv.paella.userEventTracker.js":11};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757},995:e=>{"use strict";e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{"use strict";r.r(o),r.d(o,{DebugUserTrackingDataPlugin:()=>u,GoogleAnalyticsUserTrackingDataPlugin:()=>s,MatomoUserTrackingDataPlugin:()=>c,UserEventTrackerPlugin:()=>l,default:()=>a});var t=r(561),e=r(685),n=r(931),i=r(11);function a(){return r(757)}var s=t.default,c=e.default,u=n.default,l=i.default})(),o})(),t.exports=r(n(351))},76:(t,e,n)=>{var r;self,r=t=>(()=>{var e={194:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var r=n(995);const o=JSON.parse('{"u2":"paella-zoom-plugin","i8":"1.29.0"}');var i={},a=n(456);a.keys().forEach((function(t){var e=/([a-z-]+[A-Z_]+)\.json/.exec(t),n=e&&e[1];if(n){var r=a(t);i[n]=r;var o=n.substring(0,2);o in i||(i[o]=r)}}));const s=i;function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(d,t);var e,n,r,i,a,c,p=(a=d,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(a);if(c){var n=h(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),p.apply(this,arguments)}return e=d,n=[{key:"moduleName",get:function(){return o.u2}},{key:"moduleVersion",get:function(){return o.i8}},{key:"getDictionaries",value:(r=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s);case 1:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){u(i,n,o,a,s,"next",t)}function s(t){u(i,n,o,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),d}(r.PluginModule)},45:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(995),o=n(629),i=n(288),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},l(t,e,n||t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,t);var e,n,r,i,s,c,d,y=(c=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(c);if(d){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,n=[{key:"isEnabled",value:(s=u(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(p(v.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:for(n in e=!1,this._streams=this.player.videoContainer.streamProvider.streams,this._streams)e||(e=this._streams[n].canvas instanceof o.ZoomCanvas);return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(i=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=u(regeneratorRuntime.mark((function t(e,n,r,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r instanceof o.ZoomCanvas&&r.zoomIn();case 1:case"end":return t.stop()}}),t)}))),function(t,e,n,o){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.CanvasButtonPlugin)},147:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(995),o=n(629),i=n(716),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},l(t,e,n||t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,t);var e,n,r,i,s,c,d,y=(c=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(c);if(d){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,n=[{key:"isEnabled",value:(s=u(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(p(v.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:for(n in e=!1,this._streams=this.player.videoContainer.streamProvider.streams,this._streams)e||(e=this._streams[n].canvas instanceof o.ZoomCanvas);return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(i=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=u(regeneratorRuntime.mark((function t(e,n,r,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r instanceof o.ZoomCanvas&&r.zoomOut();case 1:case"end":return t.stop()}}),t)}))),function(t,e,n,o){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.CanvasButtonPlugin)},392:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(995),o=n(629),i=n(288),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},l(t,e,n||t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,t);var e,n,r,i,s,c,d,y=(c=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(c);if(d){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,n=[{key:"getAriaLabel",value:function(){return"Zoom in"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(s=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(p(v.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return this.target=this.config.target,this._canvas=this.player.videoContainer.streamProvider.streams[this.target].canvas,t.abrupt("return",this._canvas instanceof o.ZoomCanvas);case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(i=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._canvas.zoomIn();case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.ButtonPlugin)},410:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var r=n(995),o=n(629),i=n(288),a=n.n(i),s=n(716),c=n.n(s);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t,e,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},h(t,e,n||t)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(g,t);var e,n,r,i,s,u,l,v=(u=g,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(u);if(l){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),v.apply(this,arguments)}return e=g,n=[{key:"getAriaLabel",value:function(){return"Show video zoom options"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(s=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(y(g.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return this._target=this.config.target||"presenter",this._canvas=this.player.videoContainer.streamProvider.streams[this._target].canvas,t.abrupt("return",this._canvas instanceof o.ZoomCanvas);case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(i=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getMenu",value:(r=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{id:"in",title:"Zoom in",icon:this.player.getCustomPluginIcon(this.name,"zoomInIcon")||a()},{id:"out",title:"Zoom out",icon:this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||c()}]);case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"buttonType",get:function(){return"button"}},{key:"showTitles",get:function(){return!1}},{key:"itemSelected",value:function(t){switch(t.id){case"in":this._canvas.zoomIn();break;case"out":this._canvas.zoomOut()}}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),g}(r.MenuButtonPlugin)},426:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(995),o=n(629),i=n(716),a=n.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},l(t,e,n||t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,t);var e,n,r,i,s,c,d,y=(c=v,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(c);if(d){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function v(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),y.apply(this,arguments)}return e=v,n=[{key:"getAriaLabel",value:function(){return"Zoom out"}},{key:"getDescription",value:function(){return this.getAriaLabel()}},{key:"isEnabled",value:(s=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(p(v.prototype),"isEnabled",this).call(this);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return this.target=this.config.target,this._canvas=this.player.videoContainer.streamProvider.streams[this.target].canvas,t.abrupt("return",this._canvas instanceof o.ZoomCanvas);case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"load",value:(i=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.icon=this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||a();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"action",value:(r=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._canvas.zoomOut();case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),v}(r.ButtonPlugin)},629:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ZoomCanvas:()=>b,default:()=>w});var r=n(995),o=n(379),i=n.n(o),a=n(547);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e,n){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},c(t,e,n||t)}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function g(t,e,n){var r={left:t.offsetWidth/2,top:t.offsetHeight/2};e.style.width="".concat(100*n,"%"),e.style.height="".concat(100*n,"%"),e.offsetLeft,e.offsetTop;var o=e.offsetWidth,i=e.offsetHeight,a={left:o/2-r.left,top:i/2-r.top};return 1==n?(e.style.left="0px",e.style.top="0px",a.left=r.left,a.top=r.top):(e.style.left="-".concat(a.left,"px"),e.style.top="-".concat(a.top,"px")),a}function m(t,e,n){var r={left:e.left+n.left,top:e.top+n.top},o=t.parentElement;return t.style.top="-".concat(r.top,"px"),t.offsetHeight+t.offsetTop-o.offsetHeight<0&&(r.top=e.top),t.style.left="-".concat(r.left,"px"),t.offsetWidth+t.offsetLeft-o.offsetWidth<0&&(r.left=e.left),r}i()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var b=function(t){p(i,t);var e,n,o=y(i);function i(t,e,n){var r;return l(this,i),(r=o.call(this,"div",t,e)).config=n,r._maxZoom=r.config.maxZoom||4,r._showButtons=void 0===r.config.showButtons||r.config.showButtons,r}return h(i,[{key:"loadCanvas",value:(e=regeneratorRuntime.mark((function t(e){var n,o,i,a,s,c,u,l,f=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.currentZoom=1,this._videoPlayer=e,e.element.style.width="100%",e.element.style.height="100%",e.element.style.position="absolute",e.element.style.top="0",e.element.style.left="0",this.element.style.overflow="hidden",this.element.style.position="relative",n=function(t){if(t.stopPropagation(),t.altKey){f.hideAltKeyMessage();var e=void 0!==t.deltaY?.1*t.deltaY:4*t.detail,n=f.currentZoom+-.01*e;n>1&&n<=f._maxZoom?(f.currentZoom=n,f._playerCenter=g(f.element,f._videoPlayer.element,f.currentZoom)):n<=1&&(f.currentZoom=1,f._playerCenter=g(f.element,f._videoPlayer.element,f.currentZoom)),t.preventDefault()}else f.showAltKeyMessage()},this.element.addEventListener("DOMMouseScroll",n),this.element.addEventListener("mousewheel",n),o=!1,i=!1,a=null,s=function(){return o=!0},c=function(){return o=!1},u=function(t){i&&(t.stopPropagation(),t.preventDefault())},this.element.addEventListener("mousedown",s),this.element.addEventListener("mouseleave",c),this.element.addEventListener("mouseup",c),this.element.addEventListener("click",u),this.element.addEventListener("mouseup",u),this.element.addEventListener("mousemove",(function(t){if(o&&f._playerCenter){null===a&&(a={left:t.clientX,top:t.clientY}),i=!0;var e={left:a.left-t.clientX,top:a.top-t.clientY};1==f.currentZoom?f._playerCenter={left:0,top:0}:f._playerCenter=m(f._videoPlayer.element,f._playerCenter,e),a={left:t.clientX,top:t.clientY}}else i=!1,a=null})),l=this.player.translate("Use Alt+Scroll to zoom"),this._zoomMessage=(0,r.createElementWithHtmlText)('\n            <div class="zoom-message">'.concat(l,"</div>\n        "),this.element),this._zoomMessage.style.display="none";case 27:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})},{key:"showAltKeyMessage",value:function(){var t=this;this._hideTimeout&&clearTimeout(this._hideTimeout),this._zoomMessage.style.display="",this._hideTimeout=setTimeout((function(){t.hideAltKeyMessage()}),2e3)}},{key:"hideAltKeyMessage",value:function(){this._zoomMessage.style.display="none",this._hideTimeout=null}},{key:"zoomIn",value:function(){var t=1.1*this.currentZoom;t<this._maxZoom&&(this.currentZoom=t,this._playerCenter=g(this.element,this._videoPlayer.element,this.currentZoom))}},{key:"zoomOut",value:function(){var t=.9*this.currentZoom;t>=1&&(this.currentZoom=t,this._playerCenter=g(this.element,this._videoPlayer.element,this.currentZoom))}}]),i}(r.Canvas),w=function(t){p(n,t);var e=y(n);function n(){return l(this,n),e.apply(this,arguments)}return h(n,[{key:"canvasType",get:function(){return"video"}},{key:"isCompatible",value:function(t){return!Array.isArray(t.canvas)||0===t.canvas.length||c(v(n.prototype),"isCompatible",this).call(this,t)}},{key:"getCanvasInstance",value:function(t){return new b(this.player,t,this.config)}}]),n}(r.CanvasPlugin)},547:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(15),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,".zoom-message {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: rgba(0, 0, 0, 0.5);\n    pointer-events: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n}\n\n.zoom-buttons {\n    position: absolute;\n    top: 2px;\n    left: 0px;\n    right: 0px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.zoom-buttons button {\n    margin: 2px;\n    opacity: 0.4;\n    padding: 0;\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.zoom-buttons button:hover {\n    opacity: 1;\n}","",{version:3,sources:["webpack://./src/styles/zoom.css"],names:[],mappings:"AAAA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,WAAW;IACX,oCAAoC;IACpC,oBAAoB;IACpB,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;IACV,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,UAAU;IACV,WAAW;IACX,YAAY;IACZ,cAAc;AAClB;;AAEA;IACI,UAAU;AACd",sourcesContent:[".zoom-message {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: rgba(0, 0, 0, 0.5);\n    pointer-events: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n}\n\n.zoom-buttons {\n    position: absolute;\n    top: 2px;\n    left: 0px;\n    right: 0px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.zoom-buttons button {\n    margin: 2px;\n    opacity: 0.4;\n    padding: 0;\n    width: 20px;\n    height: 20px;\n    display: block;\n}\n\n.zoom-buttons button:hover {\n    opacity: 1;\n}"],sourceRoot:""}]);const s=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},15:t=>{"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r=function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),4!==n.length);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,4);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,4):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[1],i=r[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),c="/*# ".concat(s," */"),u=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([c]).join("\n")}return[o].join("\n")}},379:(t,e,n)=>{"use strict";var r,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function a(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],o=0;o<t.length;o++){var s=t[o],c=e.base?s[0]+e.base:s[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var f=a(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(i[f].references++,i[f].updater(h)):i.push({identifier:l,updater:y(h,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function f(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function h(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function y(t,e){var n,r,o;if(e.singleton){var i=d++;n=p||(p=c(e)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=c(e),r=h.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var c=s(t,e),u=0;u<n.length;u++){var l=a(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=c}}}},288:t=>{t.exports='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M17.094,18.048C15.976,18.956 14.551,19.5 13,19.5C9.413,19.5 6.5,16.587 6.5,13C6.5,9.413 9.413,6.5 13,6.5C16.587,6.5 19.5,9.413 19.5,13C19.5,14.522 18.976,15.923 18.098,17.031L19.553,18.487C20.094,17.958 20.962,17.962 21.498,18.498L25.522,22.522C26.062,23.062 26.062,23.938 25.522,24.478L24.519,25.481C23.98,26.02 23.103,26.02 22.563,25.481L18.539,21.457C18,20.917 18,20.041 18.539,19.501L18.543,19.497L17.094,18.048ZM13,8C15.76,8 18,10.24 18,13C18,15.76 15.76,18 13,18C10.24,18 8,15.76 8,13C8,10.24 10.24,8 13,8ZM13.927,11.886L15.927,11.886L15.927,13.886L13.927,13.886L13.927,15.886L11.927,15.886L11.927,13.886L9.927,13.886L9.927,11.886L11.927,11.886L11.927,9.886L13.927,9.886L13.927,11.886Z"></path></svg>'},716:t=>{t.exports='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M17.094,18.048C15.976,18.956 14.551,19.5 13,19.5C9.413,19.5 6.5,16.587 6.5,13C6.5,9.413 9.413,6.5 13,6.5C16.587,6.5 19.5,9.413 19.5,13C19.5,14.522 18.976,15.923 18.098,17.031L19.553,18.487C20.094,17.958 20.962,17.962 21.498,18.498L25.522,22.522C26.062,23.062 26.062,23.938 25.522,24.478L24.519,25.481C23.98,26.02 23.103,26.02 22.563,25.481L18.539,21.457C18,20.917 18,20.041 18.539,19.501L18.543,19.497L17.094,18.048ZM13,8C15.76,8 18,10.24 18,13C18,15.76 15.76,18 13,18C10.24,18 8,15.76 8,13C8,10.24 10.24,8 13,8ZM9.927,11.886L15.927,11.886L15.927,13.886L9.927,13.886L9.927,11.886Z"></path></svg>'},456:(t,e,n)=>{var r={"./en-US.json":263,"./es-ES.json":992};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=456},757:(t,e,n)=>{var r={"./ZoomPluginsModule.js":194,"./es.upv.paella.canvasZoomInButtonPlugin.js":45,"./es.upv.paella.canvasZoomOutButtonPlugin.js":147,"./es.upv.paella.zoomInButtonPlugin.js":392,"./es.upv.paella.zoomMenuButtonPlugin.js":410,"./es.upv.paella.zoomOutButtonPlugin.js":426,"./es.upv.paella.zoomPlugin.js":629};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=757},995:e=>{"use strict";e.exports=t},263:t=>{"use strict";t.exports=JSON.parse('{"Zoom in":"Zoom in","Zoom out":"Zoom out","Show video zoom options":"Show video zoom options","Use Alt+Scroll to zoom":"Use Alt+Scroll to zoom"}')},992:t=>{"use strict";t.exports=JSON.parse('{"Zoom in":"Ampliar zoom del vídeo","Zoom out":"Reducir zoom de vídeo","Show video zoom options":"Mostrar opciones de zoom de vídeo","Use Alt+Scroll to zoom":"Usar Alt+Desplazamiento para hacer zoom"}')}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nc=void 0;var o={};return(()=>{"use strict";r.r(o),r.d(o,{CanvasZoomInButtonPlugin:()=>p,CanvasZoomOutButtonPlugin:()=>d,ZoomCanvasPlugin:()=>u,ZoomInButtonPlugin:()=>l,ZoomMenuButtonPlugin:()=>h,ZoomOutButtonPlugin:()=>f,default:()=>c});var t=r(629),e=r(392),n=r(426),i=r(410),a=r(45),s=r(147);function c(){return r(757)}var u=t.default,l=e.default,f=n.default,h=i.default,p=a.default,d=s.default})(),o})(),t.exports=r(n(351))},380:t=>{t.exports='<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" fill="#000000" stroke="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M472,64H40A24.028,24.028,0,0,0,16,88V424a24.028,24.028,0,0,0,24,24H472a24.028,24.028,0,0,0,24-24V88A24.028,24.028,0,0,0,472,64Zm-8,352H48V96H464Z" class="ci-primary"></path><path d="M184,344a87.108,87.108,0,0,0,54.484-18.891L218.659,299.99A55.41,55.41,0,0,1,184,312a56,56,0,0,1,0-112,55.41,55.41,0,0,1,34.659,12.01l19.825-25.119A87.108,87.108,0,0,0,184,168a88,88,0,0,0,0,176Z" class="ci-primary"></path><path d="M347.429,344a87.108,87.108,0,0,0,54.484-18.891L382.088,299.99A55.414,55.414,0,0,1,347.429,312a56,56,0,0,1,0-112,55.414,55.414,0,0,1,34.659,12.01l19.825-25.119A87.108,87.108,0,0,0,347.429,168a88,88,0,0,0,0,176Z" class="ci-primary"></path></g></svg>'},643:t=>{t.exports='<svg viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="Mesa-de-trabajo1" serif:id="Mesa de trabajo1" transform="matrix(0.125,0,0,0.125,0,0)"><rect x="0" y="0" width="512" height="512" style="fill:none;"></rect><clipPath id="_clip1"><rect x="0" y="0" width="512" height="512"></rect></clipPath><g clip-path="url(#_clip1)"><path id="fullscreenIcon-2" serif:id="fullscreenIcon 2" d="M483.999,310.017L483.999,398.122C483.999,405.72 477.839,411.879 470.241,411.88L392.268,411.88L392.268,440.665L482.357,440.665C498.728,440.665 512,427.393 512,411.021L512,310.017L483.999,310.017ZM28.001,310.017L-0,310.017L0,411.021C0,427.393 13.272,440.665 29.643,440.665L119.732,440.665L119.732,411.88L41.759,411.88C34.161,411.879 28.001,405.72 28.001,398.122L28.001,310.017ZM28.001,186.292L28.001,113.878C28.001,106.28 34.161,100.121 41.759,100.12L119.732,100.12L119.732,71.335L29.643,71.335C13.272,71.335 0,84.607 -0,100.979L-0,186.292L28.001,186.292ZM392.268,100.12L470.241,100.12C477.839,100.121 483.999,106.28 483.999,113.878L483.999,186.292L512,186.292L512,100.979C512,84.607 498.728,71.335 482.357,71.335L392.268,71.335L392.268,100.12Z"></path></g></g></svg>'},752:t=>{t.exports='<svg fill="#000000" viewBox="-5.5 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>pause</title><path d="M0 6.563v18.875c0 0.531 0.438 0.969 0.969 0.969h6.625c0.5 0 0.906-0.438 0.906-0.969v-18.875c0-0.531-0.406-0.969-0.906-0.969h-6.625c-0.531 0-0.969 0.438-0.969 0.969zM12.281 6.563v18.875c0 0.531 0.438 0.969 0.938 0.969h6.625c0.531 0 0.969-0.438 0.969-0.969v-18.875c0-0.531-0.438-0.969-0.969-0.969h-6.625c-0.5 0-0.938 0.438-0.938 0.969z"></path></svg>'},372:t=>{t.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.286 3.407A1.5 1.5 0 0 0 6 4.684v14.632a1.5 1.5 0 0 0 2.286 1.277l11.888-7.316a1.5 1.5 0 0 0 0-2.555L8.286 3.407z"></path></svg>'},506:t=>{t.exports='<svg fill="#000000" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12,5 L12,19 C12,19.8909049 10.9228581,20.3370716 10.2928932,19.7071068 L6.58578644,16 L3,16 C2.44771525,16 2,15.5522847 2,15 L2,9 C2,8.44771525 2.44771525,8 3,8 L6.58578644,8 L10.2928932,4.29289322 C10.9228581,3.66292836 12,4.10909515 12,5 Z M16.1198386,4.52532541 C16.3819942,4.03922571 16.9885749,3.85768309 17.4746746,4.11983863 C20.2320423,5.60689822 22,8.63901463 22,12 C22,15.3609854 20.2320423,18.3931018 17.4746746,19.8801614 C16.9885749,20.1423169 16.3819942,19.9607743 16.1198386,19.4746746 C15.8576831,18.9885749 16.0392257,18.3819942 16.5253254,18.1198386 C18.6284873,16.9855949 20,14.6333971 20,12 C20,9.36660286 18.6284873,7.01440511 16.5253254,5.88016137 C16.0392257,5.61800583 15.8576831,5.01142511 16.1198386,4.52532541 Z M10,7.41421356 L7.70710678,9.70710678 C7.5195704,9.89464316 7.26521649,10 7,10 L4,10 L4,14 L7,14 C7.26521649,14 7.5195704,14.1053568 7.70710678,14.2928932 L10,16.5857864 L10,7.41421356 Z M14.0922902,8.58040151 C14.324028,8.07908722 14.9182842,7.86055234 15.4195985,8.09229019 C16.9789865,8.81313383 18,10.3140579 18,12 C18,13.6859421 16.9789865,15.1868662 15.4195985,15.9077098 C14.9182842,16.1394477 14.324028,15.9209128 14.0922902,15.4195985 C13.8605523,14.9182842 14.0790872,14.324028 14.5804015,14.0922902 C15.4512784,13.6897181 16,12.8830789 16,12 C16,11.1169211 15.4512784,10.3102819 14.5804015,9.90770981 C14.0790872,9.67597196 13.8605523,9.08171579 14.0922902,8.58040151 Z"></path></svg>'},978:t=>{t.exports='<svg fill="#000000" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12,5 L12,19 C12,19.8909049 10.9228581,20.3370716 10.2928932,19.7071068 L6.58578644,16 L3,16 C2.44771525,16 2,15.5522847 2,15 L2,9 C2,8.44771525 2.44771525,8 3,8 L6.58578644,8 L10.2928932,4.29289322 C10.9228581,3.66292836 12,4.10909515 12,5 Z M10,7.41421356 L7.70710678,9.70710678 C7.5195704,9.89464316 7.26521649,10 7,10 L4,10 L4,14 L7,14 C7.26521649,14 7.5195704,14.1053568 7.70710678,14.2928932 L10,16.5857864 L10,7.41421356 Z M14.0922902,8.58040151 C14.324028,8.07908722 14.9182842,7.86055234 15.4195985,8.09229019 C16.9789865,8.81313383 18,10.3140579 18,12 C18,13.6859421 16.9789865,15.1868662 15.4195985,15.9077098 C14.9182842,16.1394477 14.324028,15.9209128 14.0922902,15.4195985 C13.8605523,14.9182842 14.0790872,14.324028 14.5804015,14.0922902 C15.4512784,13.6897181 16,12.8830789 16,12 C16,11.1169211 15.4512784,10.3102819 14.5804015,9.90770981 C14.0790872,9.67597196 13.8605523,9.08171579 14.0922902,8.58040151 Z"></path></svg>'},704:t=>{t.exports='<svg fill="#000000" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12,5 L12,19 C12,19.8909049 10.9228581,20.3370716 10.2928932,19.7071068 L6.58578644,16 L3,16 C2.44771525,16 2,15.5522847 2,15 L2,9 C2,8.44771525 2.44771525,8 3,8 L6.58578644,8 L10.2928932,4.29289322 C10.9228581,3.66292836 12,4.10909515 12,5 Z M15.1104725,6.54311832 C15.3628013,6.05184586 15.9656092,5.85814374 16.4568817,6.11047253 C18.6126235,7.2177109 20,9.48381075 20,12 C20,14.5161892 18.6126235,16.7822891 16.4568817,17.8895275 C15.9656092,18.1418563 15.3628013,17.9481541 15.1104725,17.4568817 C14.8581437,16.9656092 15.0518459,16.3628013 15.5431183,16.1104725 C17.0327738,15.3453514 18,13.7655125 18,12 C18,10.2344875 17.0327738,8.65464862 15.5431183,7.88952747 C15.0518459,7.63719869 14.8581437,7.03439078 15.1104725,6.54311832 Z M10,7.41421356 L10,16.5857864 L7.70710678,14.2928932 C7.55082647,14.1366129 7.34814508,14.0374017 7.13144398,14.0086724 L7,14 L4,14 L4,10 L7,10 C7.22101374,10 7.43448403,9.92683553 7.60802951,9.79391937 L7.70710678,9.70710678 L10,7.41421356 Z"></path></svg>'},928:t=>{t.exports='<svg fill="#000000" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12,5 L12,19 C12,19.8909049 10.9228581,20.3370716 10.2928932,19.7071068 L6.58578644,16 L3,16 C2.44771525,16 2,15.5522847 2,15 L2,9 C2,8.44771525 2.44771525,8 3,8 L6.58578644,8 L10.2928932,4.29289322 C10.9228581,3.66292836 12,4.10909515 12,5 Z M10,7.41421356 L7.70710678,9.70710678 C7.5195704,9.89464316 7.26521649,10 7,10 L4,10 L4,14 L7,14 C7.26521649,14 7.5195704,14.1053568 7.70710678,14.2928932 L10,16.5857864 L10,7.41421356 Z M15.7071068,8.29289322 L18,10.585 L20.2928932,8.29289322 C20.6533772,7.93240926 21.2206082,7.90467972 21.6128994,8.20970461 L21.7071068,8.29289322 C22.0675907,8.65337718 22.0953203,9.22060824 21.7902954,9.61289944 L21.7071068,9.70710678 L19.415,12 L21.7071068,14.2928932 C22.0976311,14.6834175 22.0976311,15.3165825 21.7071068,15.7071068 C21.3165825,16.0976311 20.6834175,16.0976311 20.2928932,15.7071068 L18,13.415 L15.7071068,15.7071068 C15.3466228,16.0675907 14.7793918,16.0953203 14.3871006,15.7902954 L14.2928932,15.7071068 C13.9324093,15.3466228 13.9046797,14.7793918 14.2097046,14.3871006 L14.2928932,14.2928932 L16.585,12 L14.2928932,9.70710678 C13.9023689,9.31658249 13.9023689,8.68341751 14.2928932,8.29289322 C14.6834175,7.90236893 15.3165825,7.90236893 15.7071068,8.29289322 Z"></path></svg>'}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(351),e=n(465),r=n.n(e),o=n(646),i=n.n(o),a=n(76),s=n.n(a),c=n(109),u=n.n(c),l=n(509),f=n.n(l),h=n(643),p=n.n(h),d=n(380),y=n.n(d),v=n(372),g=n.n(v),m=n(752),b=n.n(m),w=n(506),A=n.n(w),x=n(978),E=n.n(x),C=n(704),k=n.n(C),L=n(928),_=n.n(L);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===S(o)?o:String(o)),r)}var o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},P.apply(this,arguments)}function R(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function B(){B=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:A(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==e&&n.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var c=l(t[r],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==S(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function A(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=d,r(m,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=c(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function D(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function N(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){D(i,r,o,a,s,"next",t)}function s(t){D(i,r,o,a,s,"throw",t)}a(void 0)}))}}window.onload=N(B().mark((function e(){var n,o,a,c,l,h,d,v,m,w;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.location.href,o=-1!==n.search("playlist")?t.utils.getUrlParameter("videoId"):location.pathname.split("/").slice(-1)[0],a=!1,c=!1,l=!1,h=!1,d=!1,v={loadVideoManifest:function(){var e=N(B().mark((function e(n,r,o){var i;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,t.defaultLoadVideoManifestFunction)(n,r,o);case 2:if(i=e.sent,h=void 0!==i.intro,d=void 0!==i.tail,!h||l||c){e.next=12;break}return n=i.intro,a=!0,e.next=11,(0,t.defaultLoadVideoManifestFunction)(n,r,o);case 11:case 16:return e.abrupt("return",e.sent);case 12:if(!d||!c){e.next=17;break}return n=i.tail,e.next=16,(0,t.defaultLoadVideoManifestFunction)(n,r,o);case 17:return l=!0,e.abrupt("return",i);case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),customPluginContext:[r()(),i()(),s()(),u()(),f()()],configResourcesUrl:"/paella/",configUrl:"/paella/config.json?configID="+o,repositoryUrl:"/paellarepository/",getVideoId:function(t,e){return location.pathname.split("/").slice(-1)[0]},getManifestUrl:function(e,n){var r=window.location.href;return-1!==r.search("playlist")&&-1!==r.search("secret")?(console.log("is secret playlist"),"/secret/paellaplaylist/"+t.utils.getUrlParameter("playlistId")+"?videoPos="+t.utils.getUrlParameter("videoPos")):-1!==r.search("playlist")?(console.log("is playlist"),"/paellaplaylist/"+t.utils.getUrlParameter("playlistId")+"?videoPos="+t.utils.getUrlParameter("videoPos")):-1!==r.search("secret")?(console.log("is secret"),"/secret"+"".concat(e).concat(n)):(console.log("no secret, no playlist"),"".concat(e).concat(n))},getManifestFileUrl:function(t){return t}},m=function(t){R(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=j(r);if(o){var n=j(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return O(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"version",get:function(){return{player:"1.0.1",coreLibrary:P(j(a.prototype),"version",this),pluginModules:this.pluginModules.map((function(t){return"".concat(t.moduleName,": ").concat(t.moduleVersion)}))}}}])&&T(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(t.Paella),w=new m("player-container",v),e.prev=11,e.next=14,w.loadManifest().then((function(){w.addCustomPluginIcon("es.upv.paella.playPauseButton","play",g()),w.addCustomPluginIcon("es.upv.paella.playPauseButton","pause",b()),w.addCustomPluginIcon("es.upv.paella.fullscreenButton","fullscreenIcon",p()),w.addCustomPluginIcon("es.upv.paella.fullscreenButton","windowedIcon",p()),w.addCustomPluginIcon("es.upv.paella.captionsSelectorPlugin","captionsIcon",y()),w.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin","volumeHighIcon",A()),w.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin","volumeLowIcon",E()),w.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin","volumeMidIcon",k()),w.addCustomPluginIcon("es.upv.paella.volumeButtonPlugin","volumeMuteIcon",_())}));case 14:return e.next=16,t.utils.loadStyle("src/style.css");case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),console.error(e.t0);case 21:w.bindEvent(t.Events.ENDED,N(B().mark((function t(){return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}return a=!1,l=!0,c=!1,t.next=6,w.reload();case 6:return t.next=8,w.play();case 8:case 18:return t.abrupt("return");case 9:if(!l){t.next=19;break}return a=!d,c=d,l=!1,t.next=15,w.reload();case 15:if(!c){t.next=18;break}return t.next=18,w.play();case 19:if(!c){t.next=25;break}return a=h,l=!h,c=!1,t.next=25,w.reload();case 25:case"end":return t.stop()}}),t)}))),!1),w.bindEvent(t.Events.PLAYER_LOADED,N(B().mark((function e(){var n,r;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.utils.getHashParameter("time")||t.utils.getUrlParameter("time"))){e.next=5;break}return r=t.utils.timeToSeconds(n),e.next=5,w.videoContainer.setCurrentTime(r);case 5:case"end":return e.stop()}}),e)}))));case 23:case"end":return e.stop()}}),e,null,[[11,18]])})))})()})();
//# sourceMappingURL=teltek-paella-player.js.map